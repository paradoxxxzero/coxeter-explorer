import{r as l,d as B,c as ce,a as ae,b as le,s as $,m as U,x as D,e as L,P as K,h as ie,u as de,f as pe,g as ue,i as H,p as R,j as he,k as me,l as fe,n as ge,o as xe,q as W,t as r,v as _,w as se,C as be,y as je,N as A,z as ve,A as G,B as we,D as ye,E as Oe,F as ke,G as ne,H as Ee,I as Ce,J as Fe,K as Te,L as Se}from"./CoxeterDiagram-530bb8d0.js";class Ne extends l.Component{componentDidCatch(a,s){this.props.onError(a,s)}render(){return this.props.error?null:this.props.children}}const Q=.95,Z=25,F=(e,a,s,n,c,t,o)=>{$(c,U(D(e,s*2+1,n.combinations,t,o),c)),$(c,U(D(a,s*2,n.combinations,t,o),c))},Ae=(e,a,s,n,c,t)=>{const{code:o}=e,h=.01;if(!(e.altKey||e.ctrlKey||e.metaKey)){if(o==="ArrowLeft"||o==="KeyA")F(-h,0,0,a,s,n,c);else if(o==="ArrowRight"||o==="KeyD")F(h,0,0,a,s,n,c);else if(o==="ArrowUp"||o==="KeyW")F(0,-h,1,a,s,n,c);else if(o==="ArrowDown"||o==="KeyS")F(0,h,1,a,s,n,c);else if(o==="PageUp"||o==="KeyQ")F(-h,0,2,a,s,n,c);else if(o==="PageDown"||o==="KeyE")F(h,0,2,a,s,n,c);else if(o==="Digit1")F(0,-h,2,a,s,n,c);else if(o==="Digit3")F(0,h,2,a,s,n,c);else if(o==="KeyZ")F(-h,0,3,a,s,n,c);else if(o==="KeyC")F(h,0,3,a,s,n,c);else if(o==="ControlLeft")t("shift",(a.shift+1)%a.maxShift);else return;return!0}},Le=(e,a,s,n)=>{const c=l.useCallback(B(p=>n({matrix:p}),100),[]),t=l.useCallback(p=>n({matrix:p}),[]),o=l.useCallback(B(p=>n({zoom:p}),100),[]),h=l.useRef(null),m=l.useRef({pause:new Set,speed:null}),u=l.useRef(e.matrix.map(p=>p.slice()));l.useEffect(()=>{u.current=e.matrix.map(p=>p.slice())},[e.matrix]);const x=l.useCallback(()=>{const p=["vertex","edge","face"];for(let b=0;b<p.length;b++)e.meshes[p[b]].uniforms.matrix.update(ce(u.current))},[e.ambiance,e.camera,e.centered,e.coxeter,e.curvature,e.curve,e.dimensions,e.easing,e.edgeThickness,e.error,e.fov3,e.fov4,e.fov5,e.fov6,e.fov7,e.fov8,e.fov9,e.grouper,e.msaa,e.msaaSamples,e.projection,e.renderError,e.segments,e.showEdges,e.showFaces,e.showVertices,e.spaceType,e.stellation,e.subsampling,e.vertexThickness,e.zoom]);l.useEffect(()=>{m.current.speed=new Array(a.combinations.length).fill(0)},[a.combinations]),l.useEffect(()=>{ae(e.matrix)&&(m.current.speed=new Array(a.combinations.length).fill(0))},[a.combinations.length,e.matrix]),l.useEffect(()=>{const p=()=>{const{pause:b,speed:y}=m.current;let E=!1;for(let k=0;k<y.length;k++)y[k]!==0&&(E=!0,a.auto==="damp"&&(y[k]*=.96,le(y[k])<1e-4&&(y[k]=0,t(u.current))),(a.auto!=="damp"||!b.has(k))&&$(u.current,U(D(y[k],k,a.combinations,e.dimensions,e.curvature),u.current)));E&&(x(),L(e)),h.current!==null&&(h.current=requestAnimationFrame(p))};return a.auto&&(h.current=requestAnimationFrame(p)),()=>{h.current&&(cancelAnimationFrame(h.current),h.current=null),t(u.current)}},[a.auto,a.combinations,e.dimensions,e.curvature,t,x]),l.useEffect(()=>{e.camera.position[2]=-e.zoom,e.camera.update(),e.meshes.updateUniforms(e,!0)},[e.camera,e.zoom]),l.useEffect(()=>{const p=new Map;let b=null,y=null;const E=()=>{const d=p.values(),j=d.next().value,O=d.next().value;return ie(j[0]-O[0],j[1]-O[1])},k=d=>{d.button!==0||d.target.tagName!=="CANVAS"||(a.auto&&(y=performance.now(),m.current.pause.add(a.shift*2),m.current.pause.add(a.shift*2+1),m.current.speed[a.shift*2]=0,m.current.speed[a.shift*2+1]=0),p.set(d.pointerId,[d.clientX,d.clientY]))},I=d=>{if(!p.has(d.pointerId))return;let j=p.get(d.pointerId);const O=[-(d.clientX-j[0])/window.innerHeight,-(d.clientY-j[1])/window.innerHeight];if(a.auto){const S=performance.now(),T=S-y;y=S;const P=[Z*O[0]/T,Z*O[1]/T];m.current.speed[a.shift*2]=P[1],m.current.speed[a.shift*2+1]=P[0]}if(p.set(d.pointerId,[d.clientX,d.clientY]),p.size===2){if(b===null){b=E();return}const S=E();e.camera.position[2]*=b/S,e.camera.update(),e.meshes.updateUniforms(e,!0),b=S,L(e),o(-e.camera.position[2]);return}let C=a.shift;!C&&d.shiftKey?C=1:!C&&d.altKey?C=2:!C&&d.ctrKey?C=3:!C&&d.metaKey&&(C=4),p.size>2&&(C+=p.size-2),F(K*O[0],K*O[1],C,{combinations:a.combinations,auto:a.auto,shift:a.shift},u.current,e.dimensions,e.curvature),x(),c(u.current)},V=d=>{p.has(d.pointerId)&&(a.auto&&(performance.now()-y>100?(m.current.speed[a.shift*2]=0,m.current.speed[a.shift*2+1]=0):a.auto==="free"&&(m.current.speed[a.shift*2]*=.5,m.current.speed[a.shift*2+1]*=.5),m.current.pause.delete(a.shift*2),m.current.pause.delete(a.shift*2+1)),b=null,p.delete(d.pointerId))};return document.addEventListener("pointerdown",k),document.addEventListener("pointermove",I),document.addEventListener("pointerup",V),()=>{document.removeEventListener("pointerdown",k),document.removeEventListener("pointermove",I),document.removeEventListener("pointerup",V)}},[a.auto,a.combinations,a.shift,e.dimensions,e.curvature,e.camera,x,c,o]),l.useEffect(()=>{const p=b=>{b.target===document.body&&Ae(b,a,u.current,e.dimensions,e.curvature,s)&&(x(),c(u.current))};return document.addEventListener("keydown",p),()=>document.removeEventListener("keydown",p)},[x,a,e.curvature,e.dimensions,s,c]),l.useEffect(()=>{const p=b=>{b.target.tagName==="CANVAS"&&(e.camera.position[2]*=b.deltaY<0?Q:1/Q,e.camera.update(),e.meshes.updateUniforms(e,!0),L(e),o(-e.camera.position[2]))};return document.addEventListener("wheel",p),()=>{document.removeEventListener("wheel",p)}},[e,o]),l.useEffect(()=>{const p=b=>{if(b.button!==0||b.target.tagName!=="CANVAS")return;const y=-e.camera.position[2],E=y<.5?5:y<2?.25:1;e.camera.position[2]=-E,e.camera.update(),e.meshes.updateUniforms(e,!0),L(e),o(E)};return document.addEventListener("dblclick",p),()=>{document.removeEventListener("dblclick",p)}},[e,o])};function Ie({runtime:e,rotations:a,updateRotations:s,updateParams:n}){return Le(e,a,s,n),null}const Ve=(e,a)=>{l.useEffect(()=>{a(s=>(de(s),s))},[e.fov3,e.camera,a]),l.useEffect(()=>{a(s=>(s.meshes.updateGeometries(s),s))},[e.curvature,e.curve,e.segments,a]),l.useEffect(()=>{a(s=>(s.meshes.changeArity(s.dimensions),s))},[e.dimensions,a]),l.useEffect(()=>{a(s=>(pe(s),s))},[e.ambiance,e.msaa,e.msaaSamples,a]),l.useEffect(()=>{a(s=>(ue(s),s))},[e.ambiance,e.msaa,e.msaaSamples,a]),l.useEffect(()=>{a(s=>(H(s,"vertex"),H(s,"edge"),H(s,"face"),s))},[e.showVertices,e.showEdges,e.showFaces,a]),l.useEffect(()=>{a(s=>{if(!(s.currentOrder<0))try{return R(s,s.currentOrder-1),s}catch(n){return console.error(n),{...s,error:n.message}}})},[e.currentOrder,e.edge,e.face,e.ranges,e.showEdges,e.showFaces,e.showVertices,e.vertex,a]),l.useEffect(()=>{a(s=>(s.meshes.recompilePrograms(s),s))},[e.ambiance,e.dimensions,e.easing,e.projection3,e.projection4,e.projection5,e.projection6,e.projection7,e.projection8,e.projection9,e.spaceType,a]),l.useEffect(()=>{a(s=>{try{return R(s),s}catch(n){return console.error(n),{...s,error:n.message}}})},[e.ambiance,e.showEdges,e.showFaces,e.showVertices,a]),l.useEffect(()=>{a(s=>(s.meshes.updateUniforms(s),s))},[e.ambiance,e.ambiance,e.curvature,e.curve,e.dimensions,e.easing,e.edgeThickness,e.fov4,e.fov5,e.fov6,e.fov7,e.fov8,e.fov9,e.matrix,e.projection3,e.projection4,e.projection5,e.projection6,e.projection7,e.projection8,e.projection9,e.segments,e.spaceType,e.vertexThickness,a]),l.useEffect(()=>{const s=new ResizeObserver(()=>{L(e)});return s.observe(e.gl.canvas,{box:"content-box"}),()=>s.disconnect()},[e.ambiance,e.camera,e.centered,e.coxeter,e.currentOrder,e.curvature,e.curve,e.dimensions,e.easing,e.edge,e.edgeThickness,e.error,e.face,e.fov3,e.fov4,e.fov5,e.fov6,e.fov7,e.fov8,e.fov9,e.grouper,e.matrix,e.msaa,e.msaaSamples,e.projection3,e.projection4,e.projection5,e.projection6,e.projection7,e.projection8,e.projection9,e.ranges,e.renderError,e.segments,e.showEdges,e.showFaces,e.showVertices,e.spaceType,e.stellation,e.subsampling,e.vertexThickness,e.vertex,e.zoom])};function Pe({runtime:e,setRuntime:a}){return Ve(e,a),null}function He(){return new Worker(""+new URL("knuthbendix-tiling.worker-1b7c2eb1.js",import.meta.url).href)}function ze(){return new Worker(""+new URL("toddcoxeter-tiling.worker-816216a1.js",import.meta.url).href)}function Be(){return new Worker(""+new URL("fundamental.worker-fbe41bd7.js",import.meta.url).href)}let z=class oe{constructor(a,s){this.workerClass=s,this.name=a,this.init(),this.times={}}static uuid4(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,a=>{const s=Math.random()*16|0;return(a==="x"?s:s&3|8).toString(16)})}init(){this.processing=0,this.worker=new this.workerClass}kill(){this.processing>0&&(console.debug(`Killing worker ${this.name} (${this.processing})`),this.worker.terminate(),this.init())}process(a){return a.uuid=oe.uuid4(),this.processing++,this.times[a.uuid]=performance.now(),this.worker.postMessage(a),new Promise((s,n)=>{const c=o=>{if(o.data.uuid!==a.uuid)return;const h=performance.now()-this.times[a.uuid];if(delete this.times[a.uuid],console.debug(`Worker ${this.name} took ${h}ms`),this.processing--,this.worker.removeEventListener("message",c),this.worker.removeEventListener("error",t),o.data.error){n(o.data.error);return}s(o.data)},t=o=>{this.worker.removeEventListener("message",c),this.worker.removeEventListener("error",t),!(this.processing<=0)&&(delete this.times[a.uuid],this.processing--,this.processing=he(0,this.processing),console.error(`Can't call web worker ${this.name}`,o))};this.worker.addEventListener("message",c),this.worker.addEventListener("error",t)})}};const $e=()=>Object.values(te).filter(e=>e.processing>0).forEach(e=>e.kill()),te={knuthbendix:new z("knuthbendix",He),toddcoxeter:new z("toddcoxeter",ze),fundamental:new z("toddcoxeter",Be)},Y=async(e,a,s)=>{const n=te[e.grouper.replace(/^auto-/,"")];if(e.currentOrder===0&&($e(),a.current=!1),a.current===e.currentOrder){console.log("already processing at ",e.currentOrder);return}try{a.current=e.currentOrder;const{vertices:c,edges:t,faces:o,partials:h,order:m}=await n.process({order:e.currentOrder,coxeter:e.coxeter,curvature:e.curvature,stellation:e.stellation,mirrors:e.mirrors,mirrorsPlanes:e.mirrorsPlanes,rootVertex:e.rootVertex,dimensions:e.dimensions});a.current=!1,s(u=>u.currentOrder!==m?(console.warn("Mismatched order, ignoring",u.currentOrder,m),{...u,currentOrder:0,vertex:[],edge:[],face:[],partial:[],ranges:[],renderError:null,processing:!0,error:"Mismatch Order"}):{...u,ranges:[...u.ranges,{vertex:[u.vertex.length,u.vertex.length+c.length],edge:[u.edge.length,u.edge.length+t.length],face:[u.face.length,u.face.length+o.length]}],vertex:u.vertex.concat(c),edge:u.edge.concat(t),face:u.face.concat(o),partial:h,currentOrder:m+1,processing:!1,error:null})}catch(c){a.current=!1,console.error(c);const t={...e,currentOrder:e.order,error:c.message,processing:!1};s(t)}},Ue=(e,a)=>{const s=l.useRef(!1);l.useEffect(()=>{a(n=>n.order<n.currentOrder?{...n,currentOrder:n.order}:n)},[e.order,e.currentOrder,a]),l.useEffect(()=>{a(n=>{const c=me(n.coxeter,n.stellation),t=fe(c);if(!t)return{...n,spaceType:t};const o=t.curvature,h=n.grouper===""||n.grouper.startsWith("auto-")?"auto-toddcoxeter":n.grouper,m=ge(c,o,n.centered===null?h.replace(/^auto-/,"")==="toddcoxeter"&&o<=0||c.some(p=>p.some(b=>b===-1)):n.centered),u=xe(n.mirrors,m,o),x={...n,currentOrder:0,grouper:h,vertex:[],edge:[],face:[],partial:[],ranges:[],spaceType:t,curvature:o,mirrorsPlanes:m,rootVertex:u,renderError:null,processing:!0,error:null};return Y(x,s,a),x})},[e.dimensions,e.coxeter,e.mirrors,e.stellation,e.centered,e.grouper,a]),l.useEffect(()=>{a(n=>{var c;return n.order<=n.currentOrder?n:(c=n.ranges)!=null&&c[n.order]?{...n,currentOrder:n.order,askedOrder:null}:(Y(n,s,a),{...n,error:null,processing:!0})})},[a,e.order,e.currentOrder])};function De({runtime:e,setRuntime:a}){return Ue(e,a),null}function qe({runtime:e,setRuntime:a,rotations:s,updateRotations:n,updateParams:c}){window.rt=e;const t=l.useCallback(o=>{a(h=>({...h,renderError:o.message}))},[a]);return l.useEffect(()=>()=>{e.curvature!==null&&c({matrix:W(e.dimensions)})},[e.curvature,e.dimensions]),r.jsx(r.Fragment,{children:r.jsxs(Ne,{error:e.renderError,onError:t,children:[r.jsx(De,{runtime:e,setRuntime:a}),r.jsx(Pe,{runtime:e,setRuntime:a}),e.curvature!==null?r.jsx(Ie,{runtime:e,rotations:s,updateRotations:n,updateParams:c}):null]})})}const Me="modulepreload",We=function(e,a){return new URL(e,a).href},J={},_e=function(a,s,n){if(!s||s.length===0)return a();const c=document.getElementsByTagName("link");return Promise.all(s.map(t=>{if(t=We(t,n),t in J)return;J[t]=!0;const o=t.endsWith(".css"),h=o?'[rel="stylesheet"]':"";if(!!n)for(let x=c.length-1;x>=0;x--){const p=c[x];if(p.href===t&&(!o||p.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${t}"]${h}`))return;const u=document.createElement("link");if(u.rel=o?"stylesheet":Me,o||(u.as="script",u.crossOrigin=""),u.href=t,document.head.appendChild(u),o)return new Promise((x,p)=>{u.addEventListener("load",x),u.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${t}`)))})})).then(()=>a()).catch(t=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=t,window.dispatchEvent(o),!o.defaultPrevented)throw t})};function X({allowNull:e,name:a,value:s,onChange:n,...c}){const t=l.useCallback(h=>{let{name:m,checked:u}=h.target,x;e?x=s===!1?!0:s?null:!1:x=u,n(m,x)},[e,n,s]),o=l.useRef(null);return l.useLayoutEffect(()=>{e&&o.current&&(s===null?o.current.indeterminate=!0:o.current.indeterminate=!1)},[s,e]),r.jsx("input",{type:"checkbox",ref:o,name:a,checked:s||!1,onChange:t})}function v({type:e,subtype:a,level:s,dimensions:n}){return r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"space",children:e===null||e==="indefinite"?"𝕏":e==="affine"?"𝔼":e==="finite"?"𝕊":"ℍ"}),n?r.jsx("sup",{children:n-1}):null,e==="hyperbolic"?r.jsxs("sub",{children:[{compact:" ",paracompact:"*",lorentzian:"L",superhyperbolic:"**"}[a],s]}):null]})}const Ke=(...e)=>{if(Array.isArray(e[0]))return{coxeter:e,dimensions:e.length,extended:!0};const a=e.length+1;return{coxeter:new Array(a).fill().map((n,c)=>new Array(a).fill().map((t,o)=>c===o?1:c===o+1||o===c+1?e[se(c,o)]:2)),dimensions:a}},Re=(...e)=>{const a=e.length+1;return{stellation:new Array(a).fill().map((n,c)=>new Array(a).fill().map((t,o)=>c===o?1:c===o+1||o===c+1?e[se(c,o)]:1))}},i=(e,a,s,n)=>{const c=Ke(...e),{dimensions:t}=c,o={..._,...c,showVertices:t<=3,showFaces:t<=4,curve:t>3,grouper:"toddcoxeter",ambiance:"colorful",matrix:W(t),zoom:t<=3?2:t>4?3:5,...n||{}};return a?o.mirrors=a:o.mirrors=new Array(t).fill().map((h,m)=>m===0?1:0),s?o.stellation=Re(...s).stellation:o.stellation=new Array(t).fill().map((h,m)=>new Array(t).fill(1)),o},w=e=>({...e,subforms:Object.entries(Ge(e.params.dimensions)).map(([a,s])=>({name:`${a} ${e.name}`,params:{...e.params,mirrors:s}}))}),f=(e,a,s,n)=>({...i(e,a,s),ambiance:"plain",showVertices:!1,curve:!0,zoom:1,...n}),N=(e,a,s,n)=>({...i(e,a,s),ambiance:"neon",showFaces:!1,showVertices:!1,grouper:"",edgeThickness:10,zoom:2,...n}),g=(e,a,s,n)=>({...i(e,a,s),ambiance:"neon",showFaces:!1,showVertices:!1,curve:!0,grouper:"",edgeThickness:10,zoom:1.5,...n}),Ge=e=>{if(e===4)return{Rectified:[0,1,0,0],Truncated:[1,1,0,0],Cantellated:[1,0,1,0],Cantitruncated:[1,1,1,0],Runcitruncated:[1,1,0,1],Runcinated:[1,0,0,1],Bitruncated:[0,1,1,0],Omnitruncated:[1,1,1,1]};if(e===5)return{Rectified:[0,1,0,0,0],Birectified:[0,0,1,0,0],Truncated:[1,1,0,0,0],Cantellated:[1,0,1,0,0],Runcinated:[1,0,0,1,0],Stericated:[1,0,0,0,1],Omnitruncated:[1,1,1,1,1]};if(e===6)return{Rectified:[0,1,0,0,0,0],Birectified:[0,0,1,0,0,0],Truncated:[1,1,0,0,0,0],Bitruncated:[0,1,1,0,0,0],Tritruncated:[0,0,1,1,0,0],Cantellated:[1,0,1,0,0,0],Bicantellated:[0,1,0,1,0,0],Runcinated:[1,0,0,1,0,0],Biruncinated:[0,1,0,0,1,0],Stericated:[1,0,0,0,1,0],Pentellated:[1,0,0,0,0,1],Omnitruncated:[1,1,1,1,1,1]};if(e===7)return{Rectified:[0,1,0,0,0,0,0],Birectified:[0,0,1,0,0,0,0],Truncated:[1,1,0,0,0,0,0],Bitruncated:[0,1,1,0,0,0,0],Tritruncated:[0,0,1,1,0,0,0],Cantellated:[1,0,1,0,0,0,0],Bicantellated:[0,1,0,1,0,0,0],Runcinated:[1,0,0,1,0,0,0],Biruncinated:[0,1,0,0,1,0,0],Stericated:[1,0,0,0,1,0,0],Pentellated:[1,0,0,0,0,1,0],Hexicated:[1,0,0,0,0,0,1],Omnitruncated:[1,1,1,1,1,1,1]};if(e===8)return{Rectified:[0,1,0,0,0,0,0,0],Birectified:[0,0,1,0,0,0,0,0],Truncated:[1,1,0,0,0,0,0,0],Bitruncated:[0,1,1,0,0,0,0,0],Tritruncated:[0,0,1,1,0,0,0,0],Quadritruncated:[0,0,0,1,1,0,0,0],Cantellated:[1,0,1,0,0,0,0,0],Bicantellated:[0,1,0,1,0,0,0,0],Tricantellated:[0,0,1,0,1,0,0,0],Runcinated:[1,0,0,1,0,0,0,0],Biruncinated:[0,1,0,0,1,0,0,0],Triruncinated:[0,0,1,0,0,1,0,0],Stericated:[1,0,0,0,1,0,0,0],Pentellated:[1,0,0,0,0,1,0,0],Hexicated:[1,0,0,0,0,0,1,0],Heptellated:[1,0,0,0,0,0,0,1],Omnitruncated:[1,1,1,1,1,1,1,1]};if(e===9)return{Rectified:[0,1,0,0,0,0,0,0,0],Birectified:[0,0,1,0,0,0,0,0,0],Truncated:[1,1,0,0,0,0,0,0,0],Bitruncated:[0,1,1,0,0,0,0,0,0],Tritruncated:[0,0,1,1,0,0,0,0,0],Quadritruncated:[0,0,0,1,1,0,0,0,0],Cantellated:[1,0,1,0,0,0,0,0,0],Bicantellated:[0,1,0,1,0,0,0,0,0],Tricantellated:[0,0,1,0,1,0,0,0,0],Runcinated:[1,0,0,1,0,0,0,0,0],Biruncinated:[0,1,0,0,1,0,0,0,0],Triruncinated:[0,0,1,0,0,1,0,0,0],Stericated:[1,0,0,0,1,0,0,0,0],Pentellated:[1,0,0,0,0,1,0,0,0],Hexicated:[1,0,0,0,0,0,1,0,0],Heptellated:[1,0,0,0,0,0,0,1,0],Octellated:[1,0,0,0,0,0,0,0,1],Omnitruncated:[1,1,1,1,1,1,1,1,1]}},Qe=[{type:"title",content:r.jsxs(r.Fragment,{children:[r.jsx("span",{style:{color:"orange"},children:"★"})," Highlights"]})},{name:r.jsxs(r.Fragment,{children:[r.jsx(v,{type:"finite",dimensions:4})," Tesseract"]}),params:i([4,3,3],[1,0,0,0],null,{showVertices:!0,vertexThickness:150,showFaces:!0,curve:!0,ambiance:"neon",centered:!1,zoom:4.2})},{name:r.jsxs(r.Fragment,{children:[r.jsx(v,{type:"hyperbolic",dimensions:3})," 7-3-2 tiling"]}),params:f([7,3],[1,0,0],null,{showVertices:!1,showFaces:!0,curve:!0,ambiance:"neon"})},{name:r.jsxs(r.Fragment,{children:[r.jsx(v,{type:"hyperbolic",subtype:"paracompact",dimensions:3})," Ideal triangles"]}),params:f([[1,0,0],[0,1,0],[0,0,1]],[1,1,1],null,{grouper:"fundamental",showVertices:!1,showFaces:!0,curve:!0,segments:64,easing:"quartic",ambiance:"neon"})},{name:r.jsxs(r.Fragment,{children:[r.jsx(v,{type:"hyperbolic",subtype:"paracompact",dimensions:4})," Ideal tetrahedron"]}),params:f([3,3,6],[1,0,0,""],null,{showVertices:!1,showFaces:!0,curve:!0,order:1,centered:!1,segments:64,easing:"quartic",ambiance:"pure"})},{name:r.jsxs(r.Fragment,{children:[r.jsx(v,{type:"hyperbolic",subtype:"paracompact",dimensions:4})," ","Horoball"]}),params:f([6,3,4],[1,0,0,""],null,{showVertices:!1,showFaces:!0,curve:!0,order:20,centered:!1,ambiance:"colorful"})},{name:r.jsxs(r.Fragment,{children:[r.jsx(v,{type:"hyperbolic",dimensions:4})," 5-3-4 honeycomb"]}),params:g([5,3,4],[1,0,0,0],null,{zoom:1.5})},{name:r.jsxs(r.Fragment,{children:[r.jsx(v,{type:"hyperbolic",subtype:"lorentzian",level:2,dimensions:4})," ","7-3-3 paracompact honeycomb"]}),params:g([7,3,3],[1,0,0,0],null,{zoom:1.5,showFaces:!0,showVertices:!0,segments:16})},{name:r.jsxs(r.Fragment,{children:[r.jsx(v,{type:"hyperbolic",subtype:"paracompact",dimensions:4})," Ideal Pentahedron"]}),params:f([5,3,6],[1,0,0,""],null,{showVertices:!1,showFaces:!0,curve:!0,order:1,centered:!1,segments:32,easing:"quartic",ambiance:"pure",zoom:1.5})},{name:r.jsxs(r.Fragment,{children:[r.jsx(v,{type:"finite",dimensions:4})," Flat Torus"]}),params:i([32,2,32],[1,0,0,1],null,{showVertices:!1,showFaces:!1,curve:!0,ambiance:"neon",zoom:3,edgeThickness:5})},{type:"title",content:r.jsxs(r.Fragment,{children:[r.jsx(v,{type:"finite"})," Spherical space"]})},{type:"group",content:r.jsxs(r.Fragment,{children:[r.jsx(v,{type:"finite",dimensions:3})," Polyedra"]})},{name:"Tetrahedron",params:i([3,3]),subforms:[{name:"Truncated Tetrahedron",params:i([3,3],[1,1,0])}]},{name:"Cube",params:i([4,3]),subforms:[{name:"Cuboctahedron",params:i([4,3],[0,1,0])},{name:"Truncated Cube",params:i([4,3],[1,1,0])},{name:"Rhombicuboctahedron",params:i([4,3],[1,0,1])},{name:"Truncated Octahedron",params:i([3,4],[1,1,0])},{name:"Truncated Cuboctahedron",params:i([4,3],[1,1,1])},{name:"Octahedron",params:i([3,4])}]},{name:"Dodecahedron",params:i([5,3]),subforms:[{name:"Icosidodecahedron",params:i([5,3],[0,1,0])},{name:"Truncate Dodecahedron",params:i([5,3],[1,1,0])},{name:"Rhombicosidodecahedron",params:i([5,3],[1,0,1])},{name:"Truncate Icosahedron",params:i([3,5],[1,1,0])},{name:"Truncated Icosidodecahedron",params:i([5,3],[1,1,1])},{name:"Icosahedron",params:i([3,5])}]},{name:"Snub Cube",params:i([4,3],["s","s","s"])},{name:"Snub Dodecahedron",params:i([5,3],["s","s","s"])},{name:"Great Dodecahedron",params:i([5,5],[1,0,0],[1,2])},{name:"Great Icosahedron",params:i([3,5],[1,0,0],[1,2])},{name:"Small Stellated Dodecahedron",params:i([5,5],[1,0,0],[2,1])},{name:"Great Stellated Dodecahedron",params:i([5,3],[1,0,0],[2,1])},{name:"Stellated Octahedron",params:i([2,2],["ß","ß","ß"])},{type:"group",content:r.jsxs(r.Fragment,{children:[r.jsx(v,{type:"finite",dimensions:4})," Polychora"]})},w({name:"5-cell",params:i([3,3,3])}),w({name:"8-cell",params:i([4,3,3])}),w({name:"16-cell",params:i([3,3,4])}),w({name:"24-cell",params:i([3,4,3])}),w({name:"120-cell",params:i([5,3,3])}),w({name:"600-cell",params:i([3,3,5])}),{name:"Snub 24-cell",params:i([3,4,3],["s","s",0,0])},{type:"group",content:r.jsxs(r.Fragment,{children:[r.jsx(v,{type:"finite",dimensions:5})," Polytera"]})},w({name:"5-simplex",params:i([3,3,3,3])}),w({name:"5-cube",params:i([4,3,3,3])}),w({name:"5-orthoplex",params:i([3,3,3,4])}),w({name:"5-demicube",params:i([[1,2,3,2,2],[2,1,3,2,2],[3,3,1,3,2],[2,2,3,1,3],[2,2,2,3,1]])}),{type:"group",content:r.jsxs(r.Fragment,{children:[r.jsx(v,{type:"finite",dimensions:6})," Polypeta"]})},w({name:"6-simplex",params:i([3,3,3,3,3])}),w({name:"6-cube",params:i([4,3,3,3,3])}),w({name:"6-orthoplex",params:i([3,3,3,3,4])}),w({name:"6-demicube",params:i([[1,2,3,2,2,2],[2,1,3,2,2,2],[3,3,1,3,2,2],[2,2,3,1,3,2],[2,2,2,3,1,3],[2,2,2,2,3,1]])}),{name:r.jsxs(r.Fragment,{children:["2",r.jsx("sub",{children:"21"})]}),params:i([[1,3,2,2,2,2],[3,1,3,2,2,2],[2,3,1,3,3,2],[2,2,3,1,2,2],[2,2,3,2,1,3],[2,2,2,2,3,1]],[1,0,0,0,0,0])},{name:r.jsxs(r.Fragment,{children:["1",r.jsx("sub",{children:"22"})]}),params:i([[1,3,2,2,2,2],[3,1,3,2,2,2],[2,3,1,3,3,2],[2,2,3,1,2,2],[2,2,3,2,1,3],[2,2,2,2,3,1]],[0,0,0,1,0,0])},{type:"group",content:r.jsxs(r.Fragment,{children:[r.jsx(v,{type:"finite",dimensions:7})," Polyexa"]})},w({name:"7-simplex",params:i([3,3,3,3,3,3])}),w({name:"7-cube",params:i([4,3,3,3,3,3])}),w({name:"7-orthoplex",params:i([3,3,3,3,3,4])}),w({name:"7-demicube",params:i([[1,2,3,2,2,2,2],[2,1,3,2,2,2,2],[3,3,1,3,2,2,2],[2,2,3,1,3,2,2],[2,2,2,3,1,3,2],[2,2,2,2,3,1,3],[2,2,2,2,2,3,1]])}),{name:r.jsxs(r.Fragment,{children:["3",r.jsx("sub",{children:"21"})]}),params:i([[1,3,2,2,2,2,2],[3,1,3,2,2,2,2],[2,3,1,3,2,2,2],[2,2,3,1,3,3,2],[2,2,2,3,1,2,2],[2,2,2,3,2,1,3],[2,2,2,2,2,3,1]],[1,0,0,0,0,0,0])},{name:r.jsxs(r.Fragment,{children:["2",r.jsx("sub",{children:"31"})]}),params:i([[1,3,2,2,2,2,2],[3,1,3,2,2,2,2],[2,3,1,3,2,2,2],[2,2,3,1,3,3,2],[2,2,2,3,1,2,2],[2,2,2,3,2,1,3],[2,2,2,2,2,3,1]],[0,0,0,0,0,0,1])},{name:r.jsxs(r.Fragment,{children:["1",r.jsx("sub",{children:"32"})]}),params:i([[1,3,2,2,2,2,2],[3,1,3,2,2,2,2],[2,3,1,3,2,2,2],[2,2,3,1,3,3,2],[2,2,2,3,1,2,2],[2,2,2,3,2,1,3],[2,2,2,2,2,3,1]],[0,0,0,0,1,0,0])},{type:"group",content:r.jsxs(r.Fragment,{children:[r.jsx(v,{type:"finite",dimensions:8})," Polyzetta"]})},w({name:"8-simplex",params:i([3,3,3,3,3,3,3])}),w({name:"8-cube",params:i([4,3,3,3,3,3,3])}),w({name:"8-orthoplex",params:i([3,3,3,3,3,3,4])}),w({name:"8-demicube",params:i([[1,2,3,2,2,2,2,2],[2,1,3,2,2,2,2,2],[3,3,1,3,2,2,2,2],[2,2,3,1,3,2,2,2],[2,2,2,3,1,3,2,2],[2,2,2,2,3,1,3,2],[2,2,2,2,2,3,1,3],[2,2,2,2,2,2,3,1]])}),{name:r.jsxs(r.Fragment,{children:["1",r.jsx("sub",{children:"42"})]}),params:i([[1,3,2,2,2,2,2,2],[3,1,3,2,2,2,2,2],[2,3,1,3,3,2,2,2],[2,2,3,1,2,2,2,2],[2,2,3,2,1,3,2,2],[2,2,2,2,3,1,3,2],[2,2,2,2,2,3,1,3],[2,2,2,2,2,2,3,1]],[0,0,1,0,0,0,0,0])},{name:r.jsxs(r.Fragment,{children:["2",r.jsx("sub",{children:"41"})]}),params:i([[1,3,2,2,2,2,2,2],[3,1,3,2,2,2,2,2],[2,3,1,3,3,2,2,2],[2,2,3,1,2,2,2,2],[2,2,3,2,1,3,2,2],[2,2,2,2,3,1,3,2],[2,2,2,2,2,3,1,3],[2,2,2,2,2,2,3,1]],[1,0,0,0,0,0,0,0])},{name:r.jsxs(r.Fragment,{children:["4",r.jsx("sub",{children:"21"})]}),params:i([[1,3,2,2,2,2,2,2],[3,1,3,2,2,2,2,2],[2,3,1,3,3,2,2,2],[2,2,3,1,2,2,2,2],[2,2,3,2,1,3,2,2],[2,2,2,2,3,1,3,2],[2,2,2,2,2,3,1,3],[2,2,2,2,2,2,3,1]],[0,0,0,0,0,0,0,1])},{type:"group",content:r.jsxs(r.Fragment,{children:[r.jsx(v,{type:"finite",dimensions:9}),"Polyyotta"]})},w({name:"9-simplex",params:i([3,3,3,3,3,3,3,3])}),w({name:"9-cube",params:i([4,3,3,3,3,3,3,3])}),w({name:"9-orthoplex",params:i([3,3,3,3,3,3,3,4])}),w({name:"9-demicube",params:i([[1,2,3,2,2,2,2,2,2],[2,1,3,2,2,2,2,2,2],[3,3,1,3,2,2,2,2,2],[2,2,3,1,3,2,2,2,2],[2,2,2,3,1,3,2,2,2],[2,2,2,2,3,1,3,2,2],[2,2,2,2,2,3,1,3,2],[2,2,2,2,2,2,3,1,3],[2,2,2,2,2,2,2,3,1]])}),{type:"title",content:r.jsxs(r.Fragment,{children:[r.jsx(v,{type:"affine"})," Euclidean space"]})},{type:"group",content:r.jsxs(r.Fragment,{children:[r.jsx(v,{type:"affine",dimensions:3})," Tilings"]})},{name:"Triangle",params:i([[1,3,3],[3,1,3],[3,3,1]],[1,0,0])},{name:"Square",params:i([4,4],[1,0,0])},{name:"Hexagonal",params:i([6,3],[1,0,0])},{type:"group",content:r.jsxs(r.Fragment,{children:[r.jsx(v,{type:"affine",dimensions:4})," Honeycombs"]})},{name:"Cubic",params:N([4,3,4],[1,0,0,0])},{name:"Octet",params:N([[1,3,2,2],[3,1,3,4],[2,3,1,2],[2,4,2,1]],[1,0,0,0])},{name:"Quarter cubic",params:N([[1,3,2,3],[3,1,3,2],[2,3,1,3],[3,2,3,1]],[1,0,0,1])},{type:"group",content:r.jsxs(r.Fragment,{children:[r.jsx(v,{type:"affine",dimensions:5})," 4-Honeycombs"]})},{name:"Tesseractic",params:N([4,3,3,4],[1,0,0,0,0])},{name:"16-cellic",params:N([3,3,4,3],[1,0,0,0,0],null,{grouper:"toddcoxeter"})},{name:"24-cellic",params:N([3,4,3,3],[1,0,0,0,0],null,{grouper:"toddcoxeter"})},{name:"4-simpletic",params:N([[1,3,2,2,3],[3,1,3,2,2],[2,3,1,3,2],[2,2,3,1,3],[3,2,2,3,1]],[1,0,0,0,0],null,{grouper:"toddcoxeter"})},{name:"Quarter tesseractic",params:N([[1,2,3,2,2],[2,1,3,2,2],[3,3,1,3,3],[2,2,3,1,2],[2,2,3,2,1]],[1,0,0,1,0],null,{grouper:"toddcoxeter"})},{type:"title",content:r.jsxs(r.Fragment,{children:[r.jsx(v,{type:"hyperbolic"})," Hyperbolic space"]})},{type:"group",content:r.jsxs(r.Fragment,{children:[r.jsx(v,{type:"hyperbolic",dimensions:3})," Tilings"]})},{name:"Order-7 triangular",params:f([3,7],[1,0,0])},{name:"Order-8 triangular",params:f([3,8],[1,0,0])},{name:"Infinite Order triangular",params:f([3,0],[1,0,0])},{name:"Order-5 square",params:f([4,5],[1,0,0])},{name:"Order-6 square",params:f([4,6],[1,0,0])},{name:"Order-7 square",params:f([4,7],[1,0,0])},{name:"Order-8 square",params:f([4,8],[1,0,0])},{name:"Infinite Order square",params:f([4,0],[1,0,0])},{name:"Order-4 pentagonal",params:f([5,4],[1,0,0])},{name:"Order-5 pentagonal",params:f([5,5],[1,0,0])},{name:"Order-6 pentagonal",params:f([5,6],[1,0,0])},{name:"Order-7 pentagonal",params:f([5,7],[1,0,0])},{name:"Order-8 pentagonal",params:f([5,8],[1,0,0])},{name:"Infinite Order pentagonal",params:f([5,0],[1,0,0])},{name:"Order-4 hexagonal",params:f([6,4],[1,0,0])},{name:"Order-5 hexagonal",params:f([6,5],[1,0,0])},{name:"Order-6 hexagonal",params:f([6,6],[1,0,0])},{name:"Order-7 hexagonal",params:f([6,7],[1,0,0])},{name:"Order-8 hexagonal",params:f([6,8],[1,0,0])},{name:"Infinite Order hexagonal",params:f([6,0],[1,0,0])},{name:"Order-3 heptagonal",params:f([7,3],[1,0,0])},{name:"Order-4 heptagonal",params:f([7,4],[1,0,0])},{name:"Order-5 heptagonal",params:f([7,5],[1,0,0])},{name:"Order-6 heptagonal",params:f([7,6],[1,0,0])},{name:"Order-7 heptagonal",params:f([7,7],[1,0,0])},{name:"Order-8 heptagonal",params:f([7,8],[1,0,0])},{name:"Infinite Order heptagonal",params:f([7,0],[1,0,0])},{name:"Order-3 octagonal",params:f([8,3],[1,0,0])},{name:"Order-4 octagonal",params:f([8,4],[1,0,0])},{name:"Order-5 octagonal",params:f([8,5],[1,0,0])},{name:"Order-6 octagonal",params:f([8,6],[1,0,0])},{name:"Order-7 octagonal",params:f([8,7],[1,0,0])},{name:"Order-8 octagonal",params:f([8,8],[1,0,0])},{name:"Infinite Order octagonal",params:f([8,0],[1,0,0])},{name:"Order-3 apeirogonal",params:f([0,3],[1,0,0])},{name:"Order-4 apeirogonal",params:f([0,4],[1,0,0])},{name:"Order-5 apeirogonal",params:f([0,5],[1,0,0])},{name:"Order-6 apeirogonal",params:f([0,6],[1,0,0])},{name:"Order-7 apeirogonal",params:f([0,7],[1,0,0])},{name:"Order-8 apeirogonal",params:f([0,8],[1,0,0])},{name:"Infinite Order apeirogonal",params:f([0,0],[1,0,0])},{type:"group",content:r.jsxs(r.Fragment,{children:[r.jsx(v,{type:"hyperbolic",subtype:"compact",dimensions:4})," Honeycombs compacts"]})},{name:"Icosahedral",params:g([3,5,3],[1,0,0,0])},{name:"Order-4 dodecahedral",params:g([5,3,4],[1,0,0,0])},{name:"Order-5 dodecahedral",params:g([5,3,5],[1,0,0,0],null,{grouper:"toddcoxeter"})},{name:"Alternated Order-5 cubic",params:g([[1,2,3,2],[2,1,3,2],[3,3,1,5],[2,2,5,1]],[1,0,0,0])},{name:"Tetrahedral cubic",params:g([[1,4,2,3],[4,1,3,2],[2,3,1,3],[3,2,3,1]],[1,0,0,0],null,{grouper:"toddcoxeter"})},{name:"Tetrahedral dodecahedral",params:g([[1,3,2,5],[3,1,3,2],[2,3,1,3],[5,2,3,1]],[1,0,0,0],null,{grouper:"toddcoxeter"})},{name:"Cubic octahedral",params:g([[1,3,2,4],[3,1,4,2],[2,4,1,3],[4,2,3,1]],[1,0,0,0],null,{grouper:"toddcoxeter"})},{name:"Octahedral Dodcahedral",params:g([[1,3,2,5],[3,1,4,2],[2,4,1,3],[5,2,3,1]],[1,0,0,0],null,{grouper:"toddcoxeter"})},{name:"Octahedral Icosahedral",params:g([[1,3,2,5],[3,1,5,2],[2,5,1,3],[5,2,3,1]],[1,0,0,0],null,{grouper:"toddcoxeter"})},{type:"group",content:r.jsxs(r.Fragment,{children:[r.jsx(v,{type:"hyperbolic",subtype:"paracompact",dimensions:4})," ","Honeycombs paracompacts"]})},{name:"Triangular",params:g([3,6,3],[1,0,0,0],null,{grouper:"toddcoxeter"})},{name:"Hexagonal",params:g([6,3,3],[1,0,0,0],null,{grouper:"toddcoxeter"})},{name:"Order-6 tetrahedral",params:g([3,3,6],[1,0,0,0],null,{grouper:"toddcoxeter"})},{name:"Alternated Order-6 cubic",params:g([[1,2,3,2],[2,1,3,2],[3,3,1,6],[2,2,6,1]],[1,0,0,0],null,{grouper:"toddcoxeter"})},{name:"Order-5 hexagonal",params:g([6,3,5],[1,0,0,0],null,{grouper:"toddcoxeter"})},{name:"Alternated Order-5 hexagonal",params:g([[1,2,3,2],[2,1,3,2],[3,3,1,5],[2,2,5,1]],[1,0,0,0],null,{grouper:"toddcoxeter"})},{name:"Order-6 hexagonal",params:g([6,3,6],[1,0,0,0],null,{grouper:"toddcoxeter"})},{name:"Square",params:g([4,4,3],[1,0,0,0],null,{grouper:"toddcoxeter"})},{name:"Alternated square",params:g([[1,2,4,2],[2,1,4,2],[4,4,1,3],[2,2,3,1]],[1,0,0,0],null,{grouper:"toddcoxeter"})},{name:"Order-4 square",params:g([4,4,4],[0,1,0,0],null,{grouper:"toddcoxeter"})},{name:"Tetrahedral square",params:g([[1,4,2,4],[4,1,3,2],[2,3,1,3],[4,2,3,1]],[0,1,0,0],null,{grouper:"toddcoxeter"})},{name:"Cubic square",params:g([[1,4,2,4],[4,1,3,2],[2,3,1,4],[4,2,4,1]],[1,0,0,0],null,{grouper:"toddcoxeter"})},{name:"Quarter order square",params:g([[1,4,2,4],[4,1,4,2],[2,4,1,4],[4,2,4,1]],[1,0,0,0],null,{grouper:"toddcoxeter"})},{name:"Tetrahedral Hexagonal",params:g([[1,3,2,6],[3,1,3,2],[2,3,1,3],[6,2,3,1]],[1,0,0,0],null,{grouper:"toddcoxeter"})},{name:"Octahedral Hexagonal",params:g([[1,3,2,6],[3,1,4,2],[2,4,1,3],[6,2,3,1]],[1,0,0,0],null,{grouper:"toddcoxeter"})},{name:"Icosahedral Hexagonal",params:g([[1,3,2,6],[3,1,5,2],[2,5,1,3],[6,2,3,1]],[1,0,0,0],null,{grouper:"toddcoxeter"})},{name:"Hexagonal Triangular",params:g([[1,3,2,6],[3,1,6,2],[2,6,1,3],[6,2,3,1]],[1,0,0,0],null,{grouper:"toddcoxeter"})},{name:"Alternated Hexagonal",params:g([[1,3,3,2],[3,1,3,2],[3,3,1,3],[2,2,3,1]],[1,0,0,0],null,{grouper:"toddcoxeter"})},{name:"Alternated Order-4 Hexagonal",params:g([[1,3,3,2],[3,1,3,2],[3,3,1,4],[2,2,4,1]],[1,0,0,0],null,{grouper:"toddcoxeter"})},{name:"Alternated Order-5 Hexagonal",params:g([[1,3,3,2],[3,1,3,2],[3,3,1,5],[2,2,5,1]],[1,0,0,0],null,{grouper:"toddcoxeter"})},{name:"Runcic Order-6 Hexagonal",params:g([[1,3,3,2],[3,1,3,2],[3,3,1,6],[2,2,6,1]],[1,0,0,1],null,{grouper:"toddcoxeter"})},{name:"Quarter Order-4 hexagonal",params:g([[1,3,3,2],[3,1,3,3],[3,3,1,3],[2,3,3,1]],[1,1,0,0],null,{grouper:"toddcoxeter"})},{name:"Hexagonal",params:g([[1,3,3,3],[3,1,3,3],[3,3,1,3],[3,3,3,1]],[1,1,1,1],null,{grouper:"toddcoxeter"})},{type:"group",content:r.jsxs(r.Fragment,{children:[r.jsx(v,{type:"hyperbolic",subtype:"lorentzian",level:2,dimensions:4})," ","Honeycombs lorentzians"]})},{name:"3-3-7",params:g([3,3,7],[1,0,0,0],null,{grouper:"toddcoxeter"})},{name:"3-4-7",params:g([3,3,7],[1,0,0,0],null,{grouper:"toddcoxeter"})},{name:"3-5-7",params:g([3,5,7],[1,0,0,0],null,{grouper:"toddcoxeter"})}],q=e=>{if(["string","number"].includes(typeof e))return e;if(e instanceof Array)return e.map(q).join("");if(typeof e=="object"&&e)return q(e.props.children)},ee=(e,a)=>typeof e=="string"?q(e).toLowerCase().includes(a.toLowerCase()):!1,Ze=l.memo(function e({name:a,params:s,search:n,subforms:c=[],sub:t=!1,onPreset:o}){const[h,m]=l.useState(!0),[u,x]=l.useState(!1);return l.useEffect(()=>{if(!n){m(!0),x(!1);return}if(ee(a,n)){m(!0);return}if(c.length&&c.some(({name:p})=>ee(p,n))){m(!0),x(!0);return}m(!1),x(!1)},[a,n,c]),h?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:`preset${t?" sub":""}`,onClick:()=>o(s),children:[r.jsxs("div",{className:`preset-header preset-name-${c.length?"button":"only"}`,children:[c.length?r.jsx("button",{className:`preset-toggle ${u?"open":"closed"}`,onClick:p=>{p.stopPropagation(),x(!u)},children:u?"-":"+"}):null,r.jsx("span",{className:"preset-name",children:a})]}),r.jsx(be,{coxeter:s.coxeter,mirrors:s.mirrors,stellation:s.stellation})]}),u&&c.map((p,b)=>r.jsx(e,{...p,sub:!0,search:n,onPreset:o},b))]}):null}),Ye=r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:r.jsx("path",{fill:"currentColor",d:"M7.95 19L3 12l4.95-7H21v14H7.95Zm3.45-3l2.6-2.6l2.6 2.6l1.4-1.4l-2.6-2.6L18 9.4L16.6 8L14 10.6L11.4 8L10 9.4l2.6 2.6l-2.6 2.6l1.4 1.4Z"})}),Je=r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:r.jsx("path",{fill:"currentColor",d:"M6 17c0-2 4-3.1 6-3.1s6 1.1 6 3.1v1H6m9-9a3 3 0 0 1-3 3a3 3 0 0 1-3-3a3 3 0 0 1 3-3a3 3 0 0 1 3 3M3 5v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2Z"})}),Xe=r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:r.jsx("path",{fill:"currentColor",d:"M6 2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6m-1 1.5L18.5 9H13m-4.07 3.22H16v7.07l-2.12-2.12L11.05 20l-2.83-2.83l2.83-2.82"})}),er=r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:r.jsx("path",{fill:"currentColor",d:"M6.4 19L5 17.6l5.6-5.6L5 6.4L6.4 5l5.6 5.6L17.6 5L19 6.4L13.4 12l5.6 5.6l-1.4 1.4l-5.6-5.6L6.4 19Z"})});function rr({open:e,onPreset:a,onExportImage:s,closePresets:n}){const[c,t]=l.useState(""),[o,h]=l.useState(""),m=l.useCallback(u=>{h(u.target.value),B(t(u.target.value),50)},[]);return r.jsxs(r.Fragment,{children:[r.jsx("div",{className:`presets-overlay ${e?"shown":"hidden"}`,onClick:n}),r.jsx("div",{className:`presets ${e?"shown":"hidden"}`,children:r.jsxs("div",{className:"presets-modal",children:[r.jsxs("div",{className:"presets-header",children:[r.jsxs("div",{className:"presets-search",children:[r.jsx("input",{type:"text",placeholder:"Search",value:o,onChange:m}),r.jsx("button",{className:"presets-clear",onClick:()=>{t(""),h("")},children:Ye})]}),r.jsxs("div",{className:"presets-actions",children:[r.jsx("a",{className:"presets-action",href:"https://florian.mounier.dev/",children:Je}),r.jsx("button",{className:"presets-action",onClick:s,children:Xe}),r.jsx("button",{className:"presets-action",onClick:n,children:er})]})]}),r.jsx("div",{className:"presets-list",children:Qe.map(({type:u,content:x,name:p,params:b,subforms:y},E)=>r.jsx(l.Fragment,{children:u==="title"?r.jsx("h2",{children:x}):u==="group"?r.jsx("h4",{children:x}):r.jsx(Ze,{name:p,params:b,search:c,subforms:y,onPreset:a})},E))})]})})]})}function ar({runtime:e,params:a,rotations:s,updateParams:n,updateRotations:c}){const[t,o]=l.useState("simple"),[h,m]=l.useState(!1),u=l.useCallback(()=>{m(!1)},[]),x=l.useCallback(d=>{let{name:j,value:O}=d.target;n({[j]:O})},[n]),p=l.useCallback((d,j)=>{n({[d]:j})},[n]),b=l.useCallback(()=>o(d=>({simple:"advanced",advanced:"full",full:"empty",empty:"simple"})[d]),[]),y=l.useCallback(d=>{n(d),u()},[n,u]),E=l.useCallback(()=>{n({matrix:W(e.dimensions)})},[n,e.dimensions]),k=l.useCallback(d=>{c("shift",(s.shift+1)%s.maxShift)},[s.maxShift,s.shift,c]),I=l.useCallback(d=>{c("auto",s.auto==="free"?"damp":"free")},[s.auto,c]),V=l.useCallback(async()=>{const d=window.prompt("Select image resolution","5000x5000");if(!d||!d.includes("x")){console.error("Invalid resolution");return}const[j,O]=d.split("x").map(T=>parseInt(T));if(isNaN(j)||isNaN(O)){console.error("Invalid resolution");return}const S=await(await _e(()=>import("./export-902100eb.js"),[],import.meta.url)).makeBigPng(e,j,O);if(S){const T=document.createElement("a");document.body.appendChild(T),T.style.display="none";const P=window.URL.createObjectURL(S);T.href=P,T.download=`${document.title}-${j}x${O}`,T.click()}},[e]);return r.jsxs(r.Fragment,{children:[r.jsx(rr,{open:h,onPreset:y,onExportImage:V,closePresets:u}),r.jsxs("div",{className:e.error?"error":"",title:e.error,children:[e.currentOrder<e.order?r.jsxs("aside",{className:"processing-counter",children:[e.currentOrder,"/",e.order]}):null,["simple","advanced","full"].includes(t)?r.jsx("button",{className:"preset-button button",onClick:()=>m(d=>!d),title:"Presets",children:"◭"}):null,["simple","advanced","full"].includes(t)?r.jsxs("aside",{className:"controls",children:[r.jsxs("button",{className:"controls-button button",onClick:k,title:"Rotation Mode",children:[r.jsx("span",{style:{display:"inline-block",transform:`rotate(${s.shift/s.maxShift*360}deg)`},children:"⥁"}),r.jsx("sup",{children:s.shift+1})]}),r.jsxs("div",{className:"subcontrols",children:[r.jsx("button",{className:"button anim-view",onClick:I,title:"Animate rotations",children:s.auto==="free"?"⤞":s.auto==="damp"?"↠":"?"}),!ae(e.matrix)&&r.jsx("button",{className:"button reset-view",onClick:E,title:"Reset View",children:"⌖"})]})]}):null,r.jsx("button",{className:`space-button button${e.processing?" processing":""}${t==="empty"?" empty":""}`,onClick:b,children:r.jsx(v,{...e.spaceType||{},dimensions:e.dimensions})}),["advanced","full"].includes(t)&&r.jsxs("aside",{className:"parameters",children:[(t==="full"||a.grouper!=="")&&r.jsxs("label",{className:"select-label",children:["Grouper",r.jsx("select",{name:"grouper",value:a.grouper,onChange:x,children:je.map(d=>r.jsx("option",{value:d,children:d===""?a.grouper===""?`Auto [${e.grouper.replace(/^auto-/,"")}]`:"Auto":d.replace(/_/g," ").replace(/\b./g,j=>j.toUpperCase())},d))})]}),(t==="full"||a.grouper)&&r.jsxs("label",{className:"boolean-label",children:["inCentered",r.jsx(X,{name:"centered",allowNull:!0,value:a.centered,onChange:p})]}),(t==="full"||e.curvature<=0)&&r.jsx(A,{name:"order",label:"Precision",min:1,step:1,value:a.order,onChange:p}),r.jsx(A,{name:"segments",label:"Segments",min:1,step:1,value:a.segments,toggler:a.curve,togglerName:"curve",onChange:p}),r.jsxs("label",{className:"select-label",children:["Easing",r.jsx("select",{name:"easing",value:a.easing,onChange:x,children:ve.map(d=>r.jsx("option",{value:d,children:d.replace(/_/g," ").replace(/\b./g,j=>j.toUpperCase())},d))})]}),r.jsx(A,{name:"vertexThickness",label:"Vertices",min:0,step:1,value:a.vertexThickness,toggler:a.showVertices,togglerName:"showVertices",onChange:p}),r.jsx(A,{name:"edgeThickness",label:"Edges",min:0,step:1,value:a.edgeThickness,toggler:a.showEdges,togglerName:"showEdges",onChange:p}),(e.grouper.replace(/^auto-/,"")==="toddcoxeter"||e.grouper==="fundamental")&&r.jsxs("label",{className:"boolean-label",children:["Faces",r.jsx(X,{name:"showFaces",value:a.showFaces,onChange:p})]}),r.jsxs("label",{className:"select-label",children:["Ambiance",r.jsx("select",{name:"ambiance",value:a.ambiance,onChange:x,children:(t==="full"?Object.keys(G):Object.entries(G).filter(([d,{extended:j}])=>!j||d===a.ambiance).map(([d])=>d)).map(d=>r.jsx("option",{value:d,children:d.replace(/_/g," ").replace(/./,j=>j.toUpperCase())},d))})]})]}),["advanced","full"].includes(t)&&r.jsxs("aside",{className:"view",children:[r.jsx(A,{name:"msaaSamples",label:"MSAA",min:0,step:1,max:_.msaaSamples,value:a.msaaSamples,toggler:a.msaa,togglerName:"msaa",onChange:p}),t==="full"&&r.jsx(A,{name:"subsampling",label:"subsampling",min:.1,step:.1,value:a.subsampling,onChange:p}),a.dimensions>=3?we(3,a.dimensions+1).map(d=>r.jsxs("div",{className:"projection",children:[r.jsx(A,{label:`${d}D FOV`,name:`fov${d}`,step:1,value:a[`fov${d}`],onChange:p}),r.jsxs("label",{className:"number",children:[r.jsxs("span",{className:"number-label",children:[d,"D Projection"]}),r.jsx("select",{name:`projection${d}`,value:a[`projection${d}`],onChange:x,children:[...ye.filter((j,O)=>d===3||O<7)].map(j=>r.jsx("option",{value:j,children:j.replace(/_/g," ").replace(/./,O=>O.toUpperCase())},j))})]})]},d)):null]}),["simple","advanced","full"].includes(t)&&r.jsx(Oe,{dimensions:a.dimensions,coxeter:a.coxeter,mirrors:a.mirrors,stellation:a.stellation,extended:a.extended,onChange:p})]})]})}function sr({params:e,updateParams:a}){const[s,n]=l.useState({...e,currentOrder:0,askedOrder:null,spaceType:null,curvature:null,mirrorsPlanes:null,rootVertex:null,vertex:[],edge:[],ranges:[],face:[],processing:!0,error:null,renderError:null});l.useEffect(()=>{n(h=>{try{return h.gl?h:ke(h)}catch(m){return console.error(m),{...h,error:m.message}}})},[s.gl]);const[c,t]=l.useState({shift:0,maxShift:0,combinations:[],auto:"damp"});l.useEffect(()=>{n(h=>({...h,...ne({order:e.order,ambiance:e.ambiance,showVertices:e.showVertices,showEdges:e.showEdges,showFaces:e.showFaces,vertexThickness:e.vertexThickness,edgeThickness:e.edgeThickness,projection3:e.projection3,projection4:e.projection4,projection5:e.projection5,projection6:e.projection6,projection7:e.projection7,projection8:e.projection8,projection9:e.projection9,msaa:e.msaa,msaaSamples:e.msaaSamples,subsampling:e.subsampling,matrix:e.matrix,fov3:e.fov3,fov4:e.fov4,fov5:e.fov5,fov6:e.fov6,fov7:e.fov7,fov8:e.fov8,fov9:e.fov9,zoom:e.zoom,curve:e.curve,segments:e.segments,easing:e.easing,dimensions:e.dimensions,coxeter:e.coxeter,mirrors:e.mirrors,stellation:e.stellation,centered:e.centered}).params}))},[e.order,e.ambiance,e.centered,e.coxeter,e.curve,e.dimensions,e.edgeThickness,e.fov3,e.fov4,e.fov5,e.fov6,e.fov7,e.fov8,e.fov9,e.matrix,e.mirrors,e.msaa,e.msaaSamples,e.projection3,e.projection4,e.projection5,e.projection6,e.projection7,e.projection8,e.projection9,e.segments,e.easing,e.showEdges,e.showFaces,e.showVertices,e.stellation,e.subsampling,e.vertexThickness,e.zoom]),l.useEffect(()=>{t(h=>({...h,shift:0,maxShift:~~Ee(Ce(e.dimensions,2)/2),combinations:Fe(Te(new Array(e.dimensions).fill().map((m,u)=>u),2)),auto:"damp"}))},[e.dimensions]),l.useEffect(()=>{n(h=>e.grouper===""&&h.grouper.startsWith("auto-")?h:{...h,grouper:e.grouper})},[e.grouper]);const o=l.useCallback((h,m)=>{t(u=>({...u,[h]:m}))},[t]);return s.gl?r.jsxs("div",{className:s.error||s.renderError?"error":"",title:s.error||s.renderError,children:[r.jsx(ar,{runtime:s,params:e,rotations:c,updateRotations:o,updateParams:a}),r.jsx(qe,{runtime:s,rotations:c,setRuntime:n,updateRotations:o,updateParams:a})]}):null}const re=(e=null)=>{const{location:a}=window;if(a.hash)try{return JSON.parse(atob(a.hash.slice(1)))}catch(s){console.warn(s),a.hash=""}return e},nr=e=>{window.history.pushState(null,null,"#"+btoa(JSON.stringify(e)))},M=(e,a)=>e.length!==a.length?!1:e.every((s,n)=>Array.isArray(s)?M(s,a[n]):s===a[n]),or=()=>{const[e,a]=l.useState(re(_)),s=l.useCallback(c=>{const t=re();t&&(Object.entries(t).forEach(([o,h])=>{Array.isArray(h)&&M(h,e[o])&&(t[o]=e[o])}),a(t))},[e]),n=l.useCallback(c=>{a(t=>{if(!Object.entries(c).filter(([m,u])=>Array.isArray(u)?!M(u,t[m]):t[m]!==u).length)return t;const{params:o,badParams:h}=ne({...t,...c},Object.keys(c));return h.length||nr(o),o})},[]);return l.useEffect(()=>(window.addEventListener("popstate",s),()=>{window.removeEventListener("popstate",s)}),[s]),r.jsx(sr,{params:e,updateParams:n})};Se.createRoot(document.getElementById("root")).render(r.jsx(or,{}));
