import{r as i,d as P,c as le,a as ie,s as ee,m as re,x as ae,b as A,P as R,h as de,u as pe,e as he,f as ue,g as z,p as q,i as me,j as fe,k as ge,l as xe,n as U,o as r,q as D,t as se,C as je,v as ve,w as be,y as we,N,z as ye,A as W,B as ne,D as ke,E as Oe,F as Ee,G as te,H as Ce,I as Te,J as Fe,K as Se,L as Le}from"./CoxeterDiagram-d3e482bc.js";class Ne extends i.Component{componentDidCatch(a,s){this.props.onError(a,s)}render(){return this.props.error?null:this.props.children}}const _=.95,K=25,T=(e,a,s,n,l,o,t)=>{const d=(m,h)=>{ee(l,re(ae(m,h,n.combinations,o,t),l))};2*s+1>n.combinations.length-1?d(e,s*2):(d(e,s*2+1),d(a,s*2))},Ae=(e,a,s,n,l,o)=>{const{code:t}=e,d=.01;if(!(e.altKey||e.ctrlKey||e.metaKey)){if(t==="ArrowLeft"||t==="KeyA")T(-d,0,0,a,s,n,l);else if(t==="ArrowRight"||t==="KeyD")T(d,0,0,a,s,n,l);else if(t==="ArrowUp"||t==="KeyW")T(0,-d,1,a,s,n,l);else if(t==="ArrowDown"||t==="KeyS")T(0,d,1,a,s,n,l);else if(t==="PageUp"||t==="KeyQ")T(-d,0,2,a,s,n,l);else if(t==="PageDown"||t==="KeyE")T(d,0,2,a,s,n,l);else if(t==="Digit1")T(0,-d,2,a,s,n,l);else if(t==="Digit3")T(0,d,2,a,s,n,l);else if(t==="KeyZ")T(-d,0,3,a,s,n,l);else if(t==="KeyC")T(d,0,3,a,s,n,l);else if(t==="ControlLeft")o("shift",(a.shift+1)%a.maxShift);else return;return!0}},Ie=(e,a,s,n)=>{const l=i.useCallback(P(u=>{u._update=!0,n({matrix:u})},100),[]),o=i.useCallback(u=>n({matrix:u}),[]),t=i.useCallback(P(u=>n({zoom:u}),100),[]),d=i.useRef(null),m=i.useRef({pause:new Set,speed:null}),h=i.useRef(e.matrix.map(u=>u.slice()));i.useEffect(()=>{h.current=e.matrix.map(u=>u.slice())},[e.matrix]);const j=i.useCallback(()=>{const u=["vertex","edge","face"];for(let b=0;b<u.length;b++)e.meshes[u[b]].uniforms.matrix.update(le(h.current))},[e.ambiance,e.camera,e.centered,e.coxeter,e.curvature,e.curve,e.dimensions,e.easing,e.edgeThickness,e.error,e.fov3,e.fov4,e.fov5,e.fov6,e.fov7,e.fov8,e.fov9,e.grouper,e.msaa,e.msaaSamples,e.projection,e.renderError,e.segments,e.showEdges,e.showFaces,e.showVertices,e.spaceType,e.stellation,e.subsampling,e.vertexThickness,e.zoom]);i.useEffect(()=>{m.current.speed=new Array(a.combinations.length).fill(0)},[a.combinations]),i.useEffect(()=>{e.matrix._update||(m.current.speed=new Array(a.combinations.length).fill(0))},[a.combinations.length,e.matrix]),i.useEffect(()=>{const u=()=>{const{pause:b,speed:y}=m.current;let E=!1;for(let O=0;O<y.length;O++)y[O]!==0&&(E=!0,a.auto==="damp"&&(y[O]*=.96,ie(y[O])<1e-4&&(y[O]=0,o(h.current))),(a.auto!=="damp"||!b.has(O))&&ee(h.current,re(ae(y[O],O,a.combinations,e.dimensions,e.curvature),h.current)));E&&(j(),A(e)),d.current!==null&&(d.current=requestAnimationFrame(u))};return a.auto&&(d.current=requestAnimationFrame(u)),()=>{d.current&&(cancelAnimationFrame(d.current),d.current=null),o(h.current)}},[a.auto,a.combinations,e.dimensions,e.curvature,o,j]),i.useEffect(()=>{e.camera.position[2]=-e.zoom,e.camera.update(),e.meshes.updateUniforms(e,!0)},[e.camera,e.zoom]),i.useEffect(()=>{const u=new Map;let b=null,y=null;const E=()=>{const p=u.values(),v=p.next().value,k=p.next().value;return de(v[0]-k[0],v[1]-k[1])},O=p=>{p.button!==0||p.target.tagName!=="CANVAS"||(a.auto&&(y=performance.now(),m.current.pause.add(a.shift*2),m.current.pause.add(a.shift*2+1),m.current.speed[a.shift*2]=0,m.current.speed[a.shift*2+1]=0),u.set(p.pointerId,[p.clientX,p.clientY]))},I=p=>{if(!u.has(p.pointerId))return;let v=u.get(p.pointerId);const k=[-(p.clientX-v[0])/window.innerHeight,-(p.clientY-v[1])/window.innerHeight];if(a.auto){const S=performance.now(),F=S-y;y=S;const H=[K*k[0]/F,K*k[1]/F];m.current.speed[a.shift*2]=H[1],m.current.speed[a.shift*2+1]=H[0]}if(u.set(p.pointerId,[p.clientX,p.clientY]),u.size===2){if(b===null){b=E();return}const S=E();e.camera.position[2]*=b/S,e.camera.update(),e.meshes.updateUniforms(e,!0),b=S,A(e),t(-e.camera.position[2]);return}let C=a.shift;!C&&p.shiftKey?C=1:!C&&p.altKey?C=2:!C&&p.ctrKey?C=3:!C&&p.metaKey&&(C=4),u.size>2&&(C+=u.size-2),T(R*k[0],R*k[1],C,{combinations:a.combinations,auto:a.auto,shift:a.shift},h.current,e.dimensions,e.curvature),j(),l(h.current)},V=p=>{u.has(p.pointerId)&&(a.auto&&(performance.now()-y>100?(m.current.speed[a.shift*2]=0,m.current.speed[a.shift*2+1]=0):a.auto==="free"&&(m.current.speed[a.shift*2]*=.5,m.current.speed[a.shift*2+1]*=.5),m.current.pause.delete(a.shift*2),m.current.pause.delete(a.shift*2+1)),b=null,u.delete(p.pointerId))};return document.addEventListener("pointerdown",O),document.addEventListener("pointermove",I),document.addEventListener("pointerup",V),()=>{document.removeEventListener("pointerdown",O),document.removeEventListener("pointermove",I),document.removeEventListener("pointerup",V)}},[a.auto,a.combinations,a.shift,e.dimensions,e.curvature,e.camera,j,l,t]),i.useEffect(()=>{const u=b=>{b.target===document.body&&Ae(b,a,h.current,e.dimensions,e.curvature,s)&&(j(),l(h.current))};return document.addEventListener("keydown",u),()=>document.removeEventListener("keydown",u)},[j,a,e.curvature,e.dimensions,s,l]),i.useEffect(()=>{const u=b=>{b.target.tagName==="CANVAS"&&(e.camera.position[2]*=b.deltaY<0?_:1/_,e.camera.update(),e.meshes.updateUniforms(e,!0),A(e),t(-e.camera.position[2]))};return document.addEventListener("wheel",u),()=>{document.removeEventListener("wheel",u)}},[e,t]),i.useEffect(()=>{const u=b=>{if(b.button!==0||b.target.tagName!=="CANVAS")return;const y=-e.camera.position[2],E=y<.5?5:y<2?.25:1;e.camera.position[2]=-E,e.camera.update(),e.meshes.updateUniforms(e,!0),A(e),t(E)};return document.addEventListener("dblclick",u),()=>{document.removeEventListener("dblclick",u)}},[e,t])};function Ve({runtime:e,rotations:a,updateRotations:s,updateParams:n}){return Ie(e,a,s,n),null}const He=(e,a)=>{i.useEffect(()=>{a(s=>(pe(s),s))},[e.fov3,e.camera,a]),i.useEffect(()=>{a(s=>(s.meshes.updateGeometries(s),s))},[e.curvature,e.curve,e.segments,a]),i.useEffect(()=>{a(s=>(s.meshes.changeArity(s.dimensions),s))},[e.dimensions,a]),i.useEffect(()=>{a(s=>(he(s),s))},[e.ambiance,e.msaa,e.msaaSamples,a]),i.useEffect(()=>{a(s=>(ue(s),s))},[e.ambiance,e.msaa,e.msaaSamples,a]),i.useEffect(()=>{a(s=>(z(s,"vertex"),z(s,"edge"),z(s,"face"),s))},[e.showVertices,e.showEdges,e.showFaces,a]),i.useEffect(()=>{a(s=>{if(!(s.currentOrder<0))try{return q(s,s.currentOrder-1),s}catch(n){return console.error(n),{...s,error:n.message}}})},[e.currentOrder,e.edge,e.face,e.ranges,e.showEdges,e.showFaces,e.showVertices,e.vertex,a]),i.useEffect(()=>{a(s=>(s.meshes.recompilePrograms(s),s))},[e.ambiance,e.dimensions,e.easing,e.projection3,e.projection4,e.projection5,e.projection6,e.projection7,e.projection8,e.projection9,e.spaceType,a]),i.useEffect(()=>{a(s=>{try{return q(s),s}catch(n){return console.error(n),{...s,error:n.message}}})},[e.ambiance,e.showEdges,e.showFaces,e.showVertices,a]),i.useEffect(()=>{a(s=>(s.meshes.updateUniforms(s),s))},[e.ambiance,e.ambiance,e.curvature,e.curve,e.dimensions,e.easing,e.edgeThickness,e.fov4,e.fov5,e.fov6,e.fov7,e.fov8,e.fov9,e.matrix,e.projection3,e.projection4,e.projection5,e.projection6,e.projection7,e.projection8,e.projection9,e.segments,e.spaceType,e.vertexThickness,a]),i.useEffect(()=>{const s=new ResizeObserver(()=>{A(e)});return s.observe(e.gl.canvas,{box:"content-box"}),()=>s.disconnect()},[e.ambiance,e.camera,e.centered,e.coxeter,e.currentOrder,e.curvature,e.curve,e.dimensions,e.easing,e.edge,e.edgeThickness,e.error,e.face,e.fov3,e.fov4,e.fov5,e.fov6,e.fov7,e.fov8,e.fov9,e.grouper,e.matrix,e.msaa,e.msaaSamples,e.projection3,e.projection4,e.projection5,e.projection6,e.projection7,e.projection8,e.projection9,e.ranges,e.renderError,e.segments,e.showEdges,e.showFaces,e.showVertices,e.spaceType,e.stellation,e.subsampling,e.vertexThickness,e.vertex,e.zoom])};function ze({runtime:e,setRuntime:a}){return He(e,a),null}function Be(){return new Worker(""+new URL("knuthbendix-tiling.worker-3faadb90.js",import.meta.url).href)}function Pe(){return new Worker(""+new URL("toddcoxeter-tiling.worker-1a4a6b42.js",import.meta.url).href)}function $e(){return new Worker(""+new URL("fundamental.worker-25f81494.js",import.meta.url).href)}let B=class oe{constructor(a,s){this.workerClass=s,this.name=a,this.init(),this.times={}}static uuid4(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,a=>{const s=Math.random()*16|0;return(a==="x"?s:s&3|8).toString(16)})}init(){this.processing=0,this.worker=new this.workerClass}kill(){this.processing>0&&(console.debug(`Killing worker ${this.name} (${this.processing})`),this.worker.terminate(),this.init())}process(a){return a.uuid=oe.uuid4(),this.processing++,this.times[a.uuid]=performance.now(),this.worker.postMessage(a),new Promise((s,n)=>{const l=t=>{if(t.data.uuid!==a.uuid)return;const d=performance.now()-this.times[a.uuid];if(delete this.times[a.uuid],console.debug(`Worker ${this.name} took ${d}ms`),this.processing--,this.worker.removeEventListener("message",l),this.worker.removeEventListener("error",o),t.data.error){n(t.data.error);return}s(t.data)},o=t=>{this.worker.removeEventListener("message",l),this.worker.removeEventListener("error",o),!(this.processing<=0)&&(delete this.times[a.uuid],this.processing--,this.processing=me(0,this.processing),console.error(`Can't call web worker ${this.name}`,t))};this.worker.addEventListener("message",l),this.worker.addEventListener("error",o)})}};const Me=()=>Object.values(ce).filter(e=>e.processing>0).forEach(e=>e.kill()),ce={knuthbendix:new B("knuthbendix",Be),toddcoxeter:new B("toddcoxeter",Pe),fundamental:new B("fundamental",$e)},G=async(e,a,s)=>{const n=ce[e.grouper.replace(/^auto-/,"")];if(e.currentOrder===0&&(Me(),a.current=!1),a.current===e.currentOrder){console.log("already processing at ",e.currentOrder);return}try{a.current=e.currentOrder;const{vertices:l,edges:o,faces:t,partials:d,order:m}=await n.process({order:e.currentOrder,coxeter:e.coxeter,curvature:e.curvature,stellation:e.stellation,mirrors:e.mirrors,rootNormals:e.rootNormals,rootVertices:e.rootVertices,dimensions:e.dimensions});a.current=!1,s(h=>h.currentOrder!==m?(console.warn("Mismatched order, ignoring",h.currentOrder,m),{...h,currentOrder:0,vertex:[],edge:[],face:[],partial:[],ranges:[],renderError:null,processing:!0,error:"Mismatch Order"}):{...h,ranges:[...h.ranges,{vertex:[h.vertex.length,h.vertex.length+l.length],edge:[h.edge.length,h.edge.length+o.length],face:[h.face.length,h.face.length+t.length]}],vertex:h.vertex.concat(l),edge:h.edge.concat(o),face:h.face.concat(t),partial:d,currentOrder:m+1,processing:!1,error:null})}catch(l){a.current=!1,console.error(l);const o={...e,currentOrder:e.order,error:l.message,processing:!1};s(o)}},Ue=(e,a)=>{const s=i.useRef(!1);i.useEffect(()=>{a(n=>n.order<n.currentOrder?{...n,currentOrder:n.order}:n)},[e.order,e.currentOrder,a]),i.useEffect(()=>{a(n=>{const l=fe(n.coxeter,n.stellation),o=ge(l);if(!o)return{...n,spaceType:o};const t=o.curvature,{vertices:d,normals:m}=xe(o,n.centered),h={...n,currentOrder:0,vertex:[],edge:[],face:[],partial:[],ranges:[],spaceType:o,curvature:t,rootNormals:m,rootVertices:d,renderError:null,processing:!0,error:null};return G(h,s,a),h})},[e.dimensions,e.coxeter,e.mirrors,e.stellation,e.centered,e.grouper,a]),i.useEffect(()=>{a(n=>{var l;return n.order<=n.currentOrder?n:(l=n.ranges)!=null&&l[n.order]?{...n,currentOrder:n.order,askedOrder:null}:(G(n,s,a),{...n,error:null,processing:!0})})},[a,e.order,e.currentOrder])};function De({runtime:e,setRuntime:a}){return Ue(e,a),null}function Re({runtime:e,setRuntime:a,rotations:s,updateRotations:n,updateParams:l}){window.rt=e;const o=i.useCallback(t=>{a(d=>({...d,renderError:t.message}))},[a]);return i.useEffect(()=>()=>{e.curvature!==null&&l({matrix:U(e.dimensions)})},[e.curvature]),r.jsx(r.Fragment,{children:r.jsxs(Ne,{error:e.renderError,onError:o,children:[r.jsx(De,{runtime:e,setRuntime:a}),r.jsx(ze,{runtime:e,setRuntime:a}),e.curvature!==null?r.jsx(Ve,{runtime:e,rotations:s,updateRotations:n,updateParams:l}):null]})})}const qe="modulepreload",We=function(e,a){return new URL(e,a).href},Z={},_e=function(a,s,n){if(!s||s.length===0)return a();const l=document.getElementsByTagName("link");return Promise.all(s.map(o=>{if(o=We(o,n),o in Z)return;Z[o]=!0;const t=o.endsWith(".css"),d=t?'[rel="stylesheet"]':"";if(!!n)for(let j=l.length-1;j>=0;j--){const u=l[j];if(u.href===o&&(!t||u.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${d}`))return;const h=document.createElement("link");if(h.rel=t?"stylesheet":qe,t||(h.as="script",h.crossOrigin=""),h.href=o,document.head.appendChild(h),t)return new Promise((j,u)=>{h.addEventListener("load",j),h.addEventListener("error",()=>u(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>a()).catch(o=>{const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=o,window.dispatchEvent(t),!t.defaultPrevented)throw o})},Ke=r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:r.jsx("g",{id:"feTarget0",fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1",children:r.jsx("g",{id:"feTarget1",fill:"currentColor",fillRule:"nonzero",children:r.jsx("path",{id:"feTarget2",d:"M19.938 13A8.004 8.004 0 0 1 13 19.938V22h-2v-2.062A8.004 8.004 0 0 1 4.062 13H2v-2h2.062A8.004 8.004 0 0 1 11 4.062V2h2v2.062A8.004 8.004 0 0 1 19.938 11H22v2h-2.062ZM12 18a6 6 0 1 0 0-12a6 6 0 0 0 0 12Zm0-3a3 3 0 1 0 0-6a3 3 0 0 0 0 6Z"})})})}),Ge=r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:r.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8.56 3.69a9 9 0 0 0-2.92 1.95M3.69 8.56A9 9 0 0 0 3 12m.69 3.44a9 9 0 0 0 1.95 2.92m2.92 1.95A9 9 0 0 0 12 21m3.44-.69a9 9 0 0 0 2.92-1.95m1.95-2.92A9 9 0 0 0 21 12m-.69-3.44a9 9 0 0 0-1.95-2.92m-2.92-1.95A9 9 0 0 0 12 3"})}),Ze=r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:r.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 20.777a8.942 8.942 0 0 1-2.48-.969M14 3.223a9.003 9.003 0 0 1 0 17.554m-9.421-3.684a8.961 8.961 0 0 1-1.227-2.592M3.124 10.5c.16-.95.468-1.85.9-2.675l.169-.305m2.714-2.941A8.954 8.954 0 0 1 10 3.223"})}),Qe=r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 14 14",children:r.jsxs("g",{fill:"none",stroke:"currentColor",children:[r.jsx("path",{strokeLinecap:"round",d:"M13.326 8.5a6.5 6.5 0 1 1-.558-4.5"}),r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 2v2.5H11"})]})}),Ye=r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",children:r.jsx("path",{fill:"currentColor",d:"M8.065 2.016A.13.13 0 0 0 8.002 2v11.983l6.856.017a.12.12 0 0 0 .066-.017a.162.162 0 0 0 .054-.06a.176.176 0 0 0-.002-.183L8.12 2.073a.146.146 0 0 0-.054-.057zm-1.043-.45a1.13 1.13 0 0 1 1.96 0l6.856 11.667c.458.778-.091 1.767-.98 1.767H1.146c-.889 0-1.437-.99-.98-1.767L7.022 1.566z"})});function Q({allowNull:e,name:a,value:s,onChange:n,...l}){const o=i.useCallback(d=>{let{name:m,checked:h}=d.target,j;e?j=s===!1?!0:s?null:!1:j=h,n(m,j)},[e,n,s]),t=i.useRef(null);return i.useLayoutEffect(()=>{e&&t.current&&(s===null?t.current.indeterminate=!0:t.current.indeterminate=!1)},[s,e]),r.jsx("input",{type:"checkbox",ref:t,name:a,checked:s||!1,onChange:o})}function x({type:e,subtype:a,level:s,dimensions:n}){return r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"space",children:e===null||e==="indefinite"?"𝕏":e==="affine"?"𝔼":e==="finite"?"𝕊":"ℍ"}),n?r.jsx("sup",{children:n-1}):null,e==="hyperbolic"?r.jsxs("sub",{children:[{compact:" ",paracompact:"*",lorentzian:"L",superhyperbolic:"**"}[a],s]}):null]})}const Je=(...e)=>{if(Array.isArray(e[0]))return{coxeter:e,dimensions:e.length,extended:!0};const a=e.length+1;return{coxeter:new Array(a).fill().map((n,l)=>new Array(a).fill().map((o,t)=>l===t?1:l===t+1||t===l+1?e[se(l,t)]:2)),dimensions:a}},Xe=(...e)=>{const a=e.length+1;return{stellation:new Array(a).fill().map((n,l)=>new Array(a).fill().map((o,t)=>l===t?1:l===t+1||t===l+1?e[se(l,t)]:1))}},c=(e,a,s,n)=>{const l=Je(...e),{dimensions:o}=l,t={...D,...l,showVertices:o<=3,showFaces:o<=4,curve:o>3,grouper:"toddcoxeter",ambiance:"colorful",matrix:U(o),zoom:o<=3?2:o>4?3:5,centered:!0,...n||{}};return a?t.mirrors=a:t.mirrors=new Array(o).fill().map((d,m)=>m===0?1:0),s?t.stellation=Xe(...s).stellation:t.stellation=new Array(o).fill().map((d,m)=>new Array(o).fill(1)),t},w=e=>({...e,subforms:Object.entries(er(e.params.dimensions)).map(([a,s])=>({name:`${a} ${e.name}`,params:{...e.params,mirrors:s}}))}),f=(e,a,s,n)=>({...c(e,a,s),ambiance:"plain",showVertices:!1,curve:!0,zoom:1,...n}),L=(e,a,s,n)=>({...c(e,a,s),ambiance:"neon",showFaces:!1,showVertices:!1,grouper:"toddcoxeter",centered:!1,edgeThickness:10,zoom:2,...n}),g=(e,a,s,n)=>({...c(e,a,s),ambiance:"neon",showFaces:!1,showVertices:!1,curve:!0,grouper:"toddcoxeter",centered:!1,edgeThickness:10,zoom:1.5,...n}),er=e=>{if(e===4)return{Rectified:[0,1,0,0],Truncated:[1,1,0,0],Cantellated:[1,0,1,0],Cantitruncated:[1,1,1,0],Runcitruncated:[1,1,0,1],Runcinated:[1,0,0,1],Bitruncated:[0,1,1,0],Omnitruncated:[1,1,1,1]};if(e===5)return{Rectified:[0,1,0,0,0],Birectified:[0,0,1,0,0],Truncated:[1,1,0,0,0],Cantellated:[1,0,1,0,0],Runcinated:[1,0,0,1,0],Stericated:[1,0,0,0,1],Omnitruncated:[1,1,1,1,1]};if(e===6)return{Rectified:[0,1,0,0,0,0],Birectified:[0,0,1,0,0,0],Truncated:[1,1,0,0,0,0],Bitruncated:[0,1,1,0,0,0],Tritruncated:[0,0,1,1,0,0],Cantellated:[1,0,1,0,0,0],Bicantellated:[0,1,0,1,0,0],Runcinated:[1,0,0,1,0,0],Biruncinated:[0,1,0,0,1,0],Stericated:[1,0,0,0,1,0],Pentellated:[1,0,0,0,0,1],Omnitruncated:[1,1,1,1,1,1]};if(e===7)return{Rectified:[0,1,0,0,0,0,0],Birectified:[0,0,1,0,0,0,0],Truncated:[1,1,0,0,0,0,0],Bitruncated:[0,1,1,0,0,0,0],Tritruncated:[0,0,1,1,0,0,0],Cantellated:[1,0,1,0,0,0,0],Bicantellated:[0,1,0,1,0,0,0],Runcinated:[1,0,0,1,0,0,0],Biruncinated:[0,1,0,0,1,0,0],Stericated:[1,0,0,0,1,0,0],Pentellated:[1,0,0,0,0,1,0],Hexicated:[1,0,0,0,0,0,1],Omnitruncated:[1,1,1,1,1,1,1]};if(e===8)return{Rectified:[0,1,0,0,0,0,0,0],Birectified:[0,0,1,0,0,0,0,0],Truncated:[1,1,0,0,0,0,0,0],Bitruncated:[0,1,1,0,0,0,0,0],Tritruncated:[0,0,1,1,0,0,0,0],Quadritruncated:[0,0,0,1,1,0,0,0],Cantellated:[1,0,1,0,0,0,0,0],Bicantellated:[0,1,0,1,0,0,0,0],Tricantellated:[0,0,1,0,1,0,0,0],Runcinated:[1,0,0,1,0,0,0,0],Biruncinated:[0,1,0,0,1,0,0,0],Triruncinated:[0,0,1,0,0,1,0,0],Stericated:[1,0,0,0,1,0,0,0],Pentellated:[1,0,0,0,0,1,0,0],Hexicated:[1,0,0,0,0,0,1,0],Heptellated:[1,0,0,0,0,0,0,1],Omnitruncated:[1,1,1,1,1,1,1,1]};if(e===9)return{Rectified:[0,1,0,0,0,0,0,0,0],Birectified:[0,0,1,0,0,0,0,0,0],Truncated:[1,1,0,0,0,0,0,0,0],Bitruncated:[0,1,1,0,0,0,0,0,0],Tritruncated:[0,0,1,1,0,0,0,0,0],Quadritruncated:[0,0,0,1,1,0,0,0,0],Cantellated:[1,0,1,0,0,0,0,0,0],Bicantellated:[0,1,0,1,0,0,0,0,0],Tricantellated:[0,0,1,0,1,0,0,0,0],Runcinated:[1,0,0,1,0,0,0,0,0],Biruncinated:[0,1,0,0,1,0,0,0,0],Triruncinated:[0,0,1,0,0,1,0,0,0],Stericated:[1,0,0,0,1,0,0,0,0],Pentellated:[1,0,0,0,0,1,0,0,0],Hexicated:[1,0,0,0,0,0,1,0,0],Heptellated:[1,0,0,0,0,0,0,1,0],Octellated:[1,0,0,0,0,0,0,0,1],Omnitruncated:[1,1,1,1,1,1,1,1,1]}},rr=[{type:"title",content:r.jsxs(r.Fragment,{children:[r.jsx("span",{style:{color:"orange"},children:"★"})," Highlights"]})},{name:r.jsxs(r.Fragment,{children:[r.jsx(x,{type:"finite",dimensions:4})," Tesseract"]}),params:c([4,3,3],[1,0,0,0],null,{showVertices:!0,vertexThickness:150,showFaces:!0,curve:!0,ambiance:"neon",centered:!1,zoom:4.2})},{name:r.jsxs(r.Fragment,{children:[r.jsx(x,{type:"hyperbolic",dimensions:3})," 7-3-2 tiling"]}),params:f([7,3],[1,0,0],null,{showVertices:!1,showFaces:!0,curve:!0,ambiance:"neon"})},{name:r.jsxs(r.Fragment,{children:[r.jsx(x,{type:"hyperbolic",subtype:"paracompact",dimensions:3})," Ideal triangles"]}),params:f([[1,0,0],[0,1,0],[0,0,1]],[1,1,1],null,{grouper:"fundamental",showVertices:!1,showFaces:!0,curve:!0,segments:64,easing:"quartic",ambiance:"neon",centered:!0})},{name:r.jsxs(r.Fragment,{children:[r.jsx(x,{type:"finite",dimensions:8})," E6 (1",r.jsx("sub",{children:"22"}),")"]}),params:c([[1,3,2,2,2,2],[3,1,3,2,2,2],[2,3,1,3,3,2],[2,2,3,1,2,2],[2,2,3,2,1,3],[2,2,2,2,3,1]],[0,0,0,1,0,0],null,{vertexThickness:40,edgeThickness:10,ambiance:"colorful",showVertices:!0,projection3:"orthographic",projection4:"orthographic",projection5:"orthographic",projection6:"orthographic",zoom:1,centered:!1})},{name:r.jsxs(r.Fragment,{children:[r.jsx(x,{type:"finite",dimensions:8})," E8 (4",r.jsx("sub",{children:"21"}),")"]}),params:c([[1,3,2,2,2,2,2,2],[3,1,3,2,2,2,2,2],[2,3,1,3,3,2,2,2],[2,2,3,1,2,2,2,2],[2,2,3,2,1,3,2,2],[2,2,2,2,3,1,3,2],[2,2,2,2,2,3,1,3],[2,2,2,2,2,2,3,1]],[0,0,0,0,0,0,0,1],null,{vertexThickness:30,edgeThickness:1,curve:!1,ambiance:"neon",showVertices:!0,projection3:"orthographic",projection4:"orthographic",projection5:"orthographic",projection6:"orthographic",projection7:"orthographic",projection8:"orthographic",order:14,zoom:1,centered:!1})},{name:r.jsxs(r.Fragment,{children:[r.jsx(x,{type:"hyperbolic",subtype:"paracompact",dimensions:4})," Ideal tetrahedron"]}),params:f([3,3,6],[1,0,0,""],null,{showVertices:!1,showFaces:!0,curve:!0,order:1,centered:!0,segments:64,easing:"quartic",ambiance:"pure"})},{name:r.jsxs(r.Fragment,{children:[r.jsx(x,{type:"hyperbolic",subtype:"paracompact",dimensions:4})," ","Horoball"]}),params:f([6,3,4],[1,0,0,""],null,{showVertices:!1,showFaces:!0,curve:!0,order:20,centered:!1,ambiance:"colorful"})},{name:r.jsxs(r.Fragment,{children:[r.jsx(x,{type:"hyperbolic",dimensions:4})," 5-3-4 honeycomb"]}),params:g([5,3,4],[1,0,0,0],null,{zoom:1.5})},{name:r.jsxs(r.Fragment,{children:[r.jsx(x,{type:"hyperbolic",subtype:"lorentzian",level:2,dimensions:4})," ","7-3-3 paracompact honeycomb"]}),params:g([7,3,3],[1,0,0,0],null,{zoom:1.5,showFaces:!0,showVertices:!0,segments:16})},{name:r.jsxs(r.Fragment,{children:[r.jsx(x,{type:"hyperbolic",subtype:"paracompact",dimensions:4})," Ideal Pentahedron"]}),params:f([5,3,6],[1,0,0,""],null,{showVertices:!1,showFaces:!0,curve:!0,order:1,centered:!0,segments:32,easing:"quartic",ambiance:"pure",zoom:1.5})},{name:r.jsxs(r.Fragment,{children:[r.jsx(x,{type:"finite",dimensions:4})," Flat Torus"]}),params:c([32,2,32],[1,0,0,1],null,{showVertices:!1,showFaces:!1,curve:!0,ambiance:"neon",zoom:3,edgeThickness:5})},{name:r.jsxs(r.Fragment,{children:[r.jsx(x,{type:"affine",dimensions:5})," Tesseract stack"]}),params:c([[1,2,2,2,0],[2,1,2,2,2],[2,2,1,2,2],[2,2,2,1,2],[0,2,2,2,1]],[1,1,1,1,0],null,{showVertices:!1,showFaces:!0,ambiance:"neon",edgeThickness:35})},{type:"title",content:r.jsxs(r.Fragment,{children:[r.jsx(x,{type:"finite"})," Spherical space"]})},{type:"group",content:r.jsxs(r.Fragment,{children:[r.jsx(x,{type:"finite",dimensions:3})," Polyedra"]})},{name:"Tetrahedron",params:c([3,3]),subforms:[{name:"Truncated Tetrahedron",params:c([3,3],[1,1,0])}]},{name:"Cube",params:c([4,3]),subforms:[{name:"Cuboctahedron",params:c([4,3],[0,1,0])},{name:"Truncated Cube",params:c([4,3],[1,1,0])},{name:"Rhombicuboctahedron",params:c([4,3],[1,0,1])},{name:"Truncated Octahedron",params:c([3,4],[1,1,0])},{name:"Truncated Cuboctahedron",params:c([4,3],[1,1,1])},{name:"Octahedron",params:c([3,4])}]},{name:"Dodecahedron",params:c([5,3]),subforms:[{name:"Icosidodecahedron",params:c([5,3],[0,1,0])},{name:"Truncate Dodecahedron",params:c([5,3],[1,1,0])},{name:"Rhombicosidodecahedron",params:c([5,3],[1,0,1])},{name:"Truncate Icosahedron",params:c([3,5],[1,1,0])},{name:"Truncated Icosidodecahedron",params:c([5,3],[1,1,1])},{name:"Icosahedron",params:c([3,5])}]},{name:"Snub Cube",params:c([4,3],["s","s","s"])},{name:"Snub Dodecahedron",params:c([5,3],["s","s","s"])},{name:"Great Dodecahedron",params:c([5,5],[1,0,0],[1,2])},{name:"Great Icosahedron",params:c([3,5],[1,0,0],[1,2])},{name:"Small Stellated Dodecahedron",params:c([5,5],[1,0,0],[2,1])},{name:"Great Stellated Dodecahedron",params:c([5,3],[1,0,0],[2,1])},{name:"Stellated Octahedron",params:c([2,2],["ß","ß","ß"])},{type:"group",content:r.jsxs(r.Fragment,{children:[r.jsx(x,{type:"finite",dimensions:4})," Polychora"]})},w({name:"5-cell",params:c([3,3,3])}),w({name:"8-cell",params:c([4,3,3])}),w({name:"16-cell",params:c([3,3,4])}),w({name:"24-cell",params:c([3,4,3])}),w({name:"120-cell",params:c([5,3,3])}),w({name:"600-cell",params:c([3,3,5])}),{name:"Snub 24-cell",params:c([3,4,3],["s","s",0,0])},{name:"Icosahedral 120-cell",params:c([3,5,5],[1,0,0,0],[1,1,2],{curve:!1}),subforms:[{name:"Small stellated 120-cell",params:c([3,5,5],[0,0,0,1],[1,1,2],{curve:!1})},{name:"Great 120-cell",params:c([5,5,5],[1,0,0,0],[1,2,1],{curve:!1})},{name:"Grand 120-cell",params:c([5,3,5],[1,0,0,0],[1,1,2],{curve:!1})},{name:"Great stellated 120-cell",params:c([5,3,5],[0,0,0,1],[1,1,2],{curve:!1})},{name:"Grand stellated 120-cell",params:c([5,5,5],[1,0,0,0],[2,1,2],{curve:!1})},{name:"Great grand 120-cell",params:c([5,5,3],[1,0,0,0],[1,2,1],{curve:!1})},{name:"Great icosahedral 120-cell",params:c([5,5,3],[0,0,0,1],[1,2,1],{curve:!1})},{name:"Great grand stellated 120-cell",params:c([5,3,3],[1,0,0,0],[2,1,1],{curve:!1})}]},{name:"Grand 600-cell",params:c([3,3,5],[1,0,0,0],[1,1,2],{curve:!1})},{type:"group",content:r.jsxs(r.Fragment,{children:[r.jsx(x,{type:"finite",dimensions:5})," Polytera"]})},w({name:"5-simplex",params:c([3,3,3,3])}),w({name:"5-cube",params:c([4,3,3,3])}),w({name:"5-orthoplex",params:c([3,3,3,4])}),w({name:"5-demicube",params:c([[1,2,3,2,2],[2,1,3,2,2],[3,3,1,3,2],[2,2,3,1,3],[2,2,2,3,1]])}),{type:"group",content:r.jsxs(r.Fragment,{children:[r.jsx(x,{type:"finite",dimensions:6})," Polypeta"]})},w({name:"6-simplex",params:c([3,3,3,3,3])}),w({name:"6-cube",params:c([4,3,3,3,3])}),w({name:"6-orthoplex",params:c([3,3,3,3,4])}),w({name:"6-demicube",params:c([[1,2,3,2,2,2],[2,1,3,2,2,2],[3,3,1,3,2,2],[2,2,3,1,3,2],[2,2,2,3,1,3],[2,2,2,2,3,1]])}),{name:r.jsxs(r.Fragment,{children:["2",r.jsx("sub",{children:"21"})]}),params:c([[1,3,2,2,2,2],[3,1,3,2,2,2],[2,3,1,3,3,2],[2,2,3,1,2,2],[2,2,3,2,1,3],[2,2,2,2,3,1]],[1,0,0,0,0,0])},{name:r.jsxs(r.Fragment,{children:["1",r.jsx("sub",{children:"22"})]}),params:c([[1,3,2,2,2,2],[3,1,3,2,2,2],[2,3,1,3,3,2],[2,2,3,1,2,2],[2,2,3,2,1,3],[2,2,2,2,3,1]],[0,0,0,1,0,0])},{type:"group",content:r.jsxs(r.Fragment,{children:[r.jsx(x,{type:"finite",dimensions:7})," Polyexa"]})},w({name:"7-simplex",params:c([3,3,3,3,3,3])}),w({name:"7-cube",params:c([4,3,3,3,3,3])}),w({name:"7-orthoplex",params:c([3,3,3,3,3,4])}),w({name:"7-demicube",params:c([[1,2,3,2,2,2,2],[2,1,3,2,2,2,2],[3,3,1,3,2,2,2],[2,2,3,1,3,2,2],[2,2,2,3,1,3,2],[2,2,2,2,3,1,3],[2,2,2,2,2,3,1]])}),{name:r.jsxs(r.Fragment,{children:["3",r.jsx("sub",{children:"21"})]}),params:c([[1,3,2,2,2,2,2],[3,1,3,2,2,2,2],[2,3,1,3,2,2,2],[2,2,3,1,3,3,2],[2,2,2,3,1,2,2],[2,2,2,3,2,1,3],[2,2,2,2,2,3,1]],[1,0,0,0,0,0,0])},{name:r.jsxs(r.Fragment,{children:["2",r.jsx("sub",{children:"31"})]}),params:c([[1,3,2,2,2,2,2],[3,1,3,2,2,2,2],[2,3,1,3,2,2,2],[2,2,3,1,3,3,2],[2,2,2,3,1,2,2],[2,2,2,3,2,1,3],[2,2,2,2,2,3,1]],[0,0,0,0,0,0,1])},{name:r.jsxs(r.Fragment,{children:["1",r.jsx("sub",{children:"32"})]}),params:c([[1,3,2,2,2,2,2],[3,1,3,2,2,2,2],[2,3,1,3,2,2,2],[2,2,3,1,3,3,2],[2,2,2,3,1,2,2],[2,2,2,3,2,1,3],[2,2,2,2,2,3,1]],[0,0,0,0,1,0,0])},{type:"group",content:r.jsxs(r.Fragment,{children:[r.jsx(x,{type:"finite",dimensions:8})," Polyzetta"]})},w({name:"8-simplex",params:c([3,3,3,3,3,3,3])}),w({name:"8-cube",params:c([4,3,3,3,3,3,3])}),w({name:"8-orthoplex",params:c([3,3,3,3,3,3,4])}),w({name:"8-demicube",params:c([[1,2,3,2,2,2,2,2],[2,1,3,2,2,2,2,2],[3,3,1,3,2,2,2,2],[2,2,3,1,3,2,2,2],[2,2,2,3,1,3,2,2],[2,2,2,2,3,1,3,2],[2,2,2,2,2,3,1,3],[2,2,2,2,2,2,3,1]])}),{name:r.jsxs(r.Fragment,{children:["1",r.jsx("sub",{children:"42"})]}),params:c([[1,3,2,2,2,2,2,2],[3,1,3,2,2,2,2,2],[2,3,1,3,3,2,2,2],[2,2,3,1,2,2,2,2],[2,2,3,2,1,3,2,2],[2,2,2,2,3,1,3,2],[2,2,2,2,2,3,1,3],[2,2,2,2,2,2,3,1]],[0,0,1,0,0,0,0,0])},{name:r.jsxs(r.Fragment,{children:["2",r.jsx("sub",{children:"41"})]}),params:c([[1,3,2,2,2,2,2,2],[3,1,3,2,2,2,2,2],[2,3,1,3,3,2,2,2],[2,2,3,1,2,2,2,2],[2,2,3,2,1,3,2,2],[2,2,2,2,3,1,3,2],[2,2,2,2,2,3,1,3],[2,2,2,2,2,2,3,1]],[1,0,0,0,0,0,0,0])},{name:r.jsxs(r.Fragment,{children:["4",r.jsx("sub",{children:"21"})]}),params:c([[1,3,2,2,2,2,2,2],[3,1,3,2,2,2,2,2],[2,3,1,3,3,2,2,2],[2,2,3,1,2,2,2,2],[2,2,3,2,1,3,2,2],[2,2,2,2,3,1,3,2],[2,2,2,2,2,3,1,3],[2,2,2,2,2,2,3,1]],[0,0,0,0,0,0,0,1])},{type:"group",content:r.jsxs(r.Fragment,{children:[r.jsx(x,{type:"finite",dimensions:9}),"Polyyotta"]})},w({name:"9-simplex",params:c([3,3,3,3,3,3,3,3])}),w({name:"9-cube",params:c([4,3,3,3,3,3,3,3])}),w({name:"9-orthoplex",params:c([3,3,3,3,3,3,3,4])}),w({name:"9-demicube",params:c([[1,2,3,2,2,2,2,2,2],[2,1,3,2,2,2,2,2,2],[3,3,1,3,2,2,2,2,2],[2,2,3,1,3,2,2,2,2],[2,2,2,3,1,3,2,2,2],[2,2,2,2,3,1,3,2,2],[2,2,2,2,2,3,1,3,2],[2,2,2,2,2,2,3,1,3],[2,2,2,2,2,2,2,3,1]])}),{type:"title",content:r.jsxs(r.Fragment,{children:[r.jsx(x,{type:"affine"})," Euclidean space"]})},{type:"group",content:r.jsxs(r.Fragment,{children:[r.jsx(x,{type:"affine",dimensions:3})," Tilings"]})},{name:"Triangle",params:c([[1,3,3],[3,1,3],[3,3,1]],[1,0,0])},{name:"Square",params:c([4,4],[1,0,0])},{name:"Hexagonal",params:c([6,3],[1,0,0])},{type:"group",content:r.jsxs(r.Fragment,{children:[r.jsx(x,{type:"affine",dimensions:4})," Honeycombs"]})},{name:"Cubic",params:L([4,3,4],[1,0,0,0])},{name:"Octet",params:L([[1,3,2,2],[3,1,3,4],[2,3,1,2],[2,4,2,1]],[1,0,0,0])},{name:"Quarter cubic",params:L([[1,3,2,3],[3,1,3,2],[2,3,1,3],[3,2,3,1]],[1,0,0,1])},{type:"group",content:r.jsxs(r.Fragment,{children:[r.jsx(x,{type:"affine",dimensions:5})," 4-Honeycombs"]})},{name:"Tesseractic",params:L([4,3,3,4],[1,0,0,0,0])},{name:"16-cellic",params:L([3,3,4,3],[1,0,0,0,0],null,{grouper:"toddcoxeter"})},{name:"24-cellic",params:L([3,4,3,3],[1,0,0,0,0],null,{grouper:"toddcoxeter"})},{name:"4-simpletic",params:L([[1,3,2,2,3],[3,1,3,2,2],[2,3,1,3,2],[2,2,3,1,3],[3,2,2,3,1]],[1,0,0,0,0],null,{grouper:"toddcoxeter"})},{name:"Quarter tesseractic",params:L([[1,2,3,2,2],[2,1,3,2,2],[3,3,1,3,3],[2,2,3,1,2],[2,2,3,2,1]],[1,0,0,1,0],null,{grouper:"toddcoxeter"})},{type:"title",content:r.jsxs(r.Fragment,{children:[r.jsx(x,{type:"hyperbolic"})," Hyperbolic space"]})},{type:"group",content:r.jsxs(r.Fragment,{children:[r.jsx(x,{type:"hyperbolic",dimensions:3})," Tilings"]})},{name:"Order-7 triangular",params:f([3,7],[1,0,0])},{name:"Order-8 triangular",params:f([3,8],[1,0,0])},{name:"Infinite Order triangular",params:f([3,0],[1,0,0])},{name:"Order-5 square",params:f([4,5],[1,0,0])},{name:"Order-6 square",params:f([4,6],[1,0,0])},{name:"Order-7 square",params:f([4,7],[1,0,0])},{name:"Order-8 square",params:f([4,8],[1,0,0])},{name:"Infinite Order square",params:f([4,0],[1,0,0])},{name:"Order-4 pentagonal",params:f([5,4],[1,0,0])},{name:"Order-5 pentagonal",params:f([5,5],[1,0,0])},{name:"Order-6 pentagonal",params:f([5,6],[1,0,0])},{name:"Order-7 pentagonal",params:f([5,7],[1,0,0])},{name:"Order-8 pentagonal",params:f([5,8],[1,0,0])},{name:"Infinite Order pentagonal",params:f([5,0],[1,0,0])},{name:"Order-4 hexagonal",params:f([6,4],[1,0,0])},{name:"Order-5 hexagonal",params:f([6,5],[1,0,0])},{name:"Order-6 hexagonal",params:f([6,6],[1,0,0])},{name:"Order-7 hexagonal",params:f([6,7],[1,0,0])},{name:"Order-8 hexagonal",params:f([6,8],[1,0,0])},{name:"Infinite Order hexagonal",params:f([6,0],[1,0,0])},{name:"Order-3 heptagonal",params:f([7,3],[1,0,0])},{name:"Order-4 heptagonal",params:f([7,4],[1,0,0])},{name:"Order-5 heptagonal",params:f([7,5],[1,0,0])},{name:"Order-6 heptagonal",params:f([7,6],[1,0,0])},{name:"Order-7 heptagonal",params:f([7,7],[1,0,0])},{name:"Order-8 heptagonal",params:f([7,8],[1,0,0])},{name:"Infinite Order heptagonal",params:f([7,0],[1,0,0])},{name:"Order-3 octagonal",params:f([8,3],[1,0,0])},{name:"Order-4 octagonal",params:f([8,4],[1,0,0])},{name:"Order-5 octagonal",params:f([8,5],[1,0,0])},{name:"Order-6 octagonal",params:f([8,6],[1,0,0])},{name:"Order-7 octagonal",params:f([8,7],[1,0,0])},{name:"Order-8 octagonal",params:f([8,8],[1,0,0])},{name:"Infinite Order octagonal",params:f([8,0],[1,0,0])},{name:"Order-3 apeirogonal",params:f([0,3],[1,0,0])},{name:"Order-4 apeirogonal",params:f([0,4],[1,0,0])},{name:"Order-5 apeirogonal",params:f([0,5],[1,0,0])},{name:"Order-6 apeirogonal",params:f([0,6],[1,0,0])},{name:"Order-7 apeirogonal",params:f([0,7],[1,0,0])},{name:"Order-8 apeirogonal",params:f([0,8],[1,0,0])},{name:"Infinite Order apeirogonal",params:f([0,0],[1,0,0])},{type:"group",content:r.jsxs(r.Fragment,{children:[r.jsx(x,{type:"hyperbolic",subtype:"compact",dimensions:4})," Honeycombs compacts"]})},{name:"Icosahedral",params:g([3,5,3],[1,0,0,0])},{name:"Order-4 dodecahedral",params:g([5,3,4],[1,0,0,0])},{name:"Order-5 dodecahedral",params:g([5,3,5],[1,0,0,0],null,{grouper:"toddcoxeter"})},{name:"Alternated Order-5 cubic",params:g([[1,2,3,2],[2,1,3,2],[3,3,1,5],[2,2,5,1]],[1,0,0,0])},{name:"Tetrahedral cubic",params:g([[1,4,2,3],[4,1,3,2],[2,3,1,3],[3,2,3,1]],[1,0,0,0],null,{grouper:"toddcoxeter"})},{name:"Tetrahedral dodecahedral",params:g([[1,3,2,5],[3,1,3,2],[2,3,1,3],[5,2,3,1]],[1,0,0,0],null,{grouper:"toddcoxeter"})},{name:"Cubic octahedral",params:g([[1,3,2,4],[3,1,4,2],[2,4,1,3],[4,2,3,1]],[1,0,0,0],null,{grouper:"toddcoxeter"})},{name:"Octahedral Dodcahedral",params:g([[1,3,2,5],[3,1,4,2],[2,4,1,3],[5,2,3,1]],[1,0,0,0],null,{grouper:"toddcoxeter"})},{name:"Octahedral Icosahedral",params:g([[1,3,2,5],[3,1,5,2],[2,5,1,3],[5,2,3,1]],[1,0,0,0],null,{grouper:"toddcoxeter"})},{type:"group",content:r.jsxs(r.Fragment,{children:[r.jsx(x,{type:"hyperbolic",subtype:"paracompact",dimensions:4})," ","Honeycombs paracompacts"]})},{name:"Triangular",params:g([3,6,3],[1,0,0,0],null,{grouper:"toddcoxeter"})},{name:"Hexagonal",params:g([6,3,3],[1,0,0,0],null,{grouper:"toddcoxeter"})},{name:"Order-6 tetrahedral",params:g([3,3,6],[1,0,0,0],null,{grouper:"toddcoxeter"})},{name:"Alternated Order-6 cubic",params:g([[1,2,3,2],[2,1,3,2],[3,3,1,6],[2,2,6,1]],[1,0,0,0],null,{grouper:"toddcoxeter"})},{name:"Order-5 hexagonal",params:g([6,3,5],[1,0,0,0],null,{grouper:"toddcoxeter"})},{name:"Alternated Order-5 hexagonal",params:g([[1,2,3,2],[2,1,3,2],[3,3,1,5],[2,2,5,1]],[1,0,0,0],null,{grouper:"toddcoxeter"})},{name:"Order-6 hexagonal",params:g([6,3,6],[1,0,0,0],null,{grouper:"toddcoxeter"})},{name:"Square",params:g([4,4,3],[1,0,0,0],null,{grouper:"toddcoxeter"})},{name:"Alternated square",params:g([[1,2,4,2],[2,1,4,2],[4,4,1,3],[2,2,3,1]],[1,0,0,0],null,{grouper:"toddcoxeter"})},{name:"Order-4 square",params:g([4,4,4],[0,1,0,0],null,{grouper:"toddcoxeter"})},{name:"Tetrahedral square",params:g([[1,4,2,4],[4,1,3,2],[2,3,1,3],[4,2,3,1]],[0,1,0,0],null,{grouper:"toddcoxeter"})},{name:"Cubic square",params:g([[1,4,2,4],[4,1,3,2],[2,3,1,4],[4,2,4,1]],[1,0,0,0],null,{grouper:"toddcoxeter"})},{name:"Quarter order square",params:g([[1,4,2,4],[4,1,4,2],[2,4,1,4],[4,2,4,1]],[1,0,0,0],null,{grouper:"toddcoxeter"})},{name:"Tetrahedral Hexagonal",params:g([[1,3,2,6],[3,1,3,2],[2,3,1,3],[6,2,3,1]],[1,0,0,0],null,{grouper:"toddcoxeter"})},{name:"Octahedral Hexagonal",params:g([[1,3,2,6],[3,1,4,2],[2,4,1,3],[6,2,3,1]],[1,0,0,0],null,{grouper:"toddcoxeter"})},{name:"Icosahedral Hexagonal",params:g([[1,3,2,6],[3,1,5,2],[2,5,1,3],[6,2,3,1]],[1,0,0,0],null,{grouper:"toddcoxeter"})},{name:"Hexagonal Triangular",params:g([[1,3,2,6],[3,1,6,2],[2,6,1,3],[6,2,3,1]],[1,0,0,0],null,{grouper:"toddcoxeter"})},{name:"Alternated Hexagonal",params:g([[1,3,3,2],[3,1,3,2],[3,3,1,3],[2,2,3,1]],[1,0,0,0],null,{grouper:"toddcoxeter"})},{name:"Alternated Order-4 Hexagonal",params:g([[1,3,3,2],[3,1,3,2],[3,3,1,4],[2,2,4,1]],[1,0,0,0],null,{grouper:"toddcoxeter"})},{name:"Alternated Order-5 Hexagonal",params:g([[1,3,3,2],[3,1,3,2],[3,3,1,5],[2,2,5,1]],[1,0,0,0],null,{grouper:"toddcoxeter"})},{name:"Runcic Order-6 Hexagonal",params:g([[1,3,3,2],[3,1,3,2],[3,3,1,6],[2,2,6,1]],[1,0,0,1],null,{grouper:"toddcoxeter"})},{name:"Quarter Order-4 hexagonal",params:g([[1,3,3,2],[3,1,3,3],[3,3,1,3],[2,3,3,1]],[1,1,0,0],null,{grouper:"toddcoxeter"})},{name:"Hexagonal",params:g([[1,3,3,3],[3,1,3,3],[3,3,1,3],[3,3,3,1]],[1,1,1,1],null,{grouper:"toddcoxeter"})},{type:"group",content:r.jsxs(r.Fragment,{children:[r.jsx(x,{type:"hyperbolic",subtype:"lorentzian",level:2,dimensions:4})," ","Honeycombs lorentzians"]})},{name:"3-3-7",params:g([3,3,7],[1,0,0,0],null,{grouper:"toddcoxeter"})},{name:"3-4-7",params:g([3,3,7],[1,0,0,0],null,{grouper:"toddcoxeter"})},{name:"3-5-7",params:g([3,5,7],[1,0,0,0],null,{grouper:"toddcoxeter"})}],$=e=>{if(["string","number"].includes(typeof e))return e;if(e instanceof Array)return e.map($).join("");if(typeof e=="object"&&e)return $(e.props.children)},Y=(e,a)=>typeof e=="string"?$(e).toLowerCase().includes(a.toLowerCase()):!1,ar=i.memo(function e({name:a,params:s,search:n,subforms:l=[],sub:o=!1,onPreset:t}){const[d,m]=i.useState(!0),[h,j]=i.useState(!1);return i.useEffect(()=>{if(!n){m(!0),j(!1);return}if(Y(a,n)){m(!0);return}if(l.length&&l.some(({name:u})=>Y(u,n))){m(!0),j(!0);return}m(!1),j(!1)},[a,n,l]),d?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:`preset${o?" sub":""}`,onClick:()=>t(s),children:[r.jsxs("div",{className:`preset-header preset-name-${l.length?"button":"only"}`,children:[l.length?r.jsx("button",{className:`preset-toggle ${h?"open":"closed"}`,onClick:u=>{u.stopPropagation(),j(!h)},children:h?"-":"+"}):null,r.jsx("span",{className:"preset-name",children:a})]}),r.jsx(je,{coxeter:s.coxeter,mirrors:s.mirrors,stellation:s.stellation})]}),h&&l.map((u,b)=>r.jsx(e,{...u,sub:!0,search:n,onPreset:t},b))]}):null}),sr=r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:r.jsx("path",{fill:"currentColor",d:"M7.95 19L3 12l4.95-7H21v14H7.95Zm3.45-3l2.6-2.6l2.6 2.6l1.4-1.4l-2.6-2.6L18 9.4L16.6 8L14 10.6L11.4 8L10 9.4l2.6 2.6l-2.6 2.6l1.4 1.4Z"})}),nr=r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:r.jsx("path",{fill:"currentColor",d:"M6 17c0-2 4-3.1 6-3.1s6 1.1 6 3.1v1H6m9-9a3 3 0 0 1-3 3a3 3 0 0 1-3-3a3 3 0 0 1 3-3a3 3 0 0 1 3 3M3 5v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2Z"})}),tr=r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:r.jsx("path",{fill:"currentColor",d:"M6 2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6m-1 1.5L18.5 9H13m-4.07 3.22H16v7.07l-2.12-2.12L11.05 20l-2.83-2.83l2.83-2.82"})}),or=r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:r.jsx("path",{fill:"currentColor",d:"M6.4 19L5 17.6l5.6-5.6L5 6.4L6.4 5l5.6 5.6L17.6 5L19 6.4L13.4 12l5.6 5.6l-1.4 1.4l-5.6-5.6L6.4 19Z"})});function cr({open:e,onPreset:a,onExportImage:s,closePresets:n}){const[l,o]=i.useState(""),[t,d]=i.useState(""),m=i.useCallback(h=>{d(h.target.value),P(o(h.target.value),50)},[]);return r.jsxs(r.Fragment,{children:[r.jsx("div",{className:`presets-overlay ${e?"shown":"hidden"}`,onClick:n}),r.jsx("div",{className:`presets ${e?"shown":"hidden"}`,children:r.jsxs("div",{className:"presets-modal",children:[r.jsxs("div",{className:"presets-header",children:[r.jsxs("div",{className:"presets-search",children:[r.jsx("input",{type:"text",placeholder:"Search",value:t,onChange:m}),r.jsx("button",{className:"presets-clear",onClick:()=>{o(""),d("")},children:sr})]}),r.jsxs("div",{className:"presets-actions",children:[r.jsx("a",{className:"presets-action",href:"https://florian.mounier.dev/",children:nr}),r.jsx("button",{className:"presets-action",onClick:s,children:tr}),r.jsx("button",{className:"presets-action",onClick:n,children:or})]})]}),r.jsx("div",{className:"presets-list",children:rr.map(({type:h,content:j,name:u,params:b,subforms:y},E)=>r.jsx(i.Fragment,{children:h==="title"?r.jsx("h2",{children:j}):h==="group"?r.jsx("h4",{children:j}):r.jsx(ar,{name:u,params:b,search:l,subforms:y,onPreset:a})},E))})]})})]})}function J({rotations:e,spaceType:a,axis:s}){if(!a)return null;const n=a.gram.length,l=e.shift*2+s;if(l>=e.combinations.length)return null;const o=e.combinations[l];return r.jsxs("aside",{className:`${s?"y":"x"}-rotation`,children:[ve.slice(0,n).split("").filter((t,d)=>!o.includes(d)),o.some(t=>a.eigens.values[t]<0)?r.jsx("sup",{children:"†"}):o.some(t=>a.eigens.values[t]===0)?r.jsx("sup",{children:"0"}):""]})}function lr({runtime:e,params:a,rotations:s,updateParams:n,updateRotations:l}){const[o,t]=i.useState("simple"),[d,m]=i.useState(!1),h=i.useCallback(()=>{m(!1)},[]),j=i.useCallback(p=>{let{name:v,value:k}=p.target;n({[v]:k})},[n]),u=i.useCallback((p,v)=>{n({[p]:v})},[n]),b=i.useCallback(()=>t(p=>({simple:"advanced",advanced:"full",full:"empty",empty:"simple"})[p]),[]),y=i.useCallback(p=>{n(p),h()},[n,h]),E=i.useCallback(()=>{n({matrix:U(e.dimensions)})},[n,e.dimensions]),O=i.useCallback(p=>{l("shift",(s.shift+1)%s.maxShift)},[s.maxShift,s.shift,l]),I=i.useCallback(p=>{l("auto",s.auto==="free"?"damp":"free")},[s.auto,l]),V=i.useCallback(async()=>{const p=window.prompt("Select image resolution","5000x5000");if(!p||!p.includes("x")){console.error("Invalid resolution");return}const[v,k]=p.split("x").map(F=>parseInt(F));if(isNaN(v)||isNaN(k)){console.error("Invalid resolution");return}const S=await(await _e(()=>import("./export-902100eb.js"),[],import.meta.url)).makeBigPng(e,v,k);if(S){const F=document.createElement("a");document.body.appendChild(F),F.style.display="none";const H=window.URL.createObjectURL(S);F.href=H,F.download=`${document.title}-${v}x${k}`,F.click()}},[e]);return r.jsxs(r.Fragment,{children:[r.jsx(cr,{open:d,onPreset:y,onExportImage:V,closePresets:h}),r.jsxs("div",{className:e.error?"error":"",title:e.error,children:[e.currentOrder<e.order?r.jsxs("aside",{className:"processing-counter",children:[e.currentOrder,"/",e.order]}):null,["simple","advanced","full"].includes(o)?r.jsx("button",{className:"preset-button button",onClick:()=>m(p=>!p),title:"Presets",children:Ye}):null,["simple","advanced","full"].includes(o)?r.jsxs("aside",{className:"controls",children:[r.jsxs("button",{className:"rotation-button button",onClick:O,title:"Rotation Mode",children:[r.jsx("div",{className:"rotation",style:{transform:`rotate(${s.shift/s.maxShift*360}deg)`},children:Qe}),r.jsx("sup",{children:s.shift+1}),r.jsx(J,{rotations:s,spaceType:e.spaceType,axis:0}),r.jsx(J,{rotations:s,spaceType:e.spaceType,axis:1})]}),r.jsxs("div",{className:"subcontrols",children:[r.jsx("button",{className:"button anim-view",onClick:I,title:"Animate rotations",children:s.auto==="free"?Ge:s.auto==="damp"?Ze:"?"}),!be(e.matrix)&&r.jsx("button",{className:"button reset-view",onClick:E,title:"Reset View",children:Ke})]})]}):null,r.jsx("button",{className:`space-button button${e.processing?" processing":""}${o==="empty"?" empty":""}`,onClick:b,children:r.jsx(x,{...e.spaceType||{},dimensions:e.dimensions})}),["advanced","full"].includes(o)&&r.jsxs("aside",{className:"parameters",children:[o==="full"&&r.jsxs("label",{className:"select-label",children:["Grouper",r.jsx("select",{name:"grouper",value:a.grouper,onChange:j,children:we.map(p=>r.jsx("option",{value:p,children:p.replace(/_/g," ").replace(/\b./g,v=>v.toUpperCase())},p))})]}),r.jsxs("label",{className:"boolean-label",children:["inCentered",r.jsx(Q,{name:"centered",allowNull:!0,value:a.centered,onChange:u})]}),(o==="full"||e.curvature<=0)&&r.jsx(N,{name:"order",label:"Precision",min:1,step:1,value:a.order,onChange:u}),r.jsx(N,{name:"segments",label:"Segments",min:1,step:1,value:a.segments,toggler:a.curve,togglerName:"curve",onChange:u}),r.jsxs("label",{className:"select-label",children:["Easing",r.jsx("select",{name:"easing",value:a.easing,onChange:j,children:ye.map(p=>r.jsx("option",{value:p,children:p.replace(/_/g," ").replace(/\b./g,v=>v.toUpperCase())},p))})]}),r.jsx(N,{name:"vertexThickness",label:"Vertices",min:0,step:1,value:a.vertexThickness,toggler:a.showVertices,togglerName:"showVertices",onChange:u}),r.jsx(N,{name:"edgeThickness",label:"Edges",min:0,step:1,value:a.edgeThickness,toggler:a.showEdges,togglerName:"showEdges",onChange:u}),["toddcoxeter","fundamental"].includes(e.grouper)&&r.jsxs("label",{className:"boolean-label",children:["Faces",r.jsx(Q,{name:"showFaces",value:a.showFaces,onChange:u})]}),r.jsxs("label",{className:"select-label",children:["Ambiance",r.jsx("select",{name:"ambiance",value:a.ambiance,onChange:j,children:(o==="full"?Object.keys(W):Object.entries(W).filter(([p,{extended:v}])=>!v||p===a.ambiance).map(([p])=>p)).map(p=>r.jsx("option",{value:p,children:p.replace(/_/g," ").replace(/./,v=>v.toUpperCase())},p))})]})]}),["advanced","full"].includes(o)&&r.jsxs("aside",{className:"view",children:[r.jsx(N,{name:"msaaSamples",label:"MSAA",min:0,step:1,max:D.msaaSamples,value:a.msaaSamples,toggler:a.msaa,togglerName:"msaa",onChange:u}),o==="full"&&r.jsx(N,{name:"subsampling",label:"subsampling",min:.1,step:.1,value:a.subsampling,onChange:u}),a.dimensions>=3?ne(3,a.dimensions+1).map(p=>r.jsxs("div",{className:"projection",children:[r.jsx(N,{label:`${p}D FOV`,name:`fov${p}`,step:1,value:a[`fov${p}`],onChange:u}),r.jsxs("label",{className:"number",children:[r.jsxs("span",{className:"number-label",children:[p,"D Projection"]}),r.jsx("select",{name:`projection${p}`,value:a[`projection${p}`],onChange:j,children:[...ke.filter((v,k)=>p===3||k<7)].map(v=>r.jsx("option",{value:v,children:v.replace(/_/g," ").replace(/./,k=>k.toUpperCase())},v))})]})]},p)):null]}),["simple","advanced","full"].includes(o)&&r.jsx(Oe,{dimensions:a.dimensions,coxeter:a.coxeter,mirrors:a.mirrors,stellation:a.stellation,extended:a.extended,onChange:u})]})]})}function ir({params:e,updateParams:a}){const[s,n]=i.useState({...e,currentOrder:0,askedOrder:null,spaceType:null,curvature:null,rootNormals:null,rootVertices:null,vertex:[],edge:[],ranges:[],face:[],processing:!0,error:null,renderError:null});i.useEffect(()=>{n(d=>{try{return d.gl?d:Ee(d)}catch(m){return console.error(m),{...d,error:m.message}}})},[s.gl]);const[l,o]=i.useState({shift:0,maxShift:0,combinations:[],auto:"damp"});i.useEffect(()=>{n(d=>({...d,...te({order:e.order,ambiance:e.ambiance,showVertices:e.showVertices,showEdges:e.showEdges,showFaces:e.showFaces,vertexThickness:e.vertexThickness,edgeThickness:e.edgeThickness,projection3:e.projection3,projection4:e.projection4,projection5:e.projection5,projection6:e.projection6,projection7:e.projection7,projection8:e.projection8,projection9:e.projection9,msaa:e.msaa,msaaSamples:e.msaaSamples,subsampling:e.subsampling,matrix:e.matrix,fov3:e.fov3,fov4:e.fov4,fov5:e.fov5,fov6:e.fov6,fov7:e.fov7,fov8:e.fov8,fov9:e.fov9,zoom:e.zoom,curve:e.curve,segments:e.segments,easing:e.easing,dimensions:e.dimensions,coxeter:e.coxeter,mirrors:e.mirrors,stellation:e.stellation,centered:e.centered}).params}))},[e.order,e.ambiance,e.centered,e.coxeter,e.curve,e.dimensions,e.edgeThickness,e.fov3,e.fov4,e.fov5,e.fov6,e.fov7,e.fov8,e.fov9,e.matrix,e.mirrors,e.msaa,e.msaaSamples,e.projection3,e.projection4,e.projection5,e.projection6,e.projection7,e.projection8,e.projection9,e.segments,e.easing,e.showEdges,e.showFaces,e.showVertices,e.stellation,e.subsampling,e.vertexThickness,e.zoom]),i.useEffect(()=>{o(d=>({...d,shift:0,maxShift:~~Ce(Te(e.dimensions,2)/2),combinations:Fe(Se(ne(e.dimensions),2)),auto:"damp"}))},[e.dimensions]),i.useEffect(()=>{n(d=>e.grouper===""&&d.grouper.startsWith("auto-")?d:{...d,grouper:e.grouper})},[e.grouper]);const t=i.useCallback((d,m)=>{o(h=>({...h,[d]:m}))},[o]);return s.gl?r.jsxs("div",{className:s.error||s.renderError?"error":"",title:s.error||s.renderError,children:[r.jsx(lr,{runtime:s,params:e,rotations:l,updateRotations:t,updateParams:a}),r.jsx(Re,{runtime:s,rotations:l,setRuntime:n,updateRotations:t,updateParams:a})]}):null}const X=(e=null)=>{const{location:a}=window;if(a.hash)try{return JSON.parse(atob(a.hash.slice(1)))}catch(s){console.warn(s),a.hash=""}return e},dr=e=>{window.history.pushState(null,null,"#"+btoa(JSON.stringify(e)))},M=(e,a)=>e.length!==a.length?!1:e.every((s,n)=>Array.isArray(s)?M(s,a[n]):s===a[n]),pr=()=>{const[e,a]=i.useState(X(D)),s=i.useCallback(l=>{const o=X();o&&(Object.entries(o).forEach(([t,d])=>{Array.isArray(d)&&M(d,e[t])&&(o[t]=e[t])}),a(o))},[e]),n=i.useCallback(l=>{a(o=>{if(!Object.entries(l).filter(([m,h])=>Array.isArray(h)?!M(h,o[m]):o[m]!==h).length)return o;const{params:t,badParams:d}=te({...o,...l},Object.keys(l));return d.length||dr(t),t})},[]);return i.useEffect(()=>(window.addEventListener("popstate",s),()=>{window.removeEventListener("popstate",s)}),[s]),r.jsx(ir,{params:e,updateParams:n})};Le.createRoot(document.getElementById("root")).render(r.jsx(pr,{}));
