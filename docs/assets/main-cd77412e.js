import{r as p,c as xe,u as D,a as H,s as le,m as ie,b as de,l as $,p as fe,d as _,P as M,h as je,e as be,f as ve,g as W,i as J,j as ye,k as we,n as ke,o as Oe,q as U,t as r,v as Q,w as I,x as K,y as pe,C as Ce,z as Ee,A as Te,B as Fe,N,D as Le,E as X,F as Se,G as Ae,H as ze,I as Ne,J as R,K as He,L as Ie,M as ee}from"./CoxeterDiagram-f2090f56.js";class Ve extends p.Component{componentDidCatch(s,a){this.props.onError(s,a)}render(){return this.props.error?null:this.props.children}}const B=.95,Be=.95,re=10,se=10,me=(e,s,a,t,l,o)=>{const{combinations:n}=a,d=[[],[]],x=(c,h)=>{le(t,ie(de(c,h,l,o),t))},u=2*s+1>n.length-1?[s*2]:[s*2+1,s*2];for(let c=0;c<u.length;c++){const h=u[c];if(d[c].push(h),a.lock&&n[h][0]>=0&&n[h][1]>=0)for(let b=0;b<n.length;b++)n[b][0]<0||n[b][1]<0||!n[h].some(O=>n[b].includes(O))&&(!(c>0)||b!==u[1-c])&&d[c].push(b)}for(let c=0;c<d.length;c++){const h=d[c];for(let b=0;b<h.length;b++){const O=h[b];x(e[c],n[O])}}return d},qe=(e,s,a,t,l,o)=>{const{code:n}=e,d=.1;if(e.altKey||e.ctrlKey||e.metaKey)return;const x=(u,c,h)=>me([u,c],h,s,a,t,l);if(n==="ArrowLeft"||n==="KeyA")x(d,0,0);else if(n==="ArrowRight"||n==="KeyD")x(-d,0,0);else if(n==="ArrowUp"||n==="KeyW")x(0,d,0);else if(n==="ArrowDown"||n==="KeyS")x(0,-d,0);else if(n==="PageUp"||n==="KeyQ")x(d,0,1);else if(n==="PageDown"||n==="KeyE")x(-d,0,1);else if(n==="Digit1")x(0,d,1);else if(n==="Digit3")x(0,-d,1);else if(n==="KeyZ")x(d,0,2);else if(n==="KeyC")x(-d,0,2);else if(n==="ControlLeft")o("shift",(s.shift+1)%s.maxShift);else return;return!0},Pe=(e,s,a,t)=>{const l=p.useRef(null),o=p.useRef({pause:new Set,speed:null,zoom:null}),n=p.useRef({matrix:e.matrix.map(c=>c.slice()),zoom:e.zoom});p.useEffect(()=>{n.current.matrix=e.matrix.map(c=>c.slice())},[e.matrix]),p.useEffect(()=>{n.current.zoom=e.zoom,o.current.zoom=null},[e.zoom]);const d=p.useCallback(()=>{if(e.matrix._reset)return;const c=["vertex","edge","face"];for(let h=0;h<c.length;h++)e.meshes[c[h]].uniforms.matrix.update(xe(n.current.matrix))},[e.ambiance,e.camera,e.centered,e.coxeter,e.curve,e.dimensions,e.easing,e.edgeThickness,e.error,e.fov3,e.fov4,e.fov5,e.fov6,e.fov7,e.fov8,e.fov9,e.grouper,e.msaa,e.msaaSamples,e.projection3,e.projection4,e.projection5,e.projection6,e.projection7,e.projection8,e.projection9,e.renderError,e.segments,e.showEdges,e.showFaces,e.showVertices,e.spaceType,e.stellation,e.subsampling,e.vertexThickness,e.zoom]),x=p.useCallback(()=>{e.matrix._reset||D(e,n.current.zoom)},[e.ambiance,e.camera,e.centered,e.coxeter,e.curve,e.dimensions,e.easing,e.edgeThickness,e.error,e.fov3,e.fov4,e.fov5,e.fov6,e.fov7,e.fov8,e.fov9,e.grouper,e.msaa,e.msaaSamples,e.projection3,e.projection4,e.projection5,e.projection6,e.projection7,e.projection8,e.projection9,e.renderError,e.segments,e.showEdges,e.showFaces,e.showVertices,e.spaceType,e.stellation,e.subsampling,e.vertexThickness,e.zoom]);p.useEffect(()=>{o.current.speed=new Array(s.combinations.length).fill(0)},[s.combinations.length]),p.useEffect(()=>{e.matrix._reset&&(delete e.matrix._reset,o.current.speed=new Array(s.combinations.length).fill(0))},[s.combinations.length,e.matrix]);const u=p.useCallback(()=>{const{pause:c,speed:h,zoom:b}=o.current;let O=!1;for(let C=0;C<h.length;C++)h[C]!==0&&(O=!0,s.auto==="damp"&&(h[C]*=Be,H(h[C])<1e-4&&(h[C]=0)),c.has(C)||le(n.current.matrix,ie(de(h[C],s.combinations[C],e.dimensions,e.spaceType.metric),n.current.matrix)));if(O&&d(),b){const C=$(n.current.zoom)/$(B),S=$(b)/$(B);n.current.zoom*=fe(B,(S-C)*.05),H(b-n.current.zoom)<b*.001&&(n.current.zoom=b,o.current.zoom=null),O=!0,x()}if(h.reduce((C,S)=>H(C)+H(S),0)===0&&o.current.zoom===null&&!e.matrix._reset){t({matrix:n.current.matrix,zoom:n.current.zoom}),l.current=null;return}O&&_(e),l.current=requestAnimationFrame(u)},[d,s.auto,s.combinations,e.dimensions,e.spaceType]);p.useEffect(()=>{o.current.speed.reduce((y,F)=>H(y)+H(F),0)>0&&(l.current=requestAnimationFrame(u));const c=new Map;let h=null,b=[],O=[];const C=()=>{const y=c.values(),F=y.next().value,L=y.next().value;return je(F[0]-L[0],F[1]-L[1])},S=y=>{y.button!==0||y.target.tagName!=="CANVAS"||(s.auto&&(b.push(performance.now()),c.size===1?(o.current.pause.delete(s.shift*2),o.current.pause.delete(s.shift*2+1)):(o.current.pause.add(s.shift*2),o.current.pause.add(s.shift*2+1))),c.set(y.pointerId,[y.clientX,y.clientY]))},q=y=>{if(!c.has(y.pointerId))return;let F=c.get(y.pointerId);const L=[-(y.clientX-F[0])/window.innerHeight,-(y.clientY-F[1])/window.innerHeight];if(c.set(y.pointerId,[y.clientX,y.clientY]),c.size===2){if(h===null){h=C(),o.current.zoom=n.current.zoom;return}const m=C();n.current.zoom*=h/m,o.current.zoom=n.current.zoom,h=m,D(e,n.current.zoom),_(e);return}let T=s.shift;!T&&y.shiftKey?T=1:!T&&y.altKey?T=2:!T&&y.ctrKey?T=3:!T&&y.metaKey&&(T=4);const V=me([M*L[0],M*L[1]],T,s,n.current.matrix,e.dimensions,e.spaceType.metric);if(s.auto){b.push(performance.now()),b.length>se&&b.shift(),O.push([re*M*L[0],re*M*L[1]]),O.length>se&&O.shift();const m=b.slice(-1)[0]-b[0],k=O.reduce((E,A)=>[E[0]+A[0],E[1]+A[1]],[0,0]);for(let E=0;E<2;E++)for(let A=0;A<V[E].length;A++)o.current.speed[V[E][A]]=k[E]/m;l.current||(l.current=requestAnimationFrame(u))}d()},P=y=>{c.has(y.pointerId)&&(s.auto&&(c.size===1?(O=[],b=[],o.current.pause.delete(s.shift*2),o.current.pause.delete(s.shift*2+1)):(o.current.pause.add(s.shift*2),o.current.pause.add(s.shift*2+1))),h=null,c.delete(y.pointerId))};return document.addEventListener("pointerdown",S),document.addEventListener("pointermove",q),document.addEventListener("pointerup",P),()=>{document.removeEventListener("pointerdown",S),document.removeEventListener("pointermove",q),document.removeEventListener("pointerup",P),l.current&&(cancelAnimationFrame(l.current),l.current=null)}},[s,e.dimensions,e.spaceType,e.camera,u,d]),p.useEffect(()=>{const c=h=>{h.target===document.body&&qe(h,s,n.current.matrix,e.dimensions,e.spaceType.metric,a)&&(d(),_(e))};return document.addEventListener("keydown",c),()=>document.removeEventListener("keydown",c)},[d,s,e.spaceType,e.dimensions,a]),p.useEffect(()=>{const c=h=>{if(h.target.tagName!=="CANVAS")return;const b=o.current.zoom===null?n.current.zoom:o.current.zoom;o.current.zoom=b*(h.deltaY<0?B:1/B),l.current||(l.current=requestAnimationFrame(u))};return document.addEventListener("wheel",c),()=>{document.removeEventListener("wheel",c)}},[u]),p.useEffect(()=>{const c=h=>{if(h.button!==0||h.target.tagName!=="CANVAS")return;const b=o.current.zoom===null?n.current.zoom:o.current.zoom,O=b<.5?5:b<2?.25:1;o.current.zoom=O,l.current||(l.current=requestAnimationFrame(u))};return document.addEventListener("dblclick",c),()=>{document.removeEventListener("dblclick",c)}},[u])};function $e({runtime:e,rotations:s,updateRotations:a,updateParams:t}){return Pe(e,s,a,t),null}const Me=(e,s)=>{p.useEffect(()=>{s(a=>(D(a,a.zoom),a))},[e.zoom,s]),p.useEffect(()=>{s(a=>(D(a),a))},[e.fov3,e.camera,s]),p.useEffect(()=>{s(a=>(a.meshes.updateGeometries(a),a))},[e.spaceType,e.curve,e.segments,e.detail,s]),p.useEffect(()=>{s(a=>(a.meshes.changeArity(a.dimensions),a))},[e.dimensions,s]),p.useEffect(()=>{s(a=>(be(a),a))},[e.ambiance,e.msaa,e.msaaSamples,s]),p.useEffect(()=>{s(a=>(ve(a),a))},[e.ambiance,e.msaa,e.msaaSamples,s]),p.useEffect(()=>{s(a=>(W(a,"vertex"),W(a,"edge"),W(a,"face"),a))},[e.showVertices,e.showEdges,e.showFaces,s]),p.useEffect(()=>{s(a=>{if(!(a.currentOrder<0))try{return J(a,a.currentOrder-1),a}catch(t){return console.error(t),{...a,error:t.message}}})},[e.currentOrder,e.edge,e.face,e.ranges,e.showEdges,e.showFaces,e.showVertices,e.vertex,s]),p.useEffect(()=>{s(a=>(a.meshes.recompilePrograms(a),a))},[e.ambiance,e.curve,e.dimensions,e.easing,e.detail,e.segments,e.projection3,e.projection4,e.projection5,e.projection6,e.projection7,e.projection8,e.projection9,e.spaceType,s]),p.useEffect(()=>{s(a=>{try{return J(a),a}catch(t){return console.error(t),{...a,error:t.message}}})},[e.ambiance,e.showEdges,e.showFaces,e.showVertices,s]),p.useEffect(()=>{s(a=>(a.meshes.updateUniforms(a),a))},[e.ambiance,e.curve,e.dimensions,e.easing,e.edgeThickness,e.fov4,e.fov5,e.fov6,e.fov7,e.fov8,e.fov9,e.detail,e.matrix,e.projection3,e.projection4,e.projection5,e.projection6,e.projection7,e.projection8,e.projection9,e.segments,e.vertexThickness,e.spaceType,s]),p.useEffect(()=>{const a=new ResizeObserver(()=>{_(e)});return a.observe(e.gl.canvas,{box:"content-box"}),()=>a.disconnect()},[e.ambiance,e.camera,e.centered,e.coxeter,e.currentOrder,e.curve,e.dimensions,e.easing,e.edge,e.edgeThickness,e.error,e.face,e.fov3,e.fov4,e.fov5,e.fov6,e.fov7,e.fov8,e.fov9,e.grouper,e.detail,e.matrix,e.msaa,e.msaaSamples,e.projection3,e.projection4,e.projection5,e.projection6,e.projection7,e.projection8,e.projection9,e.ranges,e.renderError,e.segments,e.showEdges,e.showFaces,e.showVertices,e.spaceType,e.stellation,e.subsampling,e.vertexThickness,e.vertex,e.zoom])};function _e({runtime:e,setRuntime:s}){return Me(e,s),null}function De(){return new Worker(""+new URL("knuthbendix-tiling.worker-9ece6fbf.js",import.meta.url).href)}function Ue(){return new Worker(""+new URL("toddcoxeter-tiling.worker-7dd3c9e5.js",import.meta.url).href)}function We(){return new Worker(""+new URL("fundamental.worker-16be0670.js",import.meta.url).href)}let G=class he{constructor(s,a){this.workerClass=a,this.name=s,this.init(),this.times={}}static uuid4(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,s=>{const a=Math.random()*16|0;return(s==="x"?a:a&3|8).toString(16)})}init(){this.processing=0,this.worker=new this.workerClass}kill(){this.processing>0&&(console.debug(`Killing worker ${this.name} (${this.processing})`),this.worker.terminate(),this.init())}process(s){return s.uuid=he.uuid4(),this.processing++,this.times[s.uuid]=performance.now(),this.worker.postMessage(s),new Promise((a,t)=>{const l=n=>{if(n.data.uuid!==s.uuid)return;const d=performance.now()-this.times[s.uuid];if(delete this.times[s.uuid],console.debug(`Worker ${this.name} took ${d}ms`),this.processing--,this.worker.removeEventListener("message",l),this.worker.removeEventListener("error",o),n.data.error){t(n.data.error);return}a(n.data)},o=n=>{this.worker.removeEventListener("message",l),this.worker.removeEventListener("error",o),!(this.processing<=0)&&(delete this.times[s.uuid],this.processing--,this.processing=ye(0,this.processing),console.error(`Can't call web worker ${this.name}`,n))};this.worker.addEventListener("message",l),this.worker.addEventListener("error",o)})}};const Ge=()=>Object.values(ue).filter(e=>e.processing>0).forEach(e=>e.kill()),ue={knuthbendix:new G("knuthbendix",De),toddcoxeter:new G("toddcoxeter",Ue),fundamental:new G("fundamental",We)},ae=async(e,s,a)=>{const t=ue[e.grouper.replace(/^auto-/,"")];if(e.currentOrder===0&&(Ge(),s.current=!1),s.current===e.currentOrder){console.log("already processing at ",e.currentOrder);return}try{s.current=e.currentOrder;const{vertices:l,edges:o,faces:n,partials:d,order:x}=await t.process({order:e.currentOrder,coxeter:e.coxeter,stellation:e.stellation,metric:e.spaceType.metric,curvature:e.spaceType.curvature,mirrors:e.mirrors,rootNormals:e.rootNormals,rootVertices:e.rootVertices,dimensions:e.dimensions});s.current=!1,a(u=>u.currentOrder!==x?(console.warn("Mismatched order, ignoring",u.currentOrder,x),u):{...u,ranges:[...u.ranges,{vertex:[u.vertex.length,u.vertex.length+l.length],edge:[u.edge.length,u.edge.length+o.length],face:[u.face.length,u.face.length+n.length]}],vertex:u.vertex.concat(l),edge:u.edge.concat(o),face:u.face.concat(n),partial:d,currentOrder:x+1,processing:!1,error:null})}catch(l){s.current=!1,console.error(l);const o={...e,currentOrder:e.order,error:l.message,processing:!1};a(o)}},Ke=(e,s)=>{const a=p.useRef(!1);p.useEffect(()=>{s(t=>t.order<t.currentOrder?{...t,currentOrder:t.order}:t)},[e.order,e.currentOrder,s]),p.useEffect(()=>{s(t=>{const l=we(t.coxeter,t.stellation),o=ke(l);if(!o)return{...t,spaceType:o};const{vertices:n,normals:d}=Oe(o,t.centered),x={...t,currentOrder:0,vertex:[],edge:[],face:[],partial:[],ranges:[],spaceType:o,rootNormals:d,rootVertices:n,renderError:null,processing:!0,error:null};return ae(x,a,s),x})},[e.dimensions,e.coxeter,e.mirrors,e.stellation,e.centered,e.grouper,s]),p.useEffect(()=>{s(t=>{var l;return t.currentOrder===0||t.order<=t.currentOrder?t:(l=t.ranges)!=null&&l[t.order]?{...t,currentOrder:t.order,askedOrder:null}:(ae(t,a,s),{...t,error:null,processing:!0})})},[s,e.order,e.currentOrder])};function Re({runtime:e,setRuntime:s}){return Ke(e,s),null}function Ze({runtime:e,setRuntime:s,rotations:a,updateRotations:t,updateParams:l}){var n;window.rt=e,window.ro=a;const o=p.useCallback(d=>{s(x=>({...x,renderError:d.message}))},[s]);return p.useEffect(()=>()=>{if(e.spaceType&&e.spaceType.curvature!==null){const d=U(e.dimensions);d._reset=!0,l({matrix:d})}},[(n=e.spaceType)==null?void 0:n.curvature]),r.jsx(r.Fragment,{children:r.jsxs(Ve,{error:e.renderError,onError:o,children:[r.jsx(Re,{runtime:e,setRuntime:s}),e.spaceType?r.jsxs(r.Fragment,{children:[r.jsx(_e,{runtime:e,setRuntime:s}),r.jsx($e,{runtime:e,rotations:a,updateRotations:t,updateParams:l})]}):null]})})}const Qe="modulepreload",Ye=function(e,s){return new URL(e,s).href},ne={},Je=function(s,a,t){if(!a||a.length===0)return s();const l=document.getElementsByTagName("link");return Promise.all(a.map(o=>{if(o=Ye(o,t),o in ne)return;ne[o]=!0;const n=o.endsWith(".css"),d=n?'[rel="stylesheet"]':"";if(!!t)for(let c=l.length-1;c>=0;c--){const h=l[c];if(h.href===o&&(!n||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${d}`))return;const u=document.createElement("link");if(u.rel=n?"stylesheet":Qe,n||(u.as="script",u.crossOrigin=""),u.href=o,document.head.appendChild(u),n)return new Promise((c,h)=>{u.addEventListener("load",c),u.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>s()).catch(o=>{const n=new Event("vite:preloadError",{cancelable:!0});if(n.payload=o,window.dispatchEvent(n),!n.defaultPrevented)throw o})},Xe=r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",strokeWidth:"3",children:[r.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",d:"m31.376 13.781l-2.673-7.659c-1.554-4.453-7.852-4.453-9.406 0l-4.56 13.067c-.922 2.644 1.04 5.408 3.841 5.408H24"}),r.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",d:"m15.993 14.24l-8.11.175c-4.716.102-6.663 6.092-2.907 8.946l11.018 8.374c2.23 1.695 5.465.682 6.33-1.982L24 24.597"}),r.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",d:"m11.675 29.012l-2.34 7.767c-1.36 4.517 3.736 8.219 7.611 5.53l11.369-7.892c2.3-1.597 2.337-4.987.071-6.633L24 24.597"}),r.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",d:"m24.39 37.683l6.664 4.625c3.875 2.69 8.971-1.012 7.61-5.53l-3.992-13.25c-.807-2.681-4.02-3.764-6.286-2.118L24 24.597"}),r.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",d:"m36.566 28.27l6.458-4.908c3.756-2.855 1.81-8.845-2.907-8.947l-13.836-.298c-2.8-.06-4.822 2.66-3.956 5.324L24 24.597"})]}),er=r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:r.jsx("g",{id:"feTarget0",fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1",children:r.jsx("g",{id:"feTarget1",fill:"currentColor",fillRule:"nonzero",children:r.jsx("path",{id:"feTarget2",d:"M19.938 13A8.004 8.004 0 0 1 13 19.938V22h-2v-2.062A8.004 8.004 0 0 1 4.062 13H2v-2h2.062A8.004 8.004 0 0 1 11 4.062V2h2v2.062A8.004 8.004 0 0 1 19.938 11H22v2h-2.062ZM12 18a6 6 0 1 0 0-12a6 6 0 0 0 0 12Zm0-3a3 3 0 1 0 0-6a3 3 0 0 0 0 6Z"})})})}),rr=r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:r.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8.56 3.69a9 9 0 0 0-2.92 1.95M3.69 8.56A9 9 0 0 0 3 12m.69 3.44a9 9 0 0 0 1.95 2.92m2.92 1.95A9 9 0 0 0 12 21m3.44-.69a9 9 0 0 0 2.92-1.95m1.95-2.92A9 9 0 0 0 21 12m-.69-3.44a9 9 0 0 0-1.95-2.92m-2.92-1.95A9 9 0 0 0 12 3"})}),sr=r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:r.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 20.777a8.942 8.942 0 0 1-2.48-.969M14 3.223a9.003 9.003 0 0 1 0 17.554m-9.421-3.684a8.961 8.961 0 0 1-1.227-2.592M3.124 10.5c.16-.95.468-1.85.9-2.675l.169-.305m2.714-2.941A8.954 8.954 0 0 1 10 3.223"})}),ar=r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 14 14",children:r.jsxs("g",{fill:"none",stroke:"currentColor",children:[r.jsx("path",{strokeLinecap:"round",d:"M13.326 8.5a6.5 6.5 0 1 1-.558-4.5"}),r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 2v2.5H11"})]})}),nr=r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",children:r.jsx("path",{fill:"currentColor",d:"M8.065 2.016A.13.13 0 0 0 8.002 2v11.983l6.856.017a.12.12 0 0 0 .066-.017a.162.162 0 0 0 .054-.06a.176.176 0 0 0-.002-.183L8.12 2.073a.146.146 0 0 0-.054-.057zm-1.043-.45a1.13 1.13 0 0 1 1.96 0l6.856 11.667c.458.778-.091 1.767-.98 1.767H1.146c-.889 0-1.437-.99-.98-1.767L7.022 1.566z"})}),or=r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:r.jsx("path",{fill:"currentColor",d:"M16 6v1h.75A3.25 3.25 0 0 1 20 10.25v7.5A3.25 3.25 0 0 1 16.75 21h-9.5A3.25 3.25 0 0 1 4 17.75v-7.5A3.25 3.25 0 0 1 7.25 7H8V6a4 4 0 1 1 8 0ZM9.5 6v1h5V6a2.5 2.5 0 0 0-5 0Zm2.5 9.5a1.5 1.5 0 1 0 0-3a1.5 1.5 0 0 0 0 3Z"})}),tr=r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:r.jsx("path",{fill:"currentColor",d:"M16 5a2.5 2.5 0 0 1 5 0v.25a.75.75 0 0 0 1.5 0V5a4 4 0 0 0-8 0v2H7.25A3.25 3.25 0 0 0 4 10.25v7.5A3.25 3.25 0 0 0 7.25 21h9.5A3.25 3.25 0 0 0 20 17.75v-7.5A3.25 3.25 0 0 0 16.75 7H16V5Zm-4 10.5a1.5 1.5 0 1 1 0-3a1.5 1.5 0 0 1 0 3Z"})}),cr=r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:r.jsx("path",{fill:"currentColor",d:"M21 16.5c0 .38-.21.71-.53.88l-7.9 4.44c-.16.12-.36.18-.57.18c-.21 0-.41-.06-.57-.18l-7.9-4.44A.991.991 0 0 1 3 16.5v-9c0-.38.21-.71.53-.88l7.9-4.44c.16-.12.36-.18.57-.18c.21 0 .41.06.57.18l7.9 4.44c.32.17.53.5.53.88v9M12 4.15L6.04 7.5L12 10.85l5.96-3.35L12 4.15M5 15.91l6 3.38v-6.71L5 9.21v6.7m14 0v-6.7l-6 3.37v6.71l6-3.38Z"})}),lr=r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:r.jsx("path",{fill:"currentColor",d:"M18 18H6V6h12m0-2H6a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2Z"})});function ir({allowNull:e,name:s,value:a,onChange:t,...l}){const o=p.useCallback(d=>{let{name:x,checked:u}=d.target,c;e?c=a===!1?!0:a?null:!1:c=u,t(x,c)},[e,t,a]),n=p.useRef(null);return p.useLayoutEffect(()=>{e&&n.current&&(a===null?n.current.indeterminate=!0:n.current.indeterminate=!1)},[a,e]),r.jsx("input",{type:"checkbox",ref:n,name:s,checked:a||!1,onChange:o})}function j({type:e,subtype:s,level:a,dimensions:t}){return r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"space",children:e===null||e==="indefinite"?"𝕏":e==="affine"?"𝔼":e==="finite"?"𝕊":"ℍ"}),t?r.jsx("sup",{children:t-1}):null,e==="hyperbolic"?r.jsxs("sub",{children:[{compact:" ",paracompact:"*",lorentzian:"L",superhyperbolic:"**"}[s],a]}):null]})}const dr=(...e)=>{if(Array.isArray(e[0]))return{coxeter:e,dimensions:e.length,extended:!0};const s=e.length+1;return{coxeter:new Array(s).fill().map((t,l)=>new Array(s).fill().map((o,n)=>l===n?1:l===n+1||n===l+1?e[pe(l,n)]:2)),dimensions:s}},pr=(...e)=>{const s=e.length+1;return{stellation:new Array(s).fill().map((t,l)=>new Array(s).fill().map((o,n)=>l===n?1:l===n+1||n===l+1?e[pe(l,n)]:1))}},i=(e,s,a,t)=>{const l=dr(...e),{dimensions:o}=l,n={...Q,...l,showVertices:o<=3,showFaces:o<=4,curve:o>3,grouper:"toddcoxeter",ambiance:"colorful",segments:32,matrix:U(o),zoom:o<=3?2:o>4?3:5,centered:!0,...Object.fromEntries(I(3,o+1).map(d=>[`projection${d}`,K(d,o)])),...t||{}};return s?n.mirrors=s:n.mirrors=new Array(o).fill().map((d,x)=>x===0?1:0),a?n.stellation=pr(...a).stellation:n.stellation=new Array(o).fill().map((d,x)=>new Array(o).fill(1)),n},w=e=>({...e,subforms:Object.entries(mr(e.params.dimensions)).map(([s,a])=>({name:`${s} ${e.name}`,params:{...e.params,mirrors:a}}))}),f=(e,s,a,t)=>({...i(e,s,a),ambiance:"plain",showVertices:!1,curve:!0,zoom:1,segments:32,...t}),v=(e,s,a,t)=>({...i(e,s,a),ambiance:"neon",showFaces:!1,showVertices:!1,grouper:"toddcoxeter",centered:!1,edgeThickness:10,segments:16,zoom:2,...t}),g=(e,s,a,t)=>{const l=i(e,s,a),o=l.matrix.length;return{...l,ambiance:"neon",showFaces:!1,showVertices:!1,curve:!0,grouper:"toddcoxeter",centered:!1,edgeThickness:o>4?10:25,segments:16,order:o>4?15:25,zoom:1.5,...t}},mr=e=>{if(e===4)return{Rectified:[0,1,0,0],Truncated:[1,1,0,0],Cantellated:[1,0,1,0],Cantitruncated:[1,1,1,0],Runcitruncated:[1,1,0,1],Runcinated:[1,0,0,1],Bitruncated:[0,1,1,0],Omnitruncated:[1,1,1,1]};if(e===5)return{Rectified:[0,1,0,0,0],Birectified:[0,0,1,0,0],Truncated:[1,1,0,0,0],Cantellated:[1,0,1,0,0],Runcinated:[1,0,0,1,0],Stericated:[1,0,0,0,1],Omnitruncated:[1,1,1,1,1]};if(e===6)return{Rectified:[0,1,0,0,0,0],Birectified:[0,0,1,0,0,0],Truncated:[1,1,0,0,0,0],Bitruncated:[0,1,1,0,0,0],Tritruncated:[0,0,1,1,0,0],Cantellated:[1,0,1,0,0,0],Bicantellated:[0,1,0,1,0,0],Runcinated:[1,0,0,1,0,0],Biruncinated:[0,1,0,0,1,0],Stericated:[1,0,0,0,1,0],Pentellated:[1,0,0,0,0,1],Omnitruncated:[1,1,1,1,1,1]};if(e===7)return{Rectified:[0,1,0,0,0,0,0],Birectified:[0,0,1,0,0,0,0],Truncated:[1,1,0,0,0,0,0],Bitruncated:[0,1,1,0,0,0,0],Tritruncated:[0,0,1,1,0,0,0],Cantellated:[1,0,1,0,0,0,0],Bicantellated:[0,1,0,1,0,0,0],Runcinated:[1,0,0,1,0,0,0],Biruncinated:[0,1,0,0,1,0,0],Stericated:[1,0,0,0,1,0,0],Pentellated:[1,0,0,0,0,1,0],Hexicated:[1,0,0,0,0,0,1],Omnitruncated:[1,1,1,1,1,1,1]};if(e===8)return{Rectified:[0,1,0,0,0,0,0,0],Birectified:[0,0,1,0,0,0,0,0],Truncated:[1,1,0,0,0,0,0,0],Bitruncated:[0,1,1,0,0,0,0,0],Tritruncated:[0,0,1,1,0,0,0,0],Quadritruncated:[0,0,0,1,1,0,0,0],Cantellated:[1,0,1,0,0,0,0,0],Bicantellated:[0,1,0,1,0,0,0,0],Tricantellated:[0,0,1,0,1,0,0,0],Runcinated:[1,0,0,1,0,0,0,0],Biruncinated:[0,1,0,0,1,0,0,0],Triruncinated:[0,0,1,0,0,1,0,0],Stericated:[1,0,0,0,1,0,0,0],Pentellated:[1,0,0,0,0,1,0,0],Hexicated:[1,0,0,0,0,0,1,0],Heptellated:[1,0,0,0,0,0,0,1],Omnitruncated:[1,1,1,1,1,1,1,1]};if(e===9)return{Rectified:[0,1,0,0,0,0,0,0,0],Birectified:[0,0,1,0,0,0,0,0,0],Truncated:[1,1,0,0,0,0,0,0,0],Bitruncated:[0,1,1,0,0,0,0,0,0],Tritruncated:[0,0,1,1,0,0,0,0,0],Quadritruncated:[0,0,0,1,1,0,0,0,0],Cantellated:[1,0,1,0,0,0,0,0,0],Bicantellated:[0,1,0,1,0,0,0,0,0],Tricantellated:[0,0,1,0,1,0,0,0,0],Runcinated:[1,0,0,1,0,0,0,0,0],Biruncinated:[0,1,0,0,1,0,0,0,0],Triruncinated:[0,0,1,0,0,1,0,0,0],Stericated:[1,0,0,0,1,0,0,0,0],Pentellated:[1,0,0,0,0,1,0,0,0],Hexicated:[1,0,0,0,0,0,1,0,0],Heptellated:[1,0,0,0,0,0,0,1,0],Octellated:[1,0,0,0,0,0,0,0,1],Omnitruncated:[1,1,1,1,1,1,1,1,1]}},hr=[{type:"title",content:r.jsxs(r.Fragment,{children:[r.jsx("span",{style:{color:"orange"},children:"★"})," Highlights"]})},{name:r.jsxs(r.Fragment,{children:[r.jsx(j,{type:"finite",dimensions:4})," Tesseract"]}),params:i([4,3,3],[1,0,0,0],null,{showVertices:!0,vertexThickness:150,showFaces:!0,curve:!0,ambiance:"neon",zoom:4.2,segments:64})},{name:r.jsxs(r.Fragment,{children:[r.jsx(j,{type:"hyperbolic",dimensions:3})," 7-3-2 tiling"]}),params:f([7,3],[1,0,0],null,{showVertices:!1,showFaces:!0,curve:!0,ambiance:"neon"})},{name:r.jsxs(r.Fragment,{children:[r.jsx(j,{type:"hyperbolic",subtype:"paracompact",dimensions:3})," Ideal triangles"]}),params:f([[1,0,0],[0,1,0],[0,0,1]],[1,1,1],null,{grouper:"fundamental",showVertices:!1,showFaces:!0,curve:!0,segments:64,easing:"quintic",ambiance:"neon",centered:!0})},{name:r.jsxs(r.Fragment,{children:[r.jsx(j,{type:"hyperbolic",dimensions:4})," Inverted honeycomb"]}),params:g([[1,2,3,2],[2,1,3,2],[3,3,1,5],[2,2,5,1]],[1,0,0,0],null,{projection4:"inverted",ambiance:"disco",zoom:3,segments:32})},{name:r.jsxs(r.Fragment,{children:[r.jsx(j,{type:"finite",dimensions:8})," E6 (1",r.jsx("sub",{children:"22"}),")"]}),params:i([[1,3,2,2,2,2],[3,1,3,2,2,2],[2,3,1,3,3,2],[2,2,3,1,2,2],[2,2,3,2,1,3],[2,2,2,2,3,1]],[0,0,0,1,0,0],null,{vertexThickness:40,edgeThickness:10,ambiance:"colorful",showVertices:!0,projection3:"orthographic",projection4:"orthographic",projection5:"orthographic",projection6:"orthographic",zoom:1,centered:!1})},{name:r.jsxs(r.Fragment,{children:[r.jsx(j,{type:"finite",dimensions:8})," E8 (4",r.jsx("sub",{children:"21"}),")"]}),params:i([[1,3,2,2,2,2,2,2],[3,1,3,2,2,2,2,2],[2,3,1,3,3,2,2,2],[2,2,3,1,2,2,2,2],[2,2,3,2,1,3,2,2],[2,2,2,2,3,1,3,2],[2,2,2,2,2,3,1,3],[2,2,2,2,2,2,3,1]],[0,0,0,0,0,0,0,1],null,{vertexThickness:30,edgeThickness:1,curve:!1,ambiance:"neon",showVertices:!0,projection3:"orthographic",projection4:"orthographic",projection5:"orthographic",projection6:"orthographic",projection7:"orthographic",projection8:"orthographic",order:14,zoom:1,centered:!1})},{name:r.jsxs(r.Fragment,{children:[r.jsx(j,{type:"hyperbolic",subtype:"paracompact",dimensions:4})," Ideal tetrahedron"]}),params:f([3,3,6],[1,0,0,""],null,{showVertices:!1,showFaces:!0,curve:!0,order:1,centered:!0,segments:64,easing:"quartic",ambiance:"pure"})},{name:r.jsxs(r.Fragment,{children:[r.jsx(j,{type:"hyperbolic",subtype:"paracompact",dimensions:4})," ","Horoball"]}),params:f([6,3,4],[1,0,0,""],null,{showVertices:!1,showFaces:!0,curve:!0,order:20,centered:!1,ambiance:"colorful"})},{name:r.jsxs(r.Fragment,{children:[r.jsx(j,{type:"hyperbolic",dimensions:4})," 5-3-4 honeycomb"]}),params:g([5,3,4],[1,0,0,0],null,{zoom:1.5})},{name:r.jsxs(r.Fragment,{children:[r.jsx(j,{type:"hyperbolic",subtype:"lorentzian",level:2,dimensions:4})," ","7-3-3 paracompact honeycomb"]}),params:g([7,3,3],[1,0,0,0],null,{zoom:1.5,showFaces:!0,showVertices:!0})},{name:r.jsxs(r.Fragment,{children:[r.jsx(j,{type:"hyperbolic",subtype:"paracompact",dimensions:4})," Ideal Pentahedron"]}),params:f([5,3,6],[1,0,0,""],null,{showVertices:!1,showFaces:!0,curve:!0,order:1,centered:!0,segments:32,easing:"quartic",ambiance:"pure",zoom:1.5})},{name:r.jsxs(r.Fragment,{children:[r.jsx(j,{type:"finite",dimensions:4})," Flat Torus"]}),params:i([32,2,32],[1,0,0,1],null,{showVertices:!1,showFaces:!1,curve:!0,ambiance:"neon",zoom:3,edgeThickness:5})},{name:r.jsxs(r.Fragment,{children:[r.jsx(j,{type:"affine",dimensions:5})," Tesseract stack"]}),params:i([[1,2,2,2,0],[2,1,2,2,2],[2,2,1,2,2],[2,2,2,1,2],[0,2,2,2,1]],[1,1,1,1,0],null,{showVertices:!1,showFaces:!0,ambiance:"neon",edgeThickness:35})},{name:r.jsxs(r.Fragment,{children:[r.jsx(j,{type:"hyperbolic",subtype:"superhyperbolic",dimensions:4})," ","Ultrahyperbolic surface (Anti-de Sitter Ads3)"]}),params:i([-1,2,-1],[1,0,0,1],null,{showVertices:!1,showFaces:!1,curve:!0,ambiance:"neon",centered:!1,edgeThickness:10,zoom:1})},{name:r.jsxs(r.Fragment,{children:[r.jsx(j,{type:"hyperbolic",subtype:"superhyperbolic",dimensions:5})," ","Ultrahyperbolic honeycomb (Anti-de Sitter Ads4)"]}),params:i([-1,3,3,-1],[1,0,0,0,1],null,{showVertices:!1,showFaces:!1,curve:!0,ambiance:"neon",centered:!1,edgeThickness:10,zoom:2})},{type:"title",content:r.jsxs(r.Fragment,{children:[r.jsx(j,{type:"finite"})," Spherical space"]})},{type:"group",content:r.jsxs(r.Fragment,{children:[r.jsx(j,{type:"finite",dimensions:3})," Polyedra"]})},{name:"Tetrahedron",params:i([3,3]),subforms:[{name:"Truncated Tetrahedron",params:i([3,3],[1,1,0])}]},{name:"Cube",params:i([4,3]),subforms:[{name:"Cuboctahedron",params:i([4,3],[0,1,0])},{name:"Truncated Cube",params:i([4,3],[1,1,0])},{name:"Rhombicuboctahedron",params:i([4,3],[1,0,1])},{name:"Truncated Octahedron",params:i([3,4],[1,1,0])},{name:"Truncated Cuboctahedron",params:i([4,3],[1,1,1])},{name:"Octahedron",params:i([3,4])}]},{name:"Dodecahedron",params:i([5,3]),subforms:[{name:"Icosidodecahedron",params:i([5,3],[0,1,0])},{name:"Truncate Dodecahedron",params:i([5,3],[1,1,0])},{name:"Rhombicosidodecahedron",params:i([5,3],[1,0,1])},{name:"Truncate Icosahedron",params:i([3,5],[1,1,0])},{name:"Truncated Icosidodecahedron",params:i([5,3],[1,1,1])},{name:"Icosahedron",params:i([3,5])}]},{name:"Snub Cube",params:i([4,3],["s","s","s"])},{name:"Snub Dodecahedron",params:i([5,3],["s","s","s"])},{name:"Great Dodecahedron",params:i([5,5],[1,0,0],[1,2])},{name:"Great Icosahedron",params:i([3,5],[1,0,0],[1,2])},{name:"Small Stellated Dodecahedron",params:i([5,5],[1,0,0],[2,1])},{name:"Great Stellated Dodecahedron",params:i([5,3],[1,0,0],[2,1])},{name:"Stellated Octahedron",params:i([2,2],["ß","ß","ß"])},{type:"group",content:r.jsxs(r.Fragment,{children:[r.jsx(j,{type:"finite",dimensions:4})," Polychora"]})},w({name:"5-cell",params:i([3,3,3])}),w({name:"8-cell",params:i([4,3,3])}),w({name:"16-cell",params:i([3,3,4])}),w({name:"24-cell",params:i([3,4,3])}),w({name:"120-cell",params:i([5,3,3])}),w({name:"600-cell",params:i([3,3,5])}),{name:"Snub 24-cell",params:i([3,4,3],["s","s",0,0])},{name:"Icosahedral 120-cell",params:i([3,5,5],[1,0,0,0],[1,1,2],{curve:!1}),subforms:[{name:"Small stellated 120-cell",params:i([3,5,5],[0,0,0,1],[1,1,2],{curve:!1})},{name:"Great 120-cell",params:i([5,5,5],[1,0,0,0],[1,2,1],{curve:!1})},{name:"Grand 120-cell",params:i([5,3,5],[1,0,0,0],[1,1,2],{curve:!1})},{name:"Great stellated 120-cell",params:i([5,3,5],[0,0,0,1],[1,1,2],{curve:!1})},{name:"Grand stellated 120-cell",params:i([5,5,5],[1,0,0,0],[2,1,2],{curve:!1})},{name:"Great grand 120-cell",params:i([5,5,3],[1,0,0,0],[1,2,1],{curve:!1})},{name:"Great icosahedral 120-cell",params:i([5,5,3],[0,0,0,1],[1,2,1],{curve:!1})},{name:"Great grand stellated 120-cell",params:i([5,3,3],[1,0,0,0],[2,1,1],{curve:!1})}]},{name:"Grand 600-cell",params:i([3,3,5],[1,0,0,0],[1,1,2],{curve:!1})},{type:"group",content:r.jsxs(r.Fragment,{children:[r.jsx(j,{type:"finite",dimensions:5})," Polytera"]})},w({name:"5-simplex",params:i([3,3,3,3])}),w({name:"5-cube",params:i([4,3,3,3])}),w({name:"5-orthoplex",params:i([3,3,3,4])}),w({name:"5-demicube",params:i([[1,2,3,2,2],[2,1,3,2,2],[3,3,1,3,2],[2,2,3,1,3],[2,2,2,3,1]])}),{type:"group",content:r.jsxs(r.Fragment,{children:[r.jsx(j,{type:"finite",dimensions:6})," Polypeta"]})},w({name:"6-simplex",params:i([3,3,3,3,3])}),w({name:"6-cube",params:i([4,3,3,3,3])}),w({name:"6-orthoplex",params:i([3,3,3,3,4])}),w({name:"6-demicube",params:i([[1,2,3,2,2,2],[2,1,3,2,2,2],[3,3,1,3,2,2],[2,2,3,1,3,2],[2,2,2,3,1,3],[2,2,2,2,3,1]])}),{name:r.jsxs(r.Fragment,{children:["2",r.jsx("sub",{children:"21"})]}),params:i([[1,3,2,2,2,2],[3,1,3,2,2,2],[2,3,1,3,3,2],[2,2,3,1,2,2],[2,2,3,2,1,3],[2,2,2,2,3,1]],[1,0,0,0,0,0])},{name:r.jsxs(r.Fragment,{children:["1",r.jsx("sub",{children:"22"})]}),params:i([[1,3,2,2,2,2],[3,1,3,2,2,2],[2,3,1,3,3,2],[2,2,3,1,2,2],[2,2,3,2,1,3],[2,2,2,2,3,1]],[0,0,0,1,0,0])},{type:"group",content:r.jsxs(r.Fragment,{children:[r.jsx(j,{type:"finite",dimensions:7})," Polyexa"]})},w({name:"7-simplex",params:i([3,3,3,3,3,3])}),w({name:"7-cube",params:i([4,3,3,3,3,3])}),w({name:"7-orthoplex",params:i([3,3,3,3,3,4])}),w({name:"7-demicube",params:i([[1,2,3,2,2,2,2],[2,1,3,2,2,2,2],[3,3,1,3,2,2,2],[2,2,3,1,3,2,2],[2,2,2,3,1,3,2],[2,2,2,2,3,1,3],[2,2,2,2,2,3,1]])}),{name:r.jsxs(r.Fragment,{children:["3",r.jsx("sub",{children:"21"})]}),params:i([[1,3,2,2,2,2,2],[3,1,3,2,2,2,2],[2,3,1,3,2,2,2],[2,2,3,1,3,3,2],[2,2,2,3,1,2,2],[2,2,2,3,2,1,3],[2,2,2,2,2,3,1]],[1,0,0,0,0,0,0])},{name:r.jsxs(r.Fragment,{children:["2",r.jsx("sub",{children:"31"})]}),params:i([[1,3,2,2,2,2,2],[3,1,3,2,2,2,2],[2,3,1,3,2,2,2],[2,2,3,1,3,3,2],[2,2,2,3,1,2,2],[2,2,2,3,2,1,3],[2,2,2,2,2,3,1]],[0,0,0,0,0,0,1])},{name:r.jsxs(r.Fragment,{children:["1",r.jsx("sub",{children:"32"})]}),params:i([[1,3,2,2,2,2,2],[3,1,3,2,2,2,2],[2,3,1,3,2,2,2],[2,2,3,1,3,3,2],[2,2,2,3,1,2,2],[2,2,2,3,2,1,3],[2,2,2,2,2,3,1]],[0,0,0,0,1,0,0])},{type:"group",content:r.jsxs(r.Fragment,{children:[r.jsx(j,{type:"finite",dimensions:8})," Polyzetta"]})},w({name:"8-simplex",params:i([3,3,3,3,3,3,3])}),w({name:"8-cube",params:i([4,3,3,3,3,3,3])}),w({name:"8-orthoplex",params:i([3,3,3,3,3,3,4])}),w({name:"8-demicube",params:i([[1,2,3,2,2,2,2,2],[2,1,3,2,2,2,2,2],[3,3,1,3,2,2,2,2],[2,2,3,1,3,2,2,2],[2,2,2,3,1,3,2,2],[2,2,2,2,3,1,3,2],[2,2,2,2,2,3,1,3],[2,2,2,2,2,2,3,1]])}),{name:r.jsxs(r.Fragment,{children:["1",r.jsx("sub",{children:"42"})]}),params:i([[1,3,2,2,2,2,2,2],[3,1,3,2,2,2,2,2],[2,3,1,3,3,2,2,2],[2,2,3,1,2,2,2,2],[2,2,3,2,1,3,2,2],[2,2,2,2,3,1,3,2],[2,2,2,2,2,3,1,3],[2,2,2,2,2,2,3,1]],[0,0,1,0,0,0,0,0])},{name:r.jsxs(r.Fragment,{children:["2",r.jsx("sub",{children:"41"})]}),params:i([[1,3,2,2,2,2,2,2],[3,1,3,2,2,2,2,2],[2,3,1,3,3,2,2,2],[2,2,3,1,2,2,2,2],[2,2,3,2,1,3,2,2],[2,2,2,2,3,1,3,2],[2,2,2,2,2,3,1,3],[2,2,2,2,2,2,3,1]],[1,0,0,0,0,0,0,0])},{name:r.jsxs(r.Fragment,{children:["4",r.jsx("sub",{children:"21"})]}),params:i([[1,3,2,2,2,2,2,2],[3,1,3,2,2,2,2,2],[2,3,1,3,3,2,2,2],[2,2,3,1,2,2,2,2],[2,2,3,2,1,3,2,2],[2,2,2,2,3,1,3,2],[2,2,2,2,2,3,1,3],[2,2,2,2,2,2,3,1]],[0,0,0,0,0,0,0,1])},{type:"group",content:r.jsxs(r.Fragment,{children:[r.jsx(j,{type:"finite",dimensions:9}),"Polyyotta"]})},w({name:"9-simplex",params:i([3,3,3,3,3,3,3,3])}),w({name:"9-cube",params:i([4,3,3,3,3,3,3,3])}),w({name:"9-orthoplex",params:i([3,3,3,3,3,3,3,4])}),w({name:"9-demicube",params:i([[1,2,3,2,2,2,2,2,2],[2,1,3,2,2,2,2,2,2],[3,3,1,3,2,2,2,2,2],[2,2,3,1,3,2,2,2,2],[2,2,2,3,1,3,2,2,2],[2,2,2,2,3,1,3,2,2],[2,2,2,2,2,3,1,3,2],[2,2,2,2,2,2,3,1,3],[2,2,2,2,2,2,2,3,1]])}),{type:"title",content:r.jsxs(r.Fragment,{children:[r.jsx(j,{type:"affine"})," Euclidean space"]})},{type:"group",content:r.jsxs(r.Fragment,{children:[r.jsx(j,{type:"affine",dimensions:3})," Tilings"]})},{name:"Triangle",params:i([[1,3,3],[3,1,3],[3,3,1]],[1,0,0])},{name:"Square",params:i([4,4],[1,0,0])},{name:"Hexagonal",params:i([6,3],[1,0,0])},{type:"group",content:r.jsxs(r.Fragment,{children:[r.jsx(j,{type:"affine",dimensions:4})," Honeycombs"]})},{name:"Cubic",params:v([4,3,4],[1,0,0,0])},{name:"Octet",params:v([[1,3,2,2],[3,1,3,4],[2,3,1,2],[2,4,2,1]],[1,0,0,0])},{name:"Quarter cubic",params:v([[1,3,2,3],[3,1,3,2],[2,3,1,3],[3,2,3,1]],[1,0,0,1])},{type:"group",content:r.jsxs(r.Fragment,{children:[r.jsx(j,{type:"affine",dimensions:5})," 4-Honeycombs"]})},{name:"Tesseractic",params:v([4,3,3,4],[1,0,0,0,0])},{name:"16-cellic",params:v([3,3,4,3],[1,0,0,0,0],null,{grouper:"toddcoxeter"})},{name:"24-cellic",params:v([3,4,3,3],[1,0,0,0,0],null,{grouper:"toddcoxeter"})},{name:"4-simpletic",params:v([[1,3,2,2,3],[3,1,3,2,2],[2,3,1,3,2],[2,2,3,1,3],[3,2,2,3,1]],[1,0,0,0,0],null,{grouper:"toddcoxeter"})},{name:"Quarter tesseractic",params:v([[1,2,3,2,2],[2,1,3,2,2],[3,3,1,3,3],[2,2,3,1,2],[2,2,3,2,1]],[1,0,0,1,0],null,{grouper:"toddcoxeter"})},{type:"group",content:r.jsxs(r.Fragment,{children:[r.jsx(j,{type:"affine",dimensions:6})," 5-Honeycombs"]})},{name:"5-simplex",params:v([[1,3,2,2,2,3],[3,1,3,2,2,2],[2,3,1,3,2,2],[2,2,3,1,3,2],[2,2,2,3,1,3],[3,2,2,2,3,1]],[1,0,0,0,0,0])},{name:"5-cubic",params:v([4,3,3,3,4],[1,0,0,0,0,0])},{name:"5-demicubic",params:v([[1,2,3,2,2,2],[2,1,3,2,2,2],[3,3,1,3,2,2],[2,2,3,1,3,2],[2,2,2,3,1,4],[2,2,2,2,4,1]],[1,0,0,0,0,0])},{name:"Quarter 5-cubic",params:v([[1,2,3,2,2,2],[2,1,3,2,2,2],[3,3,1,3,2,2],[2,2,3,1,3,3],[2,2,2,3,1,2],[2,2,2,3,2,1]],[1,0,0,0,0,1])},{type:"group",content:r.jsxs(r.Fragment,{children:[r.jsx(j,{type:"affine",dimensions:7})," 6-Honeycombs"]})},{name:"6-simplex",params:v([[1,3,2,2,2,2,3],[3,1,3,2,2,2,2],[2,3,1,3,2,2,2],[2,2,3,1,3,2,2],[2,2,2,3,1,3,2],[2,2,2,2,3,1,3],[3,2,2,2,2,3,1]],[1,0,0,0,0,0,0])},{name:"6-cubic",params:v([4,3,3,3,3,4],[1,0,0,0,0,0,0])},{name:"6-demicubic",params:v([[1,2,3,2,2,2,2],[2,1,3,2,2,2,2],[3,3,1,3,2,2,2],[2,2,3,1,3,2,2],[2,2,2,3,1,3,2],[2,2,2,2,3,1,4],[2,2,2,2,2,4,1]],[1,0,0,0,0,0,0])},{name:"Quarter 6-cubic",params:v([[1,2,3,2,2,2,2],[2,1,3,2,2,2,2],[3,3,1,3,2,2,2],[2,2,3,1,3,2,2],[2,2,2,3,1,3,3],[2,2,2,2,3,1,2],[2,2,2,2,3,2,1]],[1,0,0,0,0,0,1])},{name:r.jsxs(r.Fragment,{children:["2",r.jsx("sub",{children:"22"})]}),params:v([[1,3,2,2,2,2,2],[3,1,3,2,2,2,2],[2,3,1,3,2,3,2],[2,2,3,1,3,2,2],[2,2,2,3,1,2,2],[2,2,3,2,2,1,3],[2,2,2,2,2,3,1]],[0,0,0,0,1,0,0])},{type:"group",content:r.jsxs(r.Fragment,{children:[r.jsx(j,{type:"affine",dimensions:8})," 7-Honeycombs"]})},{name:"7-simplex",params:v([[1,3,2,2,2,2,2,3],[3,1,3,2,2,2,2,2],[2,3,1,3,2,2,2,2],[2,2,3,1,3,2,2,2],[2,2,2,3,1,3,2,2],[2,2,2,2,3,1,3,2],[2,2,2,2,2,3,1,3],[3,2,2,2,2,2,3,1]],[1,0,0,0,0,0,0,0])},{name:"7-cubic",params:v([4,3,3,3,3,3,4],[1,0,0,0,0,0,0,0])},{name:"7-demicubic",params:v([[1,2,3,2,2,2,2,2],[2,1,3,2,2,2,2,2],[3,3,1,3,2,2,2,2],[2,2,3,1,3,2,2,2],[2,2,2,3,1,3,2,2],[2,2,2,2,3,1,3,2],[2,2,2,2,2,3,1,4],[2,2,2,2,2,2,4,1]],[1,0,0,0,0,0,0,0])},{name:"Quarter 7-cubic",params:v([[1,2,3,2,2,2,2,2],[2,1,3,2,2,2,2,2],[3,3,1,3,2,2,2,2],[2,2,3,1,3,2,2,2],[2,2,3,3,1,3,2,2],[2,2,2,2,3,1,3,3],[2,2,2,2,2,3,1,2],[2,2,2,2,2,3,2,1]],[1,0,0,0,0,0,0,1])},{name:r.jsxs(r.Fragment,{children:["1",r.jsx("sub",{children:"33"})]}),params:v([[1,3,2,2,2,2,2,2],[3,1,3,2,2,2,2,2],[2,3,1,3,2,2,2,2],[2,2,3,1,3,3,2,2],[2,2,2,3,1,2,2,2],[2,2,2,3,2,1,3,2],[2,2,2,2,2,3,1,3],[2,2,2,2,2,2,3,1]],[0,0,0,0,1,0,0,0])},{name:r.jsxs(r.Fragment,{children:["3",r.jsx("sub",{children:"31"})]}),params:v([[1,3,2,2,2,2,2,2],[3,1,3,2,2,2,2,2],[2,3,1,3,2,2,2,2],[2,2,3,1,3,3,2,2],[2,2,2,3,1,2,2,2],[2,2,2,3,2,1,3,2],[2,2,2,2,2,3,1,3],[2,2,2,2,2,2,3,1]],[1,0,0,0,0,0,0,0])},{type:"group",content:r.jsxs(r.Fragment,{children:[r.jsx(j,{type:"affine",dimensions:9})," 8-Honeycombs"]})},{name:"8-simplex",params:v([[1,3,2,2,2,2,2,2,3],[3,1,3,2,2,2,2,2,2],[2,3,1,3,2,2,2,2,2],[2,2,3,1,3,2,2,2,2],[2,2,2,3,1,3,2,2,2],[2,2,2,2,3,1,3,2,2],[2,2,2,2,2,3,1,3,2],[2,2,2,2,2,2,3,1,3],[3,2,2,2,2,2,2,3,1]],[1,0,0,0,0,0,0,0,0])},{name:"8-cubic",params:v([4,3,3,3,3,3,3,4],[1,0,0,0,0,0,0,0,0])},{name:"8-demicubic",params:v([[1,2,3,2,2,2,2,2,2],[2,1,3,2,2,2,2,2,2],[3,3,1,3,2,2,2,2,2],[2,2,3,1,3,2,2,2,2],[2,2,2,3,1,3,2,2,2],[2,2,2,2,3,1,3,2,2],[2,2,2,2,2,3,1,3,2],[2,2,2,2,2,2,3,1,4],[2,2,2,2,2,2,2,4,1]],[1,0,0,0,0,0,0,0,0])},{name:"Quarter 8-cubic",params:v([[1,2,3,2,2,2,2,2,2],[2,1,3,2,2,2,2,2,2],[3,3,1,3,2,2,2,2,2],[2,2,3,1,3,2,2,2,2],[2,2,2,3,1,3,2,2,2],[2,2,2,2,3,1,3,2,2],[2,2,2,2,2,3,1,3,3],[2,2,2,2,2,2,3,1,2],[2,2,2,2,2,2,3,2,1]],[1,0,0,0,0,0,0,0,1])},{name:r.jsxs(r.Fragment,{children:["1",r.jsx("sub",{children:"52"})]}),params:v([[1,3,2,2,2,2,2,2,2],[3,1,3,2,2,2,2,2,2],[2,3,1,3,3,2,2,2,2],[2,2,3,1,2,2,2,2,2],[2,2,3,2,1,3,2,2,2],[2,2,2,2,3,1,3,2,2],[2,2,2,2,2,3,1,3,2],[2,2,2,2,2,2,3,1,3],[2,2,2,2,2,2,2,3,1]],[0,0,0,1,0,0,0,0,0])},{name:r.jsxs(r.Fragment,{children:["2",r.jsx("sub",{children:"51"})]}),params:v([[1,3,2,2,2,2,2,2,2],[3,1,3,2,2,2,2,2,2],[2,3,1,3,3,2,2,2,2],[2,2,3,1,2,2,2,2,2],[2,2,3,2,1,3,2,2,2],[2,2,2,2,3,1,3,2,2],[2,2,2,2,2,3,1,3,2],[2,2,2,2,2,2,3,1,3],[2,2,2,2,2,2,2,3,1]],[1,0,0,0,0,0,0,0,0])},{name:r.jsxs(r.Fragment,{children:["5",r.jsx("sub",{children:"21"})]}),params:v([[1,3,2,2,2,2,2,2,2],[3,1,3,2,2,2,2,2,2],[2,3,1,3,3,2,2,2,2],[2,2,3,1,2,2,2,2,2],[2,2,3,2,1,3,2,2,2],[2,2,2,2,3,1,3,2,2],[2,2,2,2,2,3,1,3,2],[2,2,2,2,2,2,3,1,3],[2,2,2,2,2,2,2,3,1]],[0,0,0,0,0,0,0,0,1])},{type:"title",content:r.jsxs(r.Fragment,{children:[r.jsx(j,{type:"hyperbolic"})," Hyperbolic space"]})},{type:"group",content:r.jsxs(r.Fragment,{children:[r.jsx(j,{type:"hyperbolic",dimensions:3})," Tilings"]})},{name:"Order-7 triangular",params:f([3,7],[1,0,0])},{name:"Order-8 triangular",params:f([3,8],[1,0,0])},{name:"Infinite Order triangular",params:f([3,0],[1,0,0])},{name:"Order-5 square",params:f([4,5],[1,0,0])},{name:"Order-6 square",params:f([4,6],[1,0,0])},{name:"Order-7 square",params:f([4,7],[1,0,0])},{name:"Order-8 square",params:f([4,8],[1,0,0])},{name:"Infinite Order square",params:f([4,0],[1,0,0])},{name:"Order-4 pentagonal",params:f([5,4],[1,0,0])},{name:"Order-5 pentagonal",params:f([5,5],[1,0,0])},{name:"Order-6 pentagonal",params:f([5,6],[1,0,0])},{name:"Order-7 pentagonal",params:f([5,7],[1,0,0])},{name:"Order-8 pentagonal",params:f([5,8],[1,0,0])},{name:"Infinite Order pentagonal",params:f([5,0],[1,0,0])},{name:"Order-4 hexagonal",params:f([6,4],[1,0,0])},{name:"Order-5 hexagonal",params:f([6,5],[1,0,0])},{name:"Order-6 hexagonal",params:f([6,6],[1,0,0])},{name:"Order-7 hexagonal",params:f([6,7],[1,0,0])},{name:"Order-8 hexagonal",params:f([6,8],[1,0,0])},{name:"Infinite Order hexagonal",params:f([6,0],[1,0,0])},{name:"Order-3 heptagonal",params:f([7,3],[1,0,0])},{name:"Order-4 heptagonal",params:f([7,4],[1,0,0])},{name:"Order-5 heptagonal",params:f([7,5],[1,0,0])},{name:"Order-6 heptagonal",params:f([7,6],[1,0,0])},{name:"Order-7 heptagonal",params:f([7,7],[1,0,0])},{name:"Order-8 heptagonal",params:f([7,8],[1,0,0])},{name:"Infinite Order heptagonal",params:f([7,0],[1,0,0])},{name:"Order-3 octagonal",params:f([8,3],[1,0,0])},{name:"Order-4 octagonal",params:f([8,4],[1,0,0])},{name:"Order-5 octagonal",params:f([8,5],[1,0,0])},{name:"Order-6 octagonal",params:f([8,6],[1,0,0])},{name:"Order-7 octagonal",params:f([8,7],[1,0,0])},{name:"Order-8 octagonal",params:f([8,8],[1,0,0])},{name:"Infinite Order octagonal",params:f([8,0],[1,0,0])},{name:"Order-3 apeirogonal",params:f([0,3],[1,0,0])},{name:"Order-4 apeirogonal",params:f([0,4],[1,0,0])},{name:"Order-5 apeirogonal",params:f([0,5],[1,0,0])},{name:"Order-6 apeirogonal",params:f([0,6],[1,0,0])},{name:"Order-7 apeirogonal",params:f([0,7],[1,0,0])},{name:"Order-8 apeirogonal",params:f([0,8],[1,0,0])},{name:"Infinite Order apeirogonal",params:f([0,0],[1,0,0])},{type:"group",content:r.jsxs(r.Fragment,{children:[r.jsx(j,{type:"hyperbolic",subtype:"compact",dimensions:4})," Compact Hyperbolic Honeycombs"]})},{name:"Icosahedral",params:g([3,5,3],[1,0,0,0])},{name:"Order-4 dodecahedral",params:g([5,3,4],[1,0,0,0])},{name:"Order-5 dodecahedral",params:g([5,3,5],[1,0,0,0],null,{grouper:"toddcoxeter"})},{name:"Alternated Order-5 cubic",params:g([[1,2,3,2],[2,1,3,2],[3,3,1,5],[2,2,5,1]],[1,0,0,0])},{name:"Tetrahedral cubic",params:g([[1,4,2,3],[4,1,3,2],[2,3,1,3],[3,2,3,1]],[1,0,0,0],null,{grouper:"toddcoxeter"})},{name:"Tetrahedral dodecahedral",params:g([[1,3,2,5],[3,1,3,2],[2,3,1,3],[5,2,3,1]],[1,0,0,0],null,{grouper:"toddcoxeter"})},{name:"Cubic octahedral",params:g([[1,3,2,4],[3,1,4,2],[2,4,1,3],[4,2,3,1]],[1,0,0,0],null,{grouper:"toddcoxeter"})},{name:"Octahedral Dodcahedral",params:g([[1,3,2,5],[3,1,4,2],[2,4,1,3],[5,2,3,1]],[1,0,0,0],null,{grouper:"toddcoxeter"})},{name:"Octahedral Icosahedral",params:g([[1,3,2,5],[3,1,5,2],[2,5,1,3],[5,2,3,1]],[1,0,0,0],null,{grouper:"toddcoxeter"})},{type:"group",content:r.jsxs(r.Fragment,{children:[r.jsx(j,{type:"hyperbolic",subtype:"paracompact",dimensions:4})," ","Paracompact Hyperbolic Honeycombs"]})},{name:"Triangular",params:g([3,6,3],[1,0,0,0],null,{grouper:"toddcoxeter",easing:"quintic",segments:32})},{name:"Hexagonal",params:g([6,3,3],[1,0,0,0],null,{grouper:"toddcoxeter"})},{name:"Order-6 tetrahedral",params:g([3,3,6],[1,0,0,0],null,{grouper:"toddcoxeter",easing:"quintic",segments:32})},{name:"Alternated Order-6 cubic",params:g([[1,2,3,2],[2,1,3,2],[3,3,1,6],[2,2,6,1]],[1,0,0,0],null,{grouper:"toddcoxeter",easing:"quintic",segments:32})},{name:"Order-5 hexagonal",params:g([6,3,5],[1,0,0,0],null,{grouper:"toddcoxeter"})},{name:"Alternated Order-5 hexagonal",params:g([[1,2,3,2],[2,1,3,2],[3,3,1,5],[2,2,5,1]],[1,0,0,0],null,{grouper:"toddcoxeter"})},{name:"Order-6 hexagonal",params:g([6,3,6],[0,0,0,1],null,{grouper:"toddcoxeter",easing:"quintic",segments:32})},{name:"Square",params:g([4,4,3],[1,0,0,0],null,{grouper:"toddcoxeter"})},{name:"Alternated square",params:g([[1,2,4,2],[2,1,4,2],[4,4,1,3],[2,2,3,1]],[1,0,0,0],null,{grouper:"toddcoxeter"})},{name:"Order-4 square",params:g([4,4,4],[0,1,0,0],null,{grouper:"toddcoxeter"})},{name:"Tetrahedral square",params:g([[1,4,2,4],[4,1,3,2],[2,3,1,3],[4,2,3,1]],[0,1,0,0],null,{grouper:"toddcoxeter"})},{name:"Cubic square",params:g([[1,4,2,4],[4,1,3,2],[2,3,1,4],[4,2,4,1]],[1,0,0,0],null,{grouper:"toddcoxeter"})},{name:"Quarter order square",params:g([[1,4,2,4],[4,1,4,2],[2,4,1,4],[4,2,4,1]],[1,0,0,0],null,{grouper:"toddcoxeter",easing:"quintic",segments:32})},{name:"Tetrahedral Hexagonal",params:g([[1,3,2,6],[3,1,3,2],[2,3,1,3],[6,2,3,1]],[1,0,0,0],null,{grouper:"toddcoxeter"})},{name:"Octahedral Hexagonal",params:g([[1,3,2,6],[3,1,4,2],[2,4,1,3],[6,2,3,1]],[1,0,0,0],null,{grouper:"toddcoxeter"})},{name:"Icosahedral Hexagonal",params:g([[1,3,2,6],[3,1,5,2],[2,5,1,3],[6,2,3,1]],[1,0,0,0],null,{grouper:"toddcoxeter"})},{name:"Hexagonal Triangular",params:g([[1,3,2,6],[3,1,6,2],[2,6,1,3],[6,2,3,1]],[0,0,0,1],null,{grouper:"toddcoxeter",easing:"quintic",segments:32})},{name:"Alternated Hexagonal",params:g([[1,3,3,2],[3,1,3,2],[3,3,1,3],[2,2,3,1]],[1,0,0,0],null,{grouper:"toddcoxeter"})},{name:"Alternated Order-4 Hexagonal",params:g([[1,3,3,2],[3,1,3,2],[3,3,1,4],[2,2,4,1]],[1,0,0,0],null,{grouper:"toddcoxeter"})},{name:"Alternated Order-5 Hexagonal",params:g([[1,3,3,2],[3,1,3,2],[3,3,1,5],[2,2,5,1]],[1,0,0,0],null,{grouper:"toddcoxeter"})},{name:"Runcic Order-6 Hexagonal",params:g([[1,3,3,2],[3,1,3,2],[3,3,1,6],[2,2,6,1]],[1,0,0,1],null,{grouper:"toddcoxeter"})},{name:"Quarter Order-4 hexagonal",params:g([[1,3,3,2],[3,1,3,3],[3,3,1,3],[2,3,3,1]],[1,1,0,0],null,{grouper:"toddcoxeter"})},{name:"Hexagonal",params:g([[1,3,3,3],[3,1,3,3],[3,3,1,3],[3,3,3,1]],[1,1,1,1],null,{grouper:"toddcoxeter"})},{type:"group",content:r.jsxs(r.Fragment,{children:[r.jsx(j,{type:"hyperbolic",subtype:"lorentzian",level:2,dimensions:4})," ","Level-2 Lorentzian Hyperbolic Honeycombs"]})},{name:"3-3-7",params:g([3,3,7],[1,0,0,0],null,{grouper:"toddcoxeter",segments:64})},{name:"3-4-7",params:g([3,3,7],[1,0,0,0],null,{grouper:"toddcoxeter",segments:64})},{name:"3-5-7",params:g([3,5,7],[1,0,0,0],null,{grouper:"toddcoxeter",segments:64})},{type:"group",content:r.jsxs(r.Fragment,{children:[r.jsx(j,{type:"hyperbolic",dimensions:5})," Compact Hyperbolic 4-Honeycombs"]})},{name:"Order-5 5-cell",params:g([3,3,3,5],[1,0,0,0,0])},{name:"120-cell",params:g([5,3,3,3],[1,0,0,0,0])},{name:"Order-5 tesseratic",params:g([4,3,3,5],[1,0,0,0,0])},{name:"Order-4 120-cell",params:g([4,3,3,5],[1,0,0,0,0])},{name:"Order-5 120-cell",params:g([5,3,3,5],[1,0,0,0,0])},{name:"Small stellated 120-cell",params:g([5,5,3,3],[1,0,0,0,0],[2,1,1,1])},{name:"Pentagrammic-order 600-cell",params:g([3,3,5,5],[1,0,0,0,0],[1,1,1,2])},{name:"Order-5 icosahedral 120-cell",params:g([3,5,5,5],[1,0,0,0,0],[1,1,2,1])},{name:"Great 120-cell",params:g([5,5,5,3],[1,0,0,0,0],[1,2,1,1])},{type:"group",content:r.jsxs(r.Fragment,{children:[r.jsx(j,{type:"hyperbolic",subtype:"paracompact",dimensions:5})," ","Paracompact Hyperbolic 4-Honeycombs"]})},{name:"Order-4 24-cell",params:g([3,4,3,4],[1,0,0,0,0],null,{easing:"quintic",segments:32})},{name:"Cubic honeycomb",params:g([4,3,4,3],[1,0,0,0,0])},{type:"group",content:r.jsxs(r.Fragment,{children:[r.jsx(j,{type:"hyperbolic",subtype:"paracompact",dimensions:6})," ","Paracompact Hyperbolic 5-Honeycombs"]})},{name:"5-orthoplex",params:g([3,3,3,4,3],[1,0,0,0,0,0],null,{easing:"quintic",segments:32})},{name:"24-cell honeycomb",params:g([3,4,3,3,3],[1,0,0,0,0,0])},{name:"16-cell honeycomb",params:g([3,3,4,3,3],[1,0,0,0,0,0],null,{easing:"quintic",segments:32})},{name:"Order-4 24-cell honeycomb",params:g([3,4,3,3,4],[1,0,0,0,0,0],null,{easing:"quintic",segments:32})},{name:"Tesseratic honeycomb",params:g([4,3,3,4,3],[1,0,0,0,0,0],null,{easing:"quintic",segments:32})}],Z=e=>{if(["string","number"].includes(typeof e))return e;if(e instanceof Array)return e.map(Z).join("");if(typeof e=="object"&&e)return Z(e.props.children)},oe=(e,s)=>typeof e=="string"?Z(e).toLowerCase().includes(s.toLowerCase()):!1,ur=p.memo(function e({name:s,params:a,search:t,subforms:l=[],sub:o=!1,onPreset:n}){const[d,x]=p.useState(!0),[u,c]=p.useState(!1);return p.useEffect(()=>{if(!t){x(!0),c(!1);return}if(oe(s,t)){x(!0);return}if(l.length&&l.some(({name:h})=>oe(h,t))){x(!0),c(!0);return}x(!1),c(!1)},[s,t,l]),d?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:`preset${o?" sub":""}`,onClick:()=>n(a),children:[r.jsxs("div",{className:`preset-header preset-name-${l.length?"button":"only"}`,children:[l.length?r.jsx("button",{className:`preset-toggle ${u?"open":"closed"}`,onClick:h=>{h.stopPropagation(),c(!u)},children:u?"-":"+"}):null,r.jsx("span",{className:"preset-name",children:s})]}),r.jsx(Ce,{coxeter:a.coxeter,mirrors:a.mirrors,stellation:a.stellation})]}),u&&l.map((h,b)=>r.jsx(e,{...h,sub:!0,search:t,onPreset:n},b))]}):null}),gr=r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:r.jsx("path",{fill:"currentColor",d:"M7.95 19L3 12l4.95-7H21v14H7.95Zm3.45-3l2.6-2.6l2.6 2.6l1.4-1.4l-2.6-2.6L18 9.4L16.6 8L14 10.6L11.4 8L10 9.4l2.6 2.6l-2.6 2.6l1.4 1.4Z"})}),xr=r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:r.jsx("path",{fill:"currentColor",d:"M6 17c0-2 4-3.1 6-3.1s6 1.1 6 3.1v1H6m9-9a3 3 0 0 1-3 3a3 3 0 0 1-3-3a3 3 0 0 1 3-3a3 3 0 0 1 3 3M3 5v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2Z"})}),fr=r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:r.jsx("path",{fill:"currentColor",d:"M6 2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6m-1 1.5L18.5 9H13m-4.07 3.22H16v7.07l-2.12-2.12L11.05 20l-2.83-2.83l2.83-2.82"})}),jr=r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:r.jsx("path",{fill:"currentColor",d:"M6.4 19L5 17.6l5.6-5.6L5 6.4L6.4 5l5.6 5.6L17.6 5L19 6.4L13.4 12l5.6 5.6l-1.4 1.4l-5.6-5.6L6.4 19Z"})});function br({open:e,onPreset:s,onExportImage:a,closePresets:t}){const[l,o]=p.useState(""),[n,d]=p.useState(""),x=p.useCallback(u=>{d(u.target.value),Ee(o(u.target.value),50)},[]);return r.jsxs(r.Fragment,{children:[r.jsx("div",{className:`presets-overlay ${e?"shown":"hidden"}`,onClick:t}),r.jsx("div",{className:`presets ${e?"shown":"hidden"}`,children:r.jsxs("div",{className:"presets-modal",children:[r.jsxs("div",{className:"presets-header",children:[r.jsxs("div",{className:"presets-search",children:[r.jsx("input",{type:"text",placeholder:"Search",value:n,onChange:x}),r.jsx("button",{className:"presets-clear",onClick:()=>{o(""),d("")},children:gr})]}),r.jsxs("div",{className:"presets-actions",children:[r.jsx("a",{className:"presets-action",href:"https://florian.mounier.dev/",children:xr}),r.jsx("button",{className:"presets-action",onClick:a,children:fr}),r.jsx("button",{className:"presets-action",onClick:t,children:jr})]})]}),r.jsx("div",{className:"presets-list",children:hr.map(({type:u,content:c,name:h,params:b,subforms:O},C)=>r.jsx(p.Fragment,{children:u==="title"?r.jsx("h2",{children:c}):u==="group"?r.jsx("h4",{children:c}):r.jsx(ur,{name:h,params:b,search:l,subforms:O,onPreset:s})},C))})]})})]})}const te=p.memo(function({rotations:s,spaceType:a,axis:t}){if(!a)return null;const l=a.gram.length,o=s.shift*2+t;if(o>=s.combinations.length)return null;let n=s.combinations[o];const d=n.some(c=>c<0)?"parabolic":n.some(c=>a.eigens.values[c]<0)?"hyperbolic":n.some(c=>a.eigens.values[c]===0)?"translation":"spheric",x=Te.slice(0,l).split(""),u=d==="parabolic"?n.map(c=>x[H(c)]).join("->"):x.filter((c,h)=>!n.includes(h));return r.jsxs("aside",{className:`${t?"y":"x"}-rotation`,children:[u,d==="parabolic"?r.jsx("sup",{children:"∞"}):d==="hyperbolic"?r.jsx("sup",{children:"†"}):d==="translation"?r.jsx("sup",{children:"0"}):""]})});function vr({runtime:e,params:s,rotations:a,updateParams:t,updateRotations:l}){const[o,n]=p.useState("simple"),[d,x]=p.useState(!1),u=p.useCallback(()=>{x(!1)},[]),c=p.useCallback(m=>{let{name:k,value:E}=m.target;t({[k]:E})},[t]),h=p.useCallback((m,k)=>{t({[m]:k})},[t]),b=p.useCallback(()=>n(m=>({simple:"advanced",advanced:"full",full:"empty",empty:"simple"})[m]),[]),O=p.useCallback(m=>{t(m,!0),u()},[t,u]),C=p.useCallback(()=>{const m=U(e.dimensions);m._reset=!0,t({matrix:m,centered:!0})},[t,e.dimensions]),S=p.useCallback(()=>{const m=U(e.dimensions);m._reset=!0,t({matrix:m,centered:!1})},[t,e.dimensions]),q=p.useCallback(()=>{t(Object.fromEntries(I(3,e.dimensions+1).map(m=>[[`projection${m}`,"orthographic"],[`fov${m}`,90]]).flat()))},[t,e.dimensions]),P=p.useCallback(()=>{t(Object.fromEntries(I(3,e.dimensions+1).map(m=>[`projection${m}`,K(m,e.dimensions)])))},[t,e.dimensions]),y=p.useCallback(m=>{l("shift",(a.shift+1)%a.maxShift)},[a.maxShift,a.shift,l]),F=p.useCallback(m=>{l("lock",!a.lock)},[a.lock,l]),L=p.useCallback(m=>{l("auto",a.auto==="free"?"damp":"free")},[a.auto,l]),T=p.useCallback(async()=>{const m=window.prompt("Select image resolution","5000x5000");if(!m||!m.includes("x")){console.error("Invalid resolution");return}const[k,E]=m.split("x").map(z=>parseInt(z));if(isNaN(k)||isNaN(E)){console.error("Invalid resolution");return}const Y=await(await Je(()=>import("./export-902100eb.js"),[],import.meta.url)).makeBigPng(e,k,E);if(Y){const z=document.createElement("a");document.body.appendChild(z),z.style.display="none";const ge=window.URL.createObjectURL(Y);z.href=ge,z.download=`${document.title}-${k}x${E}`,z.click()}},[e]),V=p.useMemo(()=>({square:I(3,e.dimensions+1).some(m=>s[`projection${m}`]!=="orthographic"),cube:I(3,e.dimensions+1).some(m=>s[`projection${m}`]!==K(m,e.dimensions))}),[s.projection3,s.projection4,s.projection5,s.projection6,s.projection7,s.projection8,s.projection9,e.dimensions]);return r.jsxs(r.Fragment,{children:[r.jsx(br,{open:d,onPreset:O,onExportImage:T,closePresets:u}),r.jsxs("div",{className:e.error?"error":"",title:e.error,children:[e.currentOrder<e.order?r.jsxs("aside",{className:"processing-counter",children:[e.currentOrder,"/",e.order]}):null,["simple","advanced","full"].includes(o)?r.jsx("button",{className:"preset-button button",onClick:()=>x(m=>!m),title:"Presets",children:nr}):null,["simple","advanced","full"].includes(o)?r.jsxs("aside",{className:"controls",children:[r.jsxs("button",{className:"rotation-button button",onClick:y,title:"Rotation Mode",children:[r.jsx("div",{className:"rotation",style:{transform:`rotate(${a.shift/a.maxShift*360}deg)`},children:ar}),r.jsx("sup",{children:a.shift+1}),r.jsx(te,{rotations:a,spaceType:e.spaceType,axis:0}),r.jsx(te,{rotations:a,spaceType:e.spaceType,axis:1})]}),r.jsxs("div",{className:"subcontrols",children:[r.jsx("button",{className:"button",onClick:F,children:a.lock?or:tr}),r.jsx("button",{className:"button anim-view",onClick:L,title:"Animate rotations",children:a.auto==="free"?rr:a.auto==="damp"?sr:"?"}),r.jsx("button",{className:"button",onClick:C,title:"Center View",children:er}),r.jsx("button",{className:"button",onClick:S,title:"Coxeter View",children:Xe}),V.square&&r.jsx("button",{className:"button",onClick:q,title:"Orthographic",children:lr}),V.cube&&r.jsx("button",{className:"button",onClick:P,title:"Stereographic",children:cr})]})]}):null,r.jsx("button",{className:`space-button button${e.processing?" processing":""}${o==="empty"?" empty":""}`,onClick:b,children:r.jsx(j,{...e.spaceType||{},dimensions:e.dimensions})}),["advanced","full"].includes(o)&&r.jsxs("aside",{className:"parameters",children:[o==="full"&&r.jsxs("label",{className:"select-label",children:["Grouper",r.jsx("select",{name:"grouper",value:s.grouper,onChange:c,children:Fe.map(m=>r.jsx("option",{value:m,children:m.replace(/_/g," ").replace(/\b./g,k=>k.toUpperCase())},m))})]}),(o==="full"||e.spaceType.curvature<=0)&&r.jsx(N,{name:"order",label:"Precision",min:1,step:1,value:s.order,onChange:h}),r.jsx(N,{name:"segments",label:"Segments",min:1,step:1,value:s.segments,toggler:s.curve,togglerName:"curve",onChange:h}),r.jsxs("label",{className:"select-label",children:["Easing",r.jsx("select",{name:"easing",value:s.easing,onChange:c,children:Le.map(m=>r.jsx("option",{value:m,children:m.replace(/_/g," ").replace(/\b./g,k=>k.toUpperCase())},m))})]}),r.jsx(N,{name:"vertexThickness",label:"Vertices",min:0,step:1,value:s.vertexThickness,toggler:s.showVertices,togglerName:"showVertices",onChange:h}),r.jsx(N,{name:"edgeThickness",label:"Edges",min:0,step:1,value:s.edgeThickness,toggler:s.showEdges,togglerName:"showEdges",onChange:h}),["toddcoxeter","fundamental"].includes(e.grouper)&&r.jsxs("label",{className:"boolean-label",children:["Faces",r.jsx(ir,{name:"showFaces",value:s.showFaces,onChange:h})]}),r.jsxs("label",{className:"select-label",children:["Ambiance",r.jsx("select",{name:"ambiance",value:s.ambiance,onChange:c,children:(o==="full"?Object.keys(X):Object.entries(X).filter(([m,{extended:k}])=>!k||m===s.ambiance).map(([m])=>m)).map(m=>r.jsx("option",{value:m,children:m.replace(/_/g," ").replace(/./,k=>k.toUpperCase())},m))})]})]}),["advanced","full"].includes(o)&&r.jsxs("aside",{className:"view",children:[r.jsx(N,{name:"msaaSamples",label:"MSAA",min:0,step:1,max:Q.msaaSamples,value:s.msaaSamples,toggler:s.msaa,togglerName:"msaa",onChange:h}),r.jsx("div",{className:"projection",children:r.jsxs("label",{className:"number-label",children:[r.jsx("span",{className:"number-label",children:"Detail"}),r.jsx("select",{name:"detail",value:s.detail,onChange:c,children:Se.map(m=>r.jsx("option",{value:m,children:m.replace(/_/g," ").replace(/./,k=>k.toUpperCase())},m))})]})}),o==="full"&&r.jsx(N,{name:"subsampling",label:"subsampling",min:.1,step:.1,value:s.subsampling,onChange:h}),s.dimensions>=3?I(3,s.dimensions+1).map(m=>r.jsxs("div",{className:"projection",children:[o==="full"&&r.jsx(N,{label:`${m}D FOV`,name:`fov${m}`,step:1,value:s[`fov${m}`],onChange:h}),r.jsxs("label",{className:"number",children:[r.jsxs("span",{className:"number-label",children:[m,"D Projection"]}),r.jsx("select",{name:`projection${m}`,value:s[`projection${m}`],onChange:c,children:[...Ae.filter((k,E)=>m===3||E<8)].map(k=>r.jsx("option",{value:k,children:k.replace(/_/g," ").replace(/./,E=>E.toUpperCase())},k))})]})]},m)):null]}),["simple","advanced","full"].includes(o)&&r.jsx(ze,{dimensions:s.dimensions,coxeter:s.coxeter,mirrors:s.mirrors,stellation:s.stellation,extended:s.extended,onChange:h})]})]})}function yr({params:e,updateParams:s}){const[a,t]=p.useState({...e,currentOrder:0,askedOrder:null,spaceType:null,rootNormals:null,rootVertices:null,vertex:[],edge:[],ranges:[],face:[],processing:!0,error:null,renderError:null});p.useEffect(()=>{t(d=>{try{return d.gl?d:Ne(d)}catch(x){return console.error(x),{...d,error:x.message}}})},[a.gl]);const[l,o]=p.useState({shift:0,maxShift:0,combinations:[],auto:"damp",lock:!1});p.useEffect(()=>{t(d=>({...d,...R(e).params}))},[e]),p.useEffect(()=>{a.spaceType&&o(d=>({...d,shift:0,...He(e.dimensions,a.spaceType)}))},[e.dimensions,a.spaceType]),p.useEffect(()=>{t(d=>e.grouper===""&&d.grouper.startsWith("auto-")?d:{...d,grouper:e.grouper})},[e.grouper]);const n=p.useCallback((d,x)=>{o(u=>({...u,[d]:x}))},[o]);return a.gl?r.jsxs("div",{className:a.error||a.renderError?"error":"",title:a.error||a.renderError,children:[r.jsx(vr,{runtime:a,params:e,rotations:l,updateRotations:n,updateParams:s}),r.jsx(Ze,{runtime:a,rotations:l,setRuntime:t,updateRotations:n,updateParams:s})]}):null}const ce=(e=null)=>{const{location:s}=window;if(s.hash)try{return JSON.parse(atob(s.hash.slice(1)))}catch(a){console.warn(a),s.hash=""}return e},wr=e=>{window.history.pushState(null,null,"#"+btoa(JSON.stringify(e)))},kr=()=>{const[e,s]=p.useState(ce(R(Q).params)),a=p.useCallback(l=>{const o=ce();o&&(Object.entries(o).forEach(([n,d])=>{Array.isArray(d)&&ee(d,e[n])&&(o[n]=e[n])}),s(o))},[e]),t=p.useCallback((l,o=!1)=>{s(n=>{if(!Object.entries(l).filter(([u,c])=>Array.isArray(c)&&!c._reset?!ee(c,n[u]):n[u]!==c).length)return n;const{params:d,badParams:x}=R(o?l:{...n,...l},o?[]:Object.keys(l),n);return x.length||wr(d),d})},[]);return p.useEffect(()=>(window.addEventListener("popstate",a),()=>{window.removeEventListener("popstate",a)}),[a]),r.jsx(yr,{params:e,updateParams:t})};Ie.createRoot(document.getElementById("root")).render(r.jsx(kr,{}));
