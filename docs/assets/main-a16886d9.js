import{r as d,c as de,u as $,a as L,s as re,m as ae,x as se,l as H,p as pe,b as M,P as U,h as me,d as he,e as ue,f as B,g as W,i as ge,j as fe,k as xe,n as je,o as R,q as r,t as D,v as ne,w as te,C as be,y as ve,z as we,A as ye,B as ke,N as A,D as Oe,E as K,F as Ee,G as Ce,H as Te,I as oe,J as Fe,K as Se}from"./CoxeterDiagram-141077f7.js";class Ae extends d.Component{componentDidCatch(a,s){this.props.onError(a,s)}render(){return this.props.error?null:this.props.children}}const I=.95,Le=.95,G=25,C=(e,a,s,o,c,t,n)=>{const i=(f,m)=>{re(c,ae(se(f,m,o.combinations,t,n),c))};2*s+1>o.combinations.length-1?i(e,s*2):(i(e,s*2+1),i(a,s*2))},ze=(e,a,s,o,c,t)=>{const{code:n}=e,i=.1;if(!(e.altKey||e.ctrlKey||e.metaKey)){if(n==="ArrowLeft"||n==="KeyA")C(-i,0,0,a,s,o,c);else if(n==="ArrowRight"||n==="KeyD")C(i,0,0,a,s,o,c);else if(n==="ArrowUp"||n==="KeyW")C(0,-i,0,a,s,o,c);else if(n==="ArrowDown"||n==="KeyS")C(0,i,0,a,s,o,c);else if(n==="PageUp"||n==="KeyQ")C(-i,0,1,a,s,o,c);else if(n==="PageDown"||n==="KeyE")C(i,0,1,a,s,o,c);else if(n==="Digit1")C(0,-i,1,a,s,o,c);else if(n==="Digit3")C(0,i,1,a,s,o,c);else if(n==="KeyZ")C(-i,0,2,a,s,o,c);else if(n==="KeyC")C(i,0,2,a,s,o,c);else if(n==="ControlLeft")t("shift",(a.shift+1)%a.maxShift);else return;return!0}},Ne=(e,a,s,o)=>{const c=d.useRef(null),t=d.useRef({pause:new Set,speed:null,zoom:null}),n=d.useRef({matrix:e.matrix.map(p=>p.slice()),zoom:e.zoom});d.useEffect(()=>{n.current.matrix=e.matrix.map(p=>p.slice())},[e.matrix]),d.useEffect(()=>{n.current.zoom=e.zoom},[e.zoom]);const i=d.useCallback(()=>{if(e.matrix._reset)return;const p=["vertex","edge","face"];for(let h=0;h<p.length;h++)e.meshes[p[h]].uniforms.matrix.update(de(n.current.matrix))},[e.ambiance,e.camera,e.centered,e.coxeter,e.curve,e.dimensions,e.easing,e.edgeThickness,e.error,e.fov3,e.fov4,e.fov5,e.fov6,e.fov7,e.fov8,e.fov9,e.grouper,e.msaa,e.msaaSamples,e.projection,e.renderError,e.segments,e.showEdges,e.showFaces,e.showVertices,e.spaceType,e.stellation,e.subsampling,e.vertexThickness,e.zoom]),f=d.useCallback(()=>{e.matrix._reset||$(e,n.current.zoom)},[e.ambiance,e.camera,e.centered,e.coxeter,e.curve,e.dimensions,e.easing,e.edgeThickness,e.error,e.fov3,e.fov4,e.fov5,e.fov6,e.fov7,e.fov8,e.fov9,e.grouper,e.msaa,e.msaaSamples,e.projection,e.renderError,e.segments,e.showEdges,e.showFaces,e.showVertices,e.spaceType,e.stellation,e.subsampling,e.vertexThickness,e.zoom]);d.useEffect(()=>{t.current.speed=new Array(a.combinations.length).fill(0)},[a.combinations.length]),d.useEffect(()=>{e.matrix._reset&&(delete e.matrix._reset,t.current.speed=new Array(a.combinations.length).fill(0))},[a.combinations.length,e.matrix]);const m=d.useCallback(()=>{const{pause:p,speed:h,zoom:y}=t.current;let E=!1;for(let k=0;k<h.length;k++)h[k]!==0&&(E=!0,a.auto==="damp"&&(h[k]*=Le,L(h[k])<1e-4&&(h[k]=0)),(a.auto!=="damp"||!p.has(k))&&re(n.current.matrix,ae(se(h[k],k,a.combinations,e.dimensions,e.spaceType.metric),n.current.matrix)));if(E&&i(),y){const k=H(n.current.zoom)/H(I),F=H(y)/H(I);n.current.zoom*=pe(I,(F-k)*.05),L(y-n.current.zoom)<y*.001&&(n.current.zoom=y,t.current.zoom=null),E=!0,f()}if(h.reduce((k,F)=>L(k)+L(F),0)===0&&t.current.zoom===null&&!e.matrix._reset){o({matrix:n.current.matrix,zoom:n.current.zoom}),c.current=null;return}E&&M(e),c.current=requestAnimationFrame(m)},[i,a.auto,a.combinations,e.dimensions,e.spaceType]);d.useEffect(()=>{t.current.speed.reduce((v,u)=>L(v)+L(u),0)>0&&(c.current=requestAnimationFrame(m));const p=new Map;let h=null,y=null;const E=()=>{const v=p.values(),u=v.next().value,b=v.next().value;return me(u[0]-b[0],u[1]-b[1])},k=v=>{v.button!==0||v.target.tagName!=="CANVAS"||(a.auto&&(y=performance.now(),t.current.pause.add(a.shift*2),t.current.pause.add(a.shift*2+1),t.current.speed[a.shift*2]=0,t.current.speed[a.shift*2+1]=0),p.set(v.pointerId,[v.clientX,v.clientY]))},F=v=>{if(!p.has(v.pointerId))return;let u=p.get(v.pointerId);const b=[-(v.clientX-u[0])/window.innerHeight,-(v.clientY-u[1])/window.innerHeight];if(a.auto){const z=performance.now(),N=z-y;y=z;const T=[G*b[0]/N,G*b[1]/N];t.current.speed[a.shift*2]=T[1],t.current.speed[a.shift*2+1]=T[0],c.current||(c.current=requestAnimationFrame(m))}if(p.set(v.pointerId,[v.clientX,v.clientY]),p.size===2){if(h===null){h=E();return}const z=E();e.zoom*=h/z,h=z,$(e),M(e);return}let O=a.shift;!O&&v.shiftKey?O=1:!O&&v.altKey?O=2:!O&&v.ctrKey?O=3:!O&&v.metaKey&&(O=4),p.size>2&&(O+=p.size-2),C(U*b[0],U*b[1],O,{combinations:a.combinations,auto:a.auto,shift:a.shift},n.current.matrix,e.dimensions,e.spaceType.metric),i()},V=v=>{p.has(v.pointerId)&&(a.auto&&(performance.now()-y>100?(t.current.speed[a.shift*2]=0,t.current.speed[a.shift*2+1]=0):a.auto==="free"&&(t.current.speed[a.shift*2]*=.5,t.current.speed[a.shift*2+1]*=.5),t.current.pause.delete(a.shift*2),t.current.pause.delete(a.shift*2+1)),h=null,p.delete(v.pointerId))};return document.addEventListener("pointerdown",k),document.addEventListener("pointermove",F),document.addEventListener("pointerup",V),()=>{document.removeEventListener("pointerdown",k),document.removeEventListener("pointermove",F),document.removeEventListener("pointerup",V),c.current&&(cancelAnimationFrame(c.current),c.current=null)}},[a.auto,a.combinations,a.shift,e.dimensions,e.spaceType,e.camera,m,i]),d.useEffect(()=>{const p=h=>{h.target===document.body&&ze(h,a,n.current.matrix,e.dimensions,e.spaceType.metric,s)&&i()};return document.addEventListener("keydown",p),()=>document.removeEventListener("keydown",p)},[i,a,e.spaceType,e.dimensions,s]),d.useEffect(()=>{const p=h=>{if(h.target.tagName!=="CANVAS")return;const y=t.current.zoom===null?n.current.zoom:t.current.zoom;t.current.zoom=y*(h.deltaY<0?I:1/I),c.current||(c.current=requestAnimationFrame(m))};return document.addEventListener("wheel",p),()=>{document.removeEventListener("wheel",p)}},[m]),d.useEffect(()=>{const p=h=>{if(h.button!==0||h.target.tagName!=="CANVAS")return;const y=t.current.zoom===null?n.current.zoom:t.current.zoom,E=y<.5?5:y<2?.25:1;t.current.zoom=E,c.current||(c.current=requestAnimationFrame(m))};return document.addEventListener("dblclick",p),()=>{document.removeEventListener("dblclick",p)}},[m])};function Ie({runtime:e,rotations:a,updateRotations:s,updateParams:o}){return Ne(e,a,s,o),null}const Ve=(e,a)=>{d.useEffect(()=>{a(s=>($(s),s))},[e.fov3,e.camera,e.zoom,a]),d.useEffect(()=>{a(s=>(s.meshes.updateGeometries(s),s))},[e.spaceType,e.curve,e.segments,a]),d.useEffect(()=>{a(s=>(s.meshes.changeArity(s.dimensions),s))},[e.dimensions,a]),d.useEffect(()=>{a(s=>(he(s),s))},[e.ambiance,e.msaa,e.msaaSamples,a]),d.useEffect(()=>{a(s=>(ue(s),s))},[e.ambiance,e.msaa,e.msaaSamples,a]),d.useEffect(()=>{a(s=>(B(s,"vertex"),B(s,"edge"),B(s,"face"),s))},[e.showVertices,e.showEdges,e.showFaces,a]),d.useEffect(()=>{a(s=>{if(!(s.currentOrder<0))try{return W(s,s.currentOrder-1),s}catch(o){return console.error(o),{...s,error:o.message}}})},[e.currentOrder,e.edge,e.face,e.ranges,e.showEdges,e.showFaces,e.showVertices,e.vertex,a]),d.useEffect(()=>{a(s=>(s.meshes.recompilePrograms(s),s))},[e.ambiance,e.dimensions,e.easing,e.projection3,e.projection4,e.projection5,e.projection6,e.projection7,e.projection8,e.projection9,e.spaceType,a]),d.useEffect(()=>{a(s=>{try{return W(s),s}catch(o){return console.error(o),{...s,error:o.message}}})},[e.ambiance,e.showEdges,e.showFaces,e.showVertices,a]),d.useEffect(()=>{a(s=>(s.meshes.updateUniforms(s),s))},[e.ambiance,e.ambiance,e.curve,e.dimensions,e.easing,e.edgeThickness,e.fov4,e.fov5,e.fov6,e.fov7,e.fov8,e.fov9,e.matrix,e.projection3,e.projection4,e.projection5,e.projection6,e.projection7,e.projection8,e.projection9,e.segments,e.spaceType,e.vertexThickness,a]),d.useEffect(()=>{const s=new ResizeObserver(()=>{M(e)});return s.observe(e.gl.canvas,{box:"content-box"}),()=>s.disconnect()},[e.ambiance,e.camera,e.centered,e.coxeter,e.currentOrder,e.curve,e.dimensions,e.easing,e.edge,e.edgeThickness,e.error,e.face,e.fov3,e.fov4,e.fov5,e.fov6,e.fov7,e.fov8,e.fov9,e.grouper,e.matrix,e.msaa,e.msaaSamples,e.projection3,e.projection4,e.projection5,e.projection6,e.projection7,e.projection8,e.projection9,e.ranges,e.renderError,e.segments,e.showEdges,e.showFaces,e.showVertices,e.spaceType,e.stellation,e.subsampling,e.vertexThickness,e.vertex,e.zoom])};function He({runtime:e,setRuntime:a}){return Ve(e,a),null}function Be(){return new Worker(""+new URL("knuthbendix-tiling.worker-16eb0b1e.js",import.meta.url).href)}function Pe(){return new Worker(""+new URL("toddcoxeter-tiling.worker-6a40176f.js",import.meta.url).href)}function $e(){return new Worker(""+new URL("fundamental.worker-12def406.js",import.meta.url).href)}let P=class ce{constructor(a,s){this.workerClass=s,this.name=a,this.init(),this.times={}}static uuid4(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,a=>{const s=Math.random()*16|0;return(a==="x"?s:s&3|8).toString(16)})}init(){this.processing=0,this.worker=new this.workerClass}kill(){this.processing>0&&(console.debug(`Killing worker ${this.name} (${this.processing})`),this.worker.terminate(),this.init())}process(a){return a.uuid=ce.uuid4(),this.processing++,this.times[a.uuid]=performance.now(),this.worker.postMessage(a),new Promise((s,o)=>{const c=n=>{if(n.data.uuid!==a.uuid)return;const i=performance.now()-this.times[a.uuid];if(delete this.times[a.uuid],console.debug(`Worker ${this.name} took ${i}ms`),this.processing--,this.worker.removeEventListener("message",c),this.worker.removeEventListener("error",t),n.data.error){o(n.data.error);return}s(n.data)},t=n=>{this.worker.removeEventListener("message",c),this.worker.removeEventListener("error",t),!(this.processing<=0)&&(delete this.times[a.uuid],this.processing--,this.processing=ge(0,this.processing),console.error(`Can't call web worker ${this.name}`,n))};this.worker.addEventListener("message",c),this.worker.addEventListener("error",t)})}};const Me=()=>Object.values(le).filter(e=>e.processing>0).forEach(e=>e.kill()),le={knuthbendix:new P("knuthbendix",Be),toddcoxeter:new P("toddcoxeter",Pe),fundamental:new P("fundamental",$e)},Z=async(e,a,s)=>{const o=le[e.grouper.replace(/^auto-/,"")];if(e.currentOrder===0&&(Me(),a.current=!1),a.current===e.currentOrder){console.log("already processing at ",e.currentOrder);return}try{a.current=e.currentOrder;const{vertices:c,edges:t,faces:n,partials:i,order:f}=await o.process({order:e.currentOrder,coxeter:e.coxeter,stellation:e.stellation,metric:e.spaceType.metric,curvature:e.spaceType.curvature,mirrors:e.mirrors,rootNormals:e.rootNormals,rootVertices:e.rootVertices,dimensions:e.dimensions});a.current=!1,s(m=>m.currentOrder!==f?(console.warn("Mismatched order, ignoring",m.currentOrder,f),{...m,currentOrder:0,vertex:[],edge:[],face:[],partial:[],ranges:[],renderError:null,processing:!0,error:"Mismatch Order"}):{...m,ranges:[...m.ranges,{vertex:[m.vertex.length,m.vertex.length+c.length],edge:[m.edge.length,m.edge.length+t.length],face:[m.face.length,m.face.length+n.length]}],vertex:m.vertex.concat(c),edge:m.edge.concat(t),face:m.face.concat(n),partial:i,currentOrder:f+1,processing:!1,error:null})}catch(c){a.current=!1,console.error(c);const t={...e,currentOrder:e.order,error:c.message,processing:!1};s(t)}},_e=(e,a)=>{const s=d.useRef(!1);d.useEffect(()=>{a(o=>o.order<o.currentOrder?{...o,currentOrder:o.order}:o)},[e.order,e.currentOrder,a]),d.useEffect(()=>{a(o=>{const c=fe(o.coxeter,o.stellation),t=xe(c);if(!t)return{...o,spaceType:t};const{vertices:n,normals:i}=je(t,o.centered),f={...o,currentOrder:0,vertex:[],edge:[],face:[],partial:[],ranges:[],spaceType:t,rootNormals:i,rootVertices:n,renderError:null,processing:!0,error:null};return Z(f,s,a),f})},[e.dimensions,e.coxeter,e.mirrors,e.stellation,e.centered,e.grouper,a]),d.useEffect(()=>{a(o=>{var c;return o.order<=o.currentOrder?o:(c=o.ranges)!=null&&c[o.order]?{...o,currentOrder:o.order,askedOrder:null}:(Z(o,s,a),{...o,error:null,processing:!0})})},[a,e.order,e.currentOrder])};function qe({runtime:e,setRuntime:a}){return _e(e,a),null}function Re({runtime:e,setRuntime:a,rotations:s,updateRotations:o,updateParams:c}){var n;window.rt=e;const t=d.useCallback(i=>{a(f=>({...f,renderError:i.message}))},[a]);return d.useEffect(()=>()=>{if(e.spaceType&&e.spaceType.curvature!==null){const i=R(e.dimensions);i._reset=!0,c({matrix:i})}},[(n=e.spaceType)==null?void 0:n.curvature]),r.jsx(r.Fragment,{children:r.jsxs(Ae,{error:e.renderError,onError:t,children:[r.jsx(qe,{runtime:e,setRuntime:a}),e.spaceType?r.jsxs(r.Fragment,{children:[r.jsx(He,{runtime:e,setRuntime:a}),r.jsx(Ie,{runtime:e,rotations:s,updateRotations:o,updateParams:c})]}):null]})})}const De="modulepreload",Ue=function(e,a){return new URL(e,a).href},Q={},We=function(a,s,o){if(!s||s.length===0)return a();const c=document.getElementsByTagName("link");return Promise.all(s.map(t=>{if(t=Ue(t,o),t in Q)return;Q[t]=!0;const n=t.endsWith(".css"),i=n?'[rel="stylesheet"]':"";if(!!o)for(let p=c.length-1;p>=0;p--){const h=c[p];if(h.href===t&&(!n||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${t}"]${i}`))return;const m=document.createElement("link");if(m.rel=n?"stylesheet":De,n||(m.as="script",m.crossOrigin=""),m.href=t,document.head.appendChild(m),n)return new Promise((p,h)=>{m.addEventListener("load",p),m.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${t}`)))})})).then(()=>a()).catch(t=>{const n=new Event("vite:preloadError",{cancelable:!0});if(n.payload=t,window.dispatchEvent(n),!n.defaultPrevented)throw t})},Ke=r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:r.jsx("g",{id:"feTarget0",fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1",children:r.jsx("g",{id:"feTarget1",fill:"currentColor",fillRule:"nonzero",children:r.jsx("path",{id:"feTarget2",d:"M19.938 13A8.004 8.004 0 0 1 13 19.938V22h-2v-2.062A8.004 8.004 0 0 1 4.062 13H2v-2h2.062A8.004 8.004 0 0 1 11 4.062V2h2v2.062A8.004 8.004 0 0 1 19.938 11H22v2h-2.062ZM12 18a6 6 0 1 0 0-12a6 6 0 0 0 0 12Zm0-3a3 3 0 1 0 0-6a3 3 0 0 0 0 6Z"})})})}),Ge=r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:r.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8.56 3.69a9 9 0 0 0-2.92 1.95M3.69 8.56A9 9 0 0 0 3 12m.69 3.44a9 9 0 0 0 1.95 2.92m2.92 1.95A9 9 0 0 0 12 21m3.44-.69a9 9 0 0 0 2.92-1.95m1.95-2.92A9 9 0 0 0 21 12m-.69-3.44a9 9 0 0 0-1.95-2.92m-2.92-1.95A9 9 0 0 0 12 3"})}),Ze=r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:r.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 20.777a8.942 8.942 0 0 1-2.48-.969M14 3.223a9.003 9.003 0 0 1 0 17.554m-9.421-3.684a8.961 8.961 0 0 1-1.227-2.592M3.124 10.5c.16-.95.468-1.85.9-2.675l.169-.305m2.714-2.941A8.954 8.954 0 0 1 10 3.223"})}),Qe=r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 14 14",children:r.jsxs("g",{fill:"none",stroke:"currentColor",children:[r.jsx("path",{strokeLinecap:"round",d:"M13.326 8.5a6.5 6.5 0 1 1-.558-4.5"}),r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 2v2.5H11"})]})}),Ye=r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",children:r.jsx("path",{fill:"currentColor",d:"M8.065 2.016A.13.13 0 0 0 8.002 2v11.983l6.856.017a.12.12 0 0 0 .066-.017a.162.162 0 0 0 .054-.06a.176.176 0 0 0-.002-.183L8.12 2.073a.146.146 0 0 0-.054-.057zm-1.043-.45a1.13 1.13 0 0 1 1.96 0l6.856 11.667c.458.778-.091 1.767-.98 1.767H1.146c-.889 0-1.437-.99-.98-1.767L7.022 1.566z"})});function Y({allowNull:e,name:a,value:s,onChange:o,...c}){const t=d.useCallback(i=>{let{name:f,checked:m}=i.target,p;e?p=s===!1?!0:s?null:!1:p=m,o(f,p)},[e,o,s]),n=d.useRef(null);return d.useLayoutEffect(()=>{e&&n.current&&(s===null?n.current.indeterminate=!0:n.current.indeterminate=!1)},[s,e]),r.jsx("input",{type:"checkbox",ref:n,name:a,checked:s||!1,onChange:t})}function j({type:e,subtype:a,level:s,dimensions:o}){return r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"space",children:e===null||e==="indefinite"?"𝕏":e==="affine"?"𝔼":e==="finite"?"𝕊":"ℍ"}),o?r.jsx("sup",{children:o-1}):null,e==="hyperbolic"?r.jsxs("sub",{children:[{compact:" ",paracompact:"*",lorentzian:"L",superhyperbolic:"**"}[a],s]}):null]})}const Je=(...e)=>{if(Array.isArray(e[0]))return{coxeter:e,dimensions:e.length,extended:!0};const a=e.length+1;return{coxeter:new Array(a).fill().map((o,c)=>new Array(a).fill().map((t,n)=>c===n?1:c===n+1||n===c+1?e[te(c,n)]:2)),dimensions:a}},Xe=(...e)=>{const a=e.length+1;return{stellation:new Array(a).fill().map((o,c)=>new Array(a).fill().map((t,n)=>c===n?1:c===n+1||n===c+1?e[te(c,n)]:1))}},l=(e,a,s,o)=>{const c=Je(...e),{dimensions:t}=c,n={...D,...c,showVertices:t<=3,showFaces:t<=4,curve:t>3,grouper:"toddcoxeter",ambiance:"colorful",matrix:R(t),zoom:t<=3?2:t>4?3:5,centered:!0,...Object.fromEntries(ne(3,t+1).map(i=>[`projection${i}`,i===t?"stereographic":"perspective"])),...o||{}};return a?n.mirrors=a:n.mirrors=new Array(t).fill().map((i,f)=>f===0?1:0),s?n.stellation=Xe(...s).stellation:n.stellation=new Array(t).fill().map((i,f)=>new Array(t).fill(1)),n},w=e=>({...e,subforms:Object.entries(er(e.params.dimensions)).map(([a,s])=>({name:`${a} ${e.name}`,params:{...e.params,mirrors:s}}))}),g=(e,a,s,o)=>({...l(e,a,s),ambiance:"plain",showVertices:!1,curve:!0,zoom:1,...o}),S=(e,a,s,o)=>({...l(e,a,s),ambiance:"neon",showFaces:!1,showVertices:!1,grouper:"toddcoxeter",centered:!1,edgeThickness:10,zoom:2,...o}),x=(e,a,s,o)=>({...l(e,a,s),ambiance:"neon",showFaces:!1,showVertices:!1,curve:!0,grouper:"toddcoxeter",centered:!1,edgeThickness:10,zoom:1.5,...o}),er=e=>{if(e===4)return{Rectified:[0,1,0,0],Truncated:[1,1,0,0],Cantellated:[1,0,1,0],Cantitruncated:[1,1,1,0],Runcitruncated:[1,1,0,1],Runcinated:[1,0,0,1],Bitruncated:[0,1,1,0],Omnitruncated:[1,1,1,1]};if(e===5)return{Rectified:[0,1,0,0,0],Birectified:[0,0,1,0,0],Truncated:[1,1,0,0,0],Cantellated:[1,0,1,0,0],Runcinated:[1,0,0,1,0],Stericated:[1,0,0,0,1],Omnitruncated:[1,1,1,1,1]};if(e===6)return{Rectified:[0,1,0,0,0,0],Birectified:[0,0,1,0,0,0],Truncated:[1,1,0,0,0,0],Bitruncated:[0,1,1,0,0,0],Tritruncated:[0,0,1,1,0,0],Cantellated:[1,0,1,0,0,0],Bicantellated:[0,1,0,1,0,0],Runcinated:[1,0,0,1,0,0],Biruncinated:[0,1,0,0,1,0],Stericated:[1,0,0,0,1,0],Pentellated:[1,0,0,0,0,1],Omnitruncated:[1,1,1,1,1,1]};if(e===7)return{Rectified:[0,1,0,0,0,0,0],Birectified:[0,0,1,0,0,0,0],Truncated:[1,1,0,0,0,0,0],Bitruncated:[0,1,1,0,0,0,0],Tritruncated:[0,0,1,1,0,0,0],Cantellated:[1,0,1,0,0,0,0],Bicantellated:[0,1,0,1,0,0,0],Runcinated:[1,0,0,1,0,0,0],Biruncinated:[0,1,0,0,1,0,0],Stericated:[1,0,0,0,1,0,0],Pentellated:[1,0,0,0,0,1,0],Hexicated:[1,0,0,0,0,0,1],Omnitruncated:[1,1,1,1,1,1,1]};if(e===8)return{Rectified:[0,1,0,0,0,0,0,0],Birectified:[0,0,1,0,0,0,0,0],Truncated:[1,1,0,0,0,0,0,0],Bitruncated:[0,1,1,0,0,0,0,0],Tritruncated:[0,0,1,1,0,0,0,0],Quadritruncated:[0,0,0,1,1,0,0,0],Cantellated:[1,0,1,0,0,0,0,0],Bicantellated:[0,1,0,1,0,0,0,0],Tricantellated:[0,0,1,0,1,0,0,0],Runcinated:[1,0,0,1,0,0,0,0],Biruncinated:[0,1,0,0,1,0,0,0],Triruncinated:[0,0,1,0,0,1,0,0],Stericated:[1,0,0,0,1,0,0,0],Pentellated:[1,0,0,0,0,1,0,0],Hexicated:[1,0,0,0,0,0,1,0],Heptellated:[1,0,0,0,0,0,0,1],Omnitruncated:[1,1,1,1,1,1,1,1]};if(e===9)return{Rectified:[0,1,0,0,0,0,0,0,0],Birectified:[0,0,1,0,0,0,0,0,0],Truncated:[1,1,0,0,0,0,0,0,0],Bitruncated:[0,1,1,0,0,0,0,0,0],Tritruncated:[0,0,1,1,0,0,0,0,0],Quadritruncated:[0,0,0,1,1,0,0,0,0],Cantellated:[1,0,1,0,0,0,0,0,0],Bicantellated:[0,1,0,1,0,0,0,0,0],Tricantellated:[0,0,1,0,1,0,0,0,0],Runcinated:[1,0,0,1,0,0,0,0,0],Biruncinated:[0,1,0,0,1,0,0,0,0],Triruncinated:[0,0,1,0,0,1,0,0,0],Stericated:[1,0,0,0,1,0,0,0,0],Pentellated:[1,0,0,0,0,1,0,0,0],Hexicated:[1,0,0,0,0,0,1,0,0],Heptellated:[1,0,0,0,0,0,0,1,0],Octellated:[1,0,0,0,0,0,0,0,1],Omnitruncated:[1,1,1,1,1,1,1,1,1]}},rr=[{type:"title",content:r.jsxs(r.Fragment,{children:[r.jsx("span",{style:{color:"orange"},children:"★"})," Highlights"]})},{name:r.jsxs(r.Fragment,{children:[r.jsx(j,{type:"finite",dimensions:4})," Tesseract"]}),params:l([4,3,3],[1,0,0,0],null,{showVertices:!0,vertexThickness:150,showFaces:!0,curve:!0,ambiance:"neon",zoom:4.2})},{name:r.jsxs(r.Fragment,{children:[r.jsx(j,{type:"hyperbolic",dimensions:3})," 7-3-2 tiling"]}),params:g([7,3],[1,0,0],null,{showVertices:!1,showFaces:!0,curve:!0,ambiance:"neon"})},{name:r.jsxs(r.Fragment,{children:[r.jsx(j,{type:"hyperbolic",subtype:"paracompact",dimensions:3})," Ideal triangles"]}),params:g([[1,0,0],[0,1,0],[0,0,1]],[1,1,1],null,{grouper:"fundamental",showVertices:!1,showFaces:!0,curve:!0,segments:64,easing:"quartic",ambiance:"neon",centered:!0})},{name:r.jsxs(r.Fragment,{children:[r.jsx(j,{type:"finite",dimensions:8})," E6 (1",r.jsx("sub",{children:"22"}),")"]}),params:l([[1,3,2,2,2,2],[3,1,3,2,2,2],[2,3,1,3,3,2],[2,2,3,1,2,2],[2,2,3,2,1,3],[2,2,2,2,3,1]],[0,0,0,1,0,0],null,{vertexThickness:40,edgeThickness:10,ambiance:"colorful",showVertices:!0,projection3:"orthographic",projection4:"orthographic",projection5:"orthographic",projection6:"orthographic",zoom:1,centered:!1})},{name:r.jsxs(r.Fragment,{children:[r.jsx(j,{type:"finite",dimensions:8})," E8 (4",r.jsx("sub",{children:"21"}),")"]}),params:l([[1,3,2,2,2,2,2,2],[3,1,3,2,2,2,2,2],[2,3,1,3,3,2,2,2],[2,2,3,1,2,2,2,2],[2,2,3,2,1,3,2,2],[2,2,2,2,3,1,3,2],[2,2,2,2,2,3,1,3],[2,2,2,2,2,2,3,1]],[0,0,0,0,0,0,0,1],null,{vertexThickness:30,edgeThickness:1,curve:!1,ambiance:"neon",showVertices:!0,projection3:"orthographic",projection4:"orthographic",projection5:"orthographic",projection6:"orthographic",projection7:"orthographic",projection8:"orthographic",order:14,zoom:1,centered:!1})},{name:r.jsxs(r.Fragment,{children:[r.jsx(j,{type:"hyperbolic",subtype:"paracompact",dimensions:4})," Ideal tetrahedron"]}),params:g([3,3,6],[1,0,0,""],null,{showVertices:!1,showFaces:!0,curve:!0,order:1,centered:!0,segments:64,easing:"quartic",ambiance:"pure"})},{name:r.jsxs(r.Fragment,{children:[r.jsx(j,{type:"hyperbolic",subtype:"paracompact",dimensions:4})," ","Horoball"]}),params:g([6,3,4],[1,0,0,""],null,{showVertices:!1,showFaces:!0,curve:!0,order:20,centered:!1,ambiance:"colorful"})},{name:r.jsxs(r.Fragment,{children:[r.jsx(j,{type:"hyperbolic",dimensions:4})," 5-3-4 honeycomb"]}),params:x([5,3,4],[1,0,0,0],null,{zoom:1.5})},{name:r.jsxs(r.Fragment,{children:[r.jsx(j,{type:"hyperbolic",subtype:"lorentzian",level:2,dimensions:4})," ","7-3-3 paracompact honeycomb"]}),params:x([7,3,3],[1,0,0,0],null,{zoom:1.5,showFaces:!0,showVertices:!0,segments:16})},{name:r.jsxs(r.Fragment,{children:[r.jsx(j,{type:"hyperbolic",subtype:"paracompact",dimensions:4})," Ideal Pentahedron"]}),params:g([5,3,6],[1,0,0,""],null,{showVertices:!1,showFaces:!0,curve:!0,order:1,centered:!0,segments:32,easing:"quartic",ambiance:"pure",zoom:1.5})},{name:r.jsxs(r.Fragment,{children:[r.jsx(j,{type:"finite",dimensions:4})," Flat Torus"]}),params:l([32,2,32],[1,0,0,1],null,{showVertices:!1,showFaces:!1,curve:!0,ambiance:"neon",zoom:3,edgeThickness:5})},{name:r.jsxs(r.Fragment,{children:[r.jsx(j,{type:"affine",dimensions:5})," Tesseract stack"]}),params:l([[1,2,2,2,0],[2,1,2,2,2],[2,2,1,2,2],[2,2,2,1,2],[0,2,2,2,1]],[1,1,1,1,0],null,{showVertices:!1,showFaces:!0,ambiance:"neon",edgeThickness:35})},{name:r.jsxs(r.Fragment,{children:[r.jsx(j,{type:"hyperbolic",subtype:"superhyperbolic",dimensions:4})," ","Ultrahyperbolic surface (Anti-de Sitter Ads3)"]}),params:l([-1,2,-1],[1,0,0,1],null,{showVertices:!1,showFaces:!1,curve:!0,ambiance:"neon",centered:!1,edgeThickness:10,zoom:1})},{name:r.jsxs(r.Fragment,{children:[r.jsx(j,{type:"hyperbolic",subtype:"superhyperbolic",dimensions:5})," ","Ultrahyperbolic honeycomb (Anti-de Sitter Ads4)"]}),params:l([-1,3,3,-1],[1,0,0,0,1],null,{showVertices:!1,showFaces:!1,curve:!0,ambiance:"neon",centered:!1,edgeThickness:10,zoom:2})},{type:"title",content:r.jsxs(r.Fragment,{children:[r.jsx(j,{type:"finite"})," Spherical space"]})},{type:"group",content:r.jsxs(r.Fragment,{children:[r.jsx(j,{type:"finite",dimensions:3})," Polyedra"]})},{name:"Tetrahedron",params:l([3,3]),subforms:[{name:"Truncated Tetrahedron",params:l([3,3],[1,1,0])}]},{name:"Cube",params:l([4,3]),subforms:[{name:"Cuboctahedron",params:l([4,3],[0,1,0])},{name:"Truncated Cube",params:l([4,3],[1,1,0])},{name:"Rhombicuboctahedron",params:l([4,3],[1,0,1])},{name:"Truncated Octahedron",params:l([3,4],[1,1,0])},{name:"Truncated Cuboctahedron",params:l([4,3],[1,1,1])},{name:"Octahedron",params:l([3,4])}]},{name:"Dodecahedron",params:l([5,3]),subforms:[{name:"Icosidodecahedron",params:l([5,3],[0,1,0])},{name:"Truncate Dodecahedron",params:l([5,3],[1,1,0])},{name:"Rhombicosidodecahedron",params:l([5,3],[1,0,1])},{name:"Truncate Icosahedron",params:l([3,5],[1,1,0])},{name:"Truncated Icosidodecahedron",params:l([5,3],[1,1,1])},{name:"Icosahedron",params:l([3,5])}]},{name:"Snub Cube",params:l([4,3],["s","s","s"])},{name:"Snub Dodecahedron",params:l([5,3],["s","s","s"])},{name:"Great Dodecahedron",params:l([5,5],[1,0,0],[1,2])},{name:"Great Icosahedron",params:l([3,5],[1,0,0],[1,2])},{name:"Small Stellated Dodecahedron",params:l([5,5],[1,0,0],[2,1])},{name:"Great Stellated Dodecahedron",params:l([5,3],[1,0,0],[2,1])},{name:"Stellated Octahedron",params:l([2,2],["ß","ß","ß"])},{type:"group",content:r.jsxs(r.Fragment,{children:[r.jsx(j,{type:"finite",dimensions:4})," Polychora"]})},w({name:"5-cell",params:l([3,3,3])}),w({name:"8-cell",params:l([4,3,3])}),w({name:"16-cell",params:l([3,3,4])}),w({name:"24-cell",params:l([3,4,3])}),w({name:"120-cell",params:l([5,3,3])}),w({name:"600-cell",params:l([3,3,5])}),{name:"Snub 24-cell",params:l([3,4,3],["s","s",0,0])},{name:"Icosahedral 120-cell",params:l([3,5,5],[1,0,0,0],[1,1,2],{curve:!1}),subforms:[{name:"Small stellated 120-cell",params:l([3,5,5],[0,0,0,1],[1,1,2],{curve:!1})},{name:"Great 120-cell",params:l([5,5,5],[1,0,0,0],[1,2,1],{curve:!1})},{name:"Grand 120-cell",params:l([5,3,5],[1,0,0,0],[1,1,2],{curve:!1})},{name:"Great stellated 120-cell",params:l([5,3,5],[0,0,0,1],[1,1,2],{curve:!1})},{name:"Grand stellated 120-cell",params:l([5,5,5],[1,0,0,0],[2,1,2],{curve:!1})},{name:"Great grand 120-cell",params:l([5,5,3],[1,0,0,0],[1,2,1],{curve:!1})},{name:"Great icosahedral 120-cell",params:l([5,5,3],[0,0,0,1],[1,2,1],{curve:!1})},{name:"Great grand stellated 120-cell",params:l([5,3,3],[1,0,0,0],[2,1,1],{curve:!1})}]},{name:"Grand 600-cell",params:l([3,3,5],[1,0,0,0],[1,1,2],{curve:!1})},{type:"group",content:r.jsxs(r.Fragment,{children:[r.jsx(j,{type:"finite",dimensions:5})," Polytera"]})},w({name:"5-simplex",params:l([3,3,3,3])}),w({name:"5-cube",params:l([4,3,3,3])}),w({name:"5-orthoplex",params:l([3,3,3,4])}),w({name:"5-demicube",params:l([[1,2,3,2,2],[2,1,3,2,2],[3,3,1,3,2],[2,2,3,1,3],[2,2,2,3,1]])}),{type:"group",content:r.jsxs(r.Fragment,{children:[r.jsx(j,{type:"finite",dimensions:6})," Polypeta"]})},w({name:"6-simplex",params:l([3,3,3,3,3])}),w({name:"6-cube",params:l([4,3,3,3,3])}),w({name:"6-orthoplex",params:l([3,3,3,3,4])}),w({name:"6-demicube",params:l([[1,2,3,2,2,2],[2,1,3,2,2,2],[3,3,1,3,2,2],[2,2,3,1,3,2],[2,2,2,3,1,3],[2,2,2,2,3,1]])}),{name:r.jsxs(r.Fragment,{children:["2",r.jsx("sub",{children:"21"})]}),params:l([[1,3,2,2,2,2],[3,1,3,2,2,2],[2,3,1,3,3,2],[2,2,3,1,2,2],[2,2,3,2,1,3],[2,2,2,2,3,1]],[1,0,0,0,0,0])},{name:r.jsxs(r.Fragment,{children:["1",r.jsx("sub",{children:"22"})]}),params:l([[1,3,2,2,2,2],[3,1,3,2,2,2],[2,3,1,3,3,2],[2,2,3,1,2,2],[2,2,3,2,1,3],[2,2,2,2,3,1]],[0,0,0,1,0,0])},{type:"group",content:r.jsxs(r.Fragment,{children:[r.jsx(j,{type:"finite",dimensions:7})," Polyexa"]})},w({name:"7-simplex",params:l([3,3,3,3,3,3])}),w({name:"7-cube",params:l([4,3,3,3,3,3])}),w({name:"7-orthoplex",params:l([3,3,3,3,3,4])}),w({name:"7-demicube",params:l([[1,2,3,2,2,2,2],[2,1,3,2,2,2,2],[3,3,1,3,2,2,2],[2,2,3,1,3,2,2],[2,2,2,3,1,3,2],[2,2,2,2,3,1,3],[2,2,2,2,2,3,1]])}),{name:r.jsxs(r.Fragment,{children:["3",r.jsx("sub",{children:"21"})]}),params:l([[1,3,2,2,2,2,2],[3,1,3,2,2,2,2],[2,3,1,3,2,2,2],[2,2,3,1,3,3,2],[2,2,2,3,1,2,2],[2,2,2,3,2,1,3],[2,2,2,2,2,3,1]],[1,0,0,0,0,0,0])},{name:r.jsxs(r.Fragment,{children:["2",r.jsx("sub",{children:"31"})]}),params:l([[1,3,2,2,2,2,2],[3,1,3,2,2,2,2],[2,3,1,3,2,2,2],[2,2,3,1,3,3,2],[2,2,2,3,1,2,2],[2,2,2,3,2,1,3],[2,2,2,2,2,3,1]],[0,0,0,0,0,0,1])},{name:r.jsxs(r.Fragment,{children:["1",r.jsx("sub",{children:"32"})]}),params:l([[1,3,2,2,2,2,2],[3,1,3,2,2,2,2],[2,3,1,3,2,2,2],[2,2,3,1,3,3,2],[2,2,2,3,1,2,2],[2,2,2,3,2,1,3],[2,2,2,2,2,3,1]],[0,0,0,0,1,0,0])},{type:"group",content:r.jsxs(r.Fragment,{children:[r.jsx(j,{type:"finite",dimensions:8})," Polyzetta"]})},w({name:"8-simplex",params:l([3,3,3,3,3,3,3])}),w({name:"8-cube",params:l([4,3,3,3,3,3,3])}),w({name:"8-orthoplex",params:l([3,3,3,3,3,3,4])}),w({name:"8-demicube",params:l([[1,2,3,2,2,2,2,2],[2,1,3,2,2,2,2,2],[3,3,1,3,2,2,2,2],[2,2,3,1,3,2,2,2],[2,2,2,3,1,3,2,2],[2,2,2,2,3,1,3,2],[2,2,2,2,2,3,1,3],[2,2,2,2,2,2,3,1]])}),{name:r.jsxs(r.Fragment,{children:["1",r.jsx("sub",{children:"42"})]}),params:l([[1,3,2,2,2,2,2,2],[3,1,3,2,2,2,2,2],[2,3,1,3,3,2,2,2],[2,2,3,1,2,2,2,2],[2,2,3,2,1,3,2,2],[2,2,2,2,3,1,3,2],[2,2,2,2,2,3,1,3],[2,2,2,2,2,2,3,1]],[0,0,1,0,0,0,0,0])},{name:r.jsxs(r.Fragment,{children:["2",r.jsx("sub",{children:"41"})]}),params:l([[1,3,2,2,2,2,2,2],[3,1,3,2,2,2,2,2],[2,3,1,3,3,2,2,2],[2,2,3,1,2,2,2,2],[2,2,3,2,1,3,2,2],[2,2,2,2,3,1,3,2],[2,2,2,2,2,3,1,3],[2,2,2,2,2,2,3,1]],[1,0,0,0,0,0,0,0])},{name:r.jsxs(r.Fragment,{children:["4",r.jsx("sub",{children:"21"})]}),params:l([[1,3,2,2,2,2,2,2],[3,1,3,2,2,2,2,2],[2,3,1,3,3,2,2,2],[2,2,3,1,2,2,2,2],[2,2,3,2,1,3,2,2],[2,2,2,2,3,1,3,2],[2,2,2,2,2,3,1,3],[2,2,2,2,2,2,3,1]],[0,0,0,0,0,0,0,1])},{type:"group",content:r.jsxs(r.Fragment,{children:[r.jsx(j,{type:"finite",dimensions:9}),"Polyyotta"]})},w({name:"9-simplex",params:l([3,3,3,3,3,3,3,3])}),w({name:"9-cube",params:l([4,3,3,3,3,3,3,3])}),w({name:"9-orthoplex",params:l([3,3,3,3,3,3,3,4])}),w({name:"9-demicube",params:l([[1,2,3,2,2,2,2,2,2],[2,1,3,2,2,2,2,2,2],[3,3,1,3,2,2,2,2,2],[2,2,3,1,3,2,2,2,2],[2,2,2,3,1,3,2,2,2],[2,2,2,2,3,1,3,2,2],[2,2,2,2,2,3,1,3,2],[2,2,2,2,2,2,3,1,3],[2,2,2,2,2,2,2,3,1]])}),{type:"title",content:r.jsxs(r.Fragment,{children:[r.jsx(j,{type:"affine"})," Euclidean space"]})},{type:"group",content:r.jsxs(r.Fragment,{children:[r.jsx(j,{type:"affine",dimensions:3})," Tilings"]})},{name:"Triangle",params:l([[1,3,3],[3,1,3],[3,3,1]],[1,0,0])},{name:"Square",params:l([4,4],[1,0,0])},{name:"Hexagonal",params:l([6,3],[1,0,0])},{type:"group",content:r.jsxs(r.Fragment,{children:[r.jsx(j,{type:"affine",dimensions:4})," Honeycombs"]})},{name:"Cubic",params:S([4,3,4],[1,0,0,0])},{name:"Octet",params:S([[1,3,2,2],[3,1,3,4],[2,3,1,2],[2,4,2,1]],[1,0,0,0])},{name:"Quarter cubic",params:S([[1,3,2,3],[3,1,3,2],[2,3,1,3],[3,2,3,1]],[1,0,0,1])},{type:"group",content:r.jsxs(r.Fragment,{children:[r.jsx(j,{type:"affine",dimensions:5})," 4-Honeycombs"]})},{name:"Tesseractic",params:S([4,3,3,4],[1,0,0,0,0])},{name:"16-cellic",params:S([3,3,4,3],[1,0,0,0,0],null,{grouper:"toddcoxeter"})},{name:"24-cellic",params:S([3,4,3,3],[1,0,0,0,0],null,{grouper:"toddcoxeter"})},{name:"4-simpletic",params:S([[1,3,2,2,3],[3,1,3,2,2],[2,3,1,3,2],[2,2,3,1,3],[3,2,2,3,1]],[1,0,0,0,0],null,{grouper:"toddcoxeter"})},{name:"Quarter tesseractic",params:S([[1,2,3,2,2],[2,1,3,2,2],[3,3,1,3,3],[2,2,3,1,2],[2,2,3,2,1]],[1,0,0,1,0],null,{grouper:"toddcoxeter"})},{type:"title",content:r.jsxs(r.Fragment,{children:[r.jsx(j,{type:"hyperbolic"})," Hyperbolic space"]})},{type:"group",content:r.jsxs(r.Fragment,{children:[r.jsx(j,{type:"hyperbolic",dimensions:3})," Tilings"]})},{name:"Order-7 triangular",params:g([3,7],[1,0,0])},{name:"Order-8 triangular",params:g([3,8],[1,0,0])},{name:"Infinite Order triangular",params:g([3,0],[1,0,0])},{name:"Order-5 square",params:g([4,5],[1,0,0])},{name:"Order-6 square",params:g([4,6],[1,0,0])},{name:"Order-7 square",params:g([4,7],[1,0,0])},{name:"Order-8 square",params:g([4,8],[1,0,0])},{name:"Infinite Order square",params:g([4,0],[1,0,0])},{name:"Order-4 pentagonal",params:g([5,4],[1,0,0])},{name:"Order-5 pentagonal",params:g([5,5],[1,0,0])},{name:"Order-6 pentagonal",params:g([5,6],[1,0,0])},{name:"Order-7 pentagonal",params:g([5,7],[1,0,0])},{name:"Order-8 pentagonal",params:g([5,8],[1,0,0])},{name:"Infinite Order pentagonal",params:g([5,0],[1,0,0])},{name:"Order-4 hexagonal",params:g([6,4],[1,0,0])},{name:"Order-5 hexagonal",params:g([6,5],[1,0,0])},{name:"Order-6 hexagonal",params:g([6,6],[1,0,0])},{name:"Order-7 hexagonal",params:g([6,7],[1,0,0])},{name:"Order-8 hexagonal",params:g([6,8],[1,0,0])},{name:"Infinite Order hexagonal",params:g([6,0],[1,0,0])},{name:"Order-3 heptagonal",params:g([7,3],[1,0,0])},{name:"Order-4 heptagonal",params:g([7,4],[1,0,0])},{name:"Order-5 heptagonal",params:g([7,5],[1,0,0])},{name:"Order-6 heptagonal",params:g([7,6],[1,0,0])},{name:"Order-7 heptagonal",params:g([7,7],[1,0,0])},{name:"Order-8 heptagonal",params:g([7,8],[1,0,0])},{name:"Infinite Order heptagonal",params:g([7,0],[1,0,0])},{name:"Order-3 octagonal",params:g([8,3],[1,0,0])},{name:"Order-4 octagonal",params:g([8,4],[1,0,0])},{name:"Order-5 octagonal",params:g([8,5],[1,0,0])},{name:"Order-6 octagonal",params:g([8,6],[1,0,0])},{name:"Order-7 octagonal",params:g([8,7],[1,0,0])},{name:"Order-8 octagonal",params:g([8,8],[1,0,0])},{name:"Infinite Order octagonal",params:g([8,0],[1,0,0])},{name:"Order-3 apeirogonal",params:g([0,3],[1,0,0])},{name:"Order-4 apeirogonal",params:g([0,4],[1,0,0])},{name:"Order-5 apeirogonal",params:g([0,5],[1,0,0])},{name:"Order-6 apeirogonal",params:g([0,6],[1,0,0])},{name:"Order-7 apeirogonal",params:g([0,7],[1,0,0])},{name:"Order-8 apeirogonal",params:g([0,8],[1,0,0])},{name:"Infinite Order apeirogonal",params:g([0,0],[1,0,0])},{type:"group",content:r.jsxs(r.Fragment,{children:[r.jsx(j,{type:"hyperbolic",subtype:"compact",dimensions:4})," Honeycombs compacts"]})},{name:"Icosahedral",params:x([3,5,3],[1,0,0,0])},{name:"Order-4 dodecahedral",params:x([5,3,4],[1,0,0,0])},{name:"Order-5 dodecahedral",params:x([5,3,5],[1,0,0,0],null,{grouper:"toddcoxeter"})},{name:"Alternated Order-5 cubic",params:x([[1,2,3,2],[2,1,3,2],[3,3,1,5],[2,2,5,1]],[1,0,0,0])},{name:"Tetrahedral cubic",params:x([[1,4,2,3],[4,1,3,2],[2,3,1,3],[3,2,3,1]],[1,0,0,0],null,{grouper:"toddcoxeter"})},{name:"Tetrahedral dodecahedral",params:x([[1,3,2,5],[3,1,3,2],[2,3,1,3],[5,2,3,1]],[1,0,0,0],null,{grouper:"toddcoxeter"})},{name:"Cubic octahedral",params:x([[1,3,2,4],[3,1,4,2],[2,4,1,3],[4,2,3,1]],[1,0,0,0],null,{grouper:"toddcoxeter"})},{name:"Octahedral Dodcahedral",params:x([[1,3,2,5],[3,1,4,2],[2,4,1,3],[5,2,3,1]],[1,0,0,0],null,{grouper:"toddcoxeter"})},{name:"Octahedral Icosahedral",params:x([[1,3,2,5],[3,1,5,2],[2,5,1,3],[5,2,3,1]],[1,0,0,0],null,{grouper:"toddcoxeter"})},{type:"group",content:r.jsxs(r.Fragment,{children:[r.jsx(j,{type:"hyperbolic",subtype:"paracompact",dimensions:4})," ","Honeycombs paracompacts"]})},{name:"Triangular",params:x([3,6,3],[1,0,0,0],null,{grouper:"toddcoxeter"})},{name:"Hexagonal",params:x([6,3,3],[1,0,0,0],null,{grouper:"toddcoxeter"})},{name:"Order-6 tetrahedral",params:x([3,3,6],[1,0,0,0],null,{grouper:"toddcoxeter"})},{name:"Alternated Order-6 cubic",params:x([[1,2,3,2],[2,1,3,2],[3,3,1,6],[2,2,6,1]],[1,0,0,0],null,{grouper:"toddcoxeter"})},{name:"Order-5 hexagonal",params:x([6,3,5],[1,0,0,0],null,{grouper:"toddcoxeter"})},{name:"Alternated Order-5 hexagonal",params:x([[1,2,3,2],[2,1,3,2],[3,3,1,5],[2,2,5,1]],[1,0,0,0],null,{grouper:"toddcoxeter"})},{name:"Order-6 hexagonal",params:x([6,3,6],[1,0,0,0],null,{grouper:"toddcoxeter"})},{name:"Square",params:x([4,4,3],[1,0,0,0],null,{grouper:"toddcoxeter"})},{name:"Alternated square",params:x([[1,2,4,2],[2,1,4,2],[4,4,1,3],[2,2,3,1]],[1,0,0,0],null,{grouper:"toddcoxeter"})},{name:"Order-4 square",params:x([4,4,4],[0,1,0,0],null,{grouper:"toddcoxeter"})},{name:"Tetrahedral square",params:x([[1,4,2,4],[4,1,3,2],[2,3,1,3],[4,2,3,1]],[0,1,0,0],null,{grouper:"toddcoxeter"})},{name:"Cubic square",params:x([[1,4,2,4],[4,1,3,2],[2,3,1,4],[4,2,4,1]],[1,0,0,0],null,{grouper:"toddcoxeter"})},{name:"Quarter order square",params:x([[1,4,2,4],[4,1,4,2],[2,4,1,4],[4,2,4,1]],[1,0,0,0],null,{grouper:"toddcoxeter"})},{name:"Tetrahedral Hexagonal",params:x([[1,3,2,6],[3,1,3,2],[2,3,1,3],[6,2,3,1]],[1,0,0,0],null,{grouper:"toddcoxeter"})},{name:"Octahedral Hexagonal",params:x([[1,3,2,6],[3,1,4,2],[2,4,1,3],[6,2,3,1]],[1,0,0,0],null,{grouper:"toddcoxeter"})},{name:"Icosahedral Hexagonal",params:x([[1,3,2,6],[3,1,5,2],[2,5,1,3],[6,2,3,1]],[1,0,0,0],null,{grouper:"toddcoxeter"})},{name:"Hexagonal Triangular",params:x([[1,3,2,6],[3,1,6,2],[2,6,1,3],[6,2,3,1]],[1,0,0,0],null,{grouper:"toddcoxeter"})},{name:"Alternated Hexagonal",params:x([[1,3,3,2],[3,1,3,2],[3,3,1,3],[2,2,3,1]],[1,0,0,0],null,{grouper:"toddcoxeter"})},{name:"Alternated Order-4 Hexagonal",params:x([[1,3,3,2],[3,1,3,2],[3,3,1,4],[2,2,4,1]],[1,0,0,0],null,{grouper:"toddcoxeter"})},{name:"Alternated Order-5 Hexagonal",params:x([[1,3,3,2],[3,1,3,2],[3,3,1,5],[2,2,5,1]],[1,0,0,0],null,{grouper:"toddcoxeter"})},{name:"Runcic Order-6 Hexagonal",params:x([[1,3,3,2],[3,1,3,2],[3,3,1,6],[2,2,6,1]],[1,0,0,1],null,{grouper:"toddcoxeter"})},{name:"Quarter Order-4 hexagonal",params:x([[1,3,3,2],[3,1,3,3],[3,3,1,3],[2,3,3,1]],[1,1,0,0],null,{grouper:"toddcoxeter"})},{name:"Hexagonal",params:x([[1,3,3,3],[3,1,3,3],[3,3,1,3],[3,3,3,1]],[1,1,1,1],null,{grouper:"toddcoxeter"})},{type:"group",content:r.jsxs(r.Fragment,{children:[r.jsx(j,{type:"hyperbolic",subtype:"lorentzian",level:2,dimensions:4})," ","Honeycombs lorentzians"]})},{name:"3-3-7",params:x([3,3,7],[1,0,0,0],null,{grouper:"toddcoxeter"})},{name:"3-4-7",params:x([3,3,7],[1,0,0,0],null,{grouper:"toddcoxeter"})},{name:"3-5-7",params:x([3,5,7],[1,0,0,0],null,{grouper:"toddcoxeter"})}],_=e=>{if(["string","number"].includes(typeof e))return e;if(e instanceof Array)return e.map(_).join("");if(typeof e=="object"&&e)return _(e.props.children)},J=(e,a)=>typeof e=="string"?_(e).toLowerCase().includes(a.toLowerCase()):!1,ar=d.memo(function e({name:a,params:s,search:o,subforms:c=[],sub:t=!1,onPreset:n}){const[i,f]=d.useState(!0),[m,p]=d.useState(!1);return d.useEffect(()=>{if(!o){f(!0),p(!1);return}if(J(a,o)){f(!0);return}if(c.length&&c.some(({name:h})=>J(h,o))){f(!0),p(!0);return}f(!1),p(!1)},[a,o,c]),i?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:`preset${t?" sub":""}`,onClick:()=>n(s),children:[r.jsxs("div",{className:`preset-header preset-name-${c.length?"button":"only"}`,children:[c.length?r.jsx("button",{className:`preset-toggle ${m?"open":"closed"}`,onClick:h=>{h.stopPropagation(),p(!m)},children:m?"-":"+"}):null,r.jsx("span",{className:"preset-name",children:a})]}),r.jsx(be,{coxeter:s.coxeter,mirrors:s.mirrors,stellation:s.stellation})]}),m&&c.map((h,y)=>r.jsx(e,{...h,sub:!0,search:o,onPreset:n},y))]}):null}),sr=r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:r.jsx("path",{fill:"currentColor",d:"M7.95 19L3 12l4.95-7H21v14H7.95Zm3.45-3l2.6-2.6l2.6 2.6l1.4-1.4l-2.6-2.6L18 9.4L16.6 8L14 10.6L11.4 8L10 9.4l2.6 2.6l-2.6 2.6l1.4 1.4Z"})}),nr=r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:r.jsx("path",{fill:"currentColor",d:"M6 17c0-2 4-3.1 6-3.1s6 1.1 6 3.1v1H6m9-9a3 3 0 0 1-3 3a3 3 0 0 1-3-3a3 3 0 0 1 3-3a3 3 0 0 1 3 3M3 5v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2Z"})}),tr=r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:r.jsx("path",{fill:"currentColor",d:"M6 2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6m-1 1.5L18.5 9H13m-4.07 3.22H16v7.07l-2.12-2.12L11.05 20l-2.83-2.83l2.83-2.82"})}),or=r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:r.jsx("path",{fill:"currentColor",d:"M6.4 19L5 17.6l5.6-5.6L5 6.4L6.4 5l5.6 5.6L17.6 5L19 6.4L13.4 12l5.6 5.6l-1.4 1.4l-5.6-5.6L6.4 19Z"})});function cr({open:e,onPreset:a,onExportImage:s,closePresets:o}){const[c,t]=d.useState(""),[n,i]=d.useState(""),f=d.useCallback(m=>{i(m.target.value),ve(t(m.target.value),50)},[]);return r.jsxs(r.Fragment,{children:[r.jsx("div",{className:`presets-overlay ${e?"shown":"hidden"}`,onClick:o}),r.jsx("div",{className:`presets ${e?"shown":"hidden"}`,children:r.jsxs("div",{className:"presets-modal",children:[r.jsxs("div",{className:"presets-header",children:[r.jsxs("div",{className:"presets-search",children:[r.jsx("input",{type:"text",placeholder:"Search",value:n,onChange:f}),r.jsx("button",{className:"presets-clear",onClick:()=>{t(""),i("")},children:sr})]}),r.jsxs("div",{className:"presets-actions",children:[r.jsx("a",{className:"presets-action",href:"https://florian.mounier.dev/",children:nr}),r.jsx("button",{className:"presets-action",onClick:s,children:tr}),r.jsx("button",{className:"presets-action",onClick:o,children:or})]})]}),r.jsx("div",{className:"presets-list",children:rr.map(({type:m,content:p,name:h,params:y,subforms:E},k)=>r.jsx(d.Fragment,{children:m==="title"?r.jsx("h2",{children:p}):m==="group"?r.jsx("h4",{children:p}):r.jsx(ar,{name:h,params:y,search:c,subforms:E,onPreset:a})},k))})]})})]})}const X=d.memo(function({rotations:a,spaceType:s,axis:o}){if(!s)return null;const c=s.gram.length,t=a.shift*2+o;if(t>=a.combinations.length)return null;let n=a.combinations[t];const i=n.some(p=>p<0)?"parabolic":n.some(p=>s.eigens.values[p]<0)?"hyperbolic":n.some(p=>s.eigens.values[p]===0)?"translation":"spheric",f=we.slice(0,c).split(""),m=i==="parabolic"?n.map(p=>f[L(p)]).join("->"):f.filter((p,h)=>!n.includes(h));return r.jsxs("aside",{className:`${o?"y":"x"}-rotation`,children:[m,i==="parabolic"?r.jsx("sup",{children:"∞"}):i==="hyperbolic"?r.jsx("sup",{children:"†"}):i==="translation"?r.jsx("sup",{children:"0"}):""]})});function lr({runtime:e,params:a,rotations:s,updateParams:o,updateRotations:c}){const[t,n]=d.useState("simple"),[i,f]=d.useState(!1),m=d.useCallback(()=>{f(!1)},[]),p=d.useCallback(u=>{let{name:b,value:O}=u.target;o({[b]:O})},[o]),h=d.useCallback((u,b)=>{o({[u]:b})},[o]),y=d.useCallback(()=>n(u=>({simple:"advanced",advanced:"full",full:"empty",empty:"simple"})[u]),[]),E=d.useCallback(u=>{o(u,!0),m()},[o,m]),k=d.useCallback(()=>{const u=R(e.dimensions);u._reset=!0,o({matrix:u})},[o,e.dimensions]),F=d.useCallback(u=>{c("shift",(s.shift+1)%s.maxShift)},[s.maxShift,s.shift,c]),V=d.useCallback(u=>{c("auto",s.auto==="free"?"damp":"free")},[s.auto,c]),v=d.useCallback(async()=>{const u=window.prompt("Select image resolution","5000x5000");if(!u||!u.includes("x")){console.error("Invalid resolution");return}const[b,O]=u.split("x").map(T=>parseInt(T));if(isNaN(b)||isNaN(O)){console.error("Invalid resolution");return}const N=await(await We(()=>import("./export-902100eb.js"),[],import.meta.url)).makeBigPng(e,b,O);if(N){const T=document.createElement("a");document.body.appendChild(T),T.style.display="none";const ie=window.URL.createObjectURL(N);T.href=ie,T.download=`${document.title}-${b}x${O}`,T.click()}},[e]);return r.jsxs(r.Fragment,{children:[r.jsx(cr,{open:i,onPreset:E,onExportImage:v,closePresets:m}),r.jsxs("div",{className:e.error?"error":"",title:e.error,children:[e.currentOrder<e.order?r.jsxs("aside",{className:"processing-counter",children:[e.currentOrder,"/",e.order]}):null,["simple","advanced","full"].includes(t)?r.jsx("button",{className:"preset-button button",onClick:()=>f(u=>!u),title:"Presets",children:Ye}):null,["simple","advanced","full"].includes(t)?r.jsxs("aside",{className:"controls",children:[r.jsxs("button",{className:"rotation-button button",onClick:F,title:"Rotation Mode",children:[r.jsx("div",{className:"rotation",style:{transform:`rotate(${s.shift/s.maxShift*360}deg)`},children:Qe}),r.jsx("sup",{children:s.shift+1}),r.jsx(X,{rotations:s,spaceType:e.spaceType,axis:0}),r.jsx(X,{rotations:s,spaceType:e.spaceType,axis:1})]}),r.jsxs("div",{className:"subcontrols",children:[r.jsx("button",{className:"button anim-view",onClick:V,title:"Animate rotations",children:s.auto==="free"?Ge:s.auto==="damp"?Ze:"?"}),!ye(e.matrix)&&r.jsx("button",{className:"button reset-view",onClick:k,title:"Reset View",children:Ke})]})]}):null,r.jsx("button",{className:`space-button button${e.processing?" processing":""}${t==="empty"?" empty":""}`,onClick:y,children:r.jsx(j,{...e.spaceType||{},dimensions:e.dimensions})}),["advanced","full"].includes(t)&&r.jsxs("aside",{className:"parameters",children:[t==="full"&&r.jsxs("label",{className:"select-label",children:["Grouper",r.jsx("select",{name:"grouper",value:a.grouper,onChange:p,children:ke.map(u=>r.jsx("option",{value:u,children:u.replace(/_/g," ").replace(/\b./g,b=>b.toUpperCase())},u))})]}),r.jsxs("label",{className:"boolean-label",children:["inCentered",r.jsx(Y,{name:"centered",allowNull:!0,value:a.centered,onChange:h})]}),(t==="full"||e.spaceType.curvature<=0)&&r.jsx(A,{name:"order",label:"Precision",min:1,step:1,value:a.order,onChange:h}),r.jsx(A,{name:"segments",label:"Segments",min:1,step:1,value:a.segments,toggler:a.curve,togglerName:"curve",onChange:h}),r.jsxs("label",{className:"select-label",children:["Easing",r.jsx("select",{name:"easing",value:a.easing,onChange:p,children:Oe.map(u=>r.jsx("option",{value:u,children:u.replace(/_/g," ").replace(/\b./g,b=>b.toUpperCase())},u))})]}),r.jsx(A,{name:"vertexThickness",label:"Vertices",min:0,step:1,value:a.vertexThickness,toggler:a.showVertices,togglerName:"showVertices",onChange:h}),r.jsx(A,{name:"edgeThickness",label:"Edges",min:0,step:1,value:a.edgeThickness,toggler:a.showEdges,togglerName:"showEdges",onChange:h}),["toddcoxeter","fundamental"].includes(e.grouper)&&r.jsxs("label",{className:"boolean-label",children:["Faces",r.jsx(Y,{name:"showFaces",value:a.showFaces,onChange:h})]}),r.jsxs("label",{className:"select-label",children:["Ambiance",r.jsx("select",{name:"ambiance",value:a.ambiance,onChange:p,children:(t==="full"?Object.keys(K):Object.entries(K).filter(([u,{extended:b}])=>!b||u===a.ambiance).map(([u])=>u)).map(u=>r.jsx("option",{value:u,children:u.replace(/_/g," ").replace(/./,b=>b.toUpperCase())},u))})]})]}),["advanced","full"].includes(t)&&r.jsxs("aside",{className:"view",children:[r.jsx(A,{name:"msaaSamples",label:"MSAA",min:0,step:1,max:D.msaaSamples,value:a.msaaSamples,toggler:a.msaa,togglerName:"msaa",onChange:h}),t==="full"&&r.jsx(A,{name:"subsampling",label:"subsampling",min:.1,step:.1,value:a.subsampling,onChange:h}),a.dimensions>=3?ne(3,a.dimensions+1).map(u=>r.jsxs("div",{className:"projection",children:[r.jsx(A,{label:`${u}D FOV`,name:`fov${u}`,step:1,value:a[`fov${u}`],onChange:h}),r.jsxs("label",{className:"number",children:[r.jsxs("span",{className:"number-label",children:[u,"D Projection"]}),r.jsx("select",{name:`projection${u}`,value:a[`projection${u}`],onChange:p,children:[...Ee.filter((b,O)=>u===3||O<8)].map(b=>r.jsx("option",{value:b,children:b.replace(/_/g," ").replace(/./,O=>O.toUpperCase())},b))})]})]},u)):null]}),["simple","advanced","full"].includes(t)&&r.jsx(Ce,{dimensions:a.dimensions,coxeter:a.coxeter,mirrors:a.mirrors,stellation:a.stellation,extended:a.extended,onChange:h})]})]})}function ir({params:e,updateParams:a}){const[s,o]=d.useState({...e,currentOrder:0,askedOrder:null,spaceType:null,rootNormals:null,rootVertices:null,vertex:[],edge:[],ranges:[],face:[],processing:!0,error:null,renderError:null});d.useEffect(()=>{o(i=>{try{return i.gl?i:Te(i)}catch(f){return console.error(f),{...i,error:f.message}}})},[s.gl]);const[c,t]=d.useState({shift:0,maxShift:0,combinations:[],auto:"damp"});d.useEffect(()=>{o(i=>({...i,...oe(e).params}))},[e]),d.useEffect(()=>{s.spaceType&&t(i=>({...i,shift:0,...Fe(e.dimensions,s.spaceType)}))},[e.dimensions,s.spaceType]),d.useEffect(()=>{o(i=>e.grouper===""&&i.grouper.startsWith("auto-")?i:{...i,grouper:e.grouper})},[e.grouper]);const n=d.useCallback((i,f)=>{t(m=>({...m,[i]:f}))},[t]);return s.gl?r.jsxs("div",{className:s.error||s.renderError?"error":"",title:s.error||s.renderError,children:[r.jsx(lr,{runtime:s,params:e,rotations:c,updateRotations:n,updateParams:a}),r.jsx(Re,{runtime:s,rotations:c,setRuntime:o,updateRotations:n,updateParams:a})]}):null}const ee=(e=null)=>{const{location:a}=window;if(a.hash)try{return JSON.parse(atob(a.hash.slice(1)))}catch(s){console.warn(s),a.hash=""}return e},dr=e=>{window.history.pushState(null,null,"#"+btoa(JSON.stringify(e)))},q=(e,a)=>e.length!==a.length?!1:e.every((s,o)=>Array.isArray(s)?q(s,a[o]):s===a[o]),pr=()=>{const[e,a]=d.useState(ee(D)),s=d.useCallback(c=>{const t=ee();t&&(Object.entries(t).forEach(([n,i])=>{Array.isArray(i)&&q(i,e[n])&&(t[n]=e[n])}),a(t))},[e]),o=d.useCallback((c,t=!1)=>{a(n=>{if(!Object.entries(c).filter(([m,p])=>Array.isArray(p)?!q(p,n[m]):n[m]!==p).length)return n;const{params:i,badParams:f}=oe(t?c:{...n,...c},t?[]:Object.keys(c),n);return f.length||dr(i),i})},[]);return d.useEffect(()=>(window.addEventListener("popstate",s),()=>{window.removeEventListener("popstate",s)}),[s]),r.jsx(ir,{params:e,updateParams:o})};Se.createRoot(document.getElementById("root")).render(r.jsx(pr,{}));
