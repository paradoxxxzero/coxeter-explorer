import{r as d,d as B,c as he,a as ue,s as M,m as $,x as U,b as I,P as q,h as me,u as ge,e as fe,f as xe,g as H,p as _,i as je,j as re,k as se,l as ne,n as ve,o as r,q as R,t as ae,v as oe,w as te,C as be,y as we,z as ye,N as S,A as ke,B as K,D as ce,E as Oe,F as Ce,G as Ee,H as le,I as Te,J as Fe,K as Le,L as Se,M as Ae}from"./CoxeterDiagram-8c9f574a.js";class Ne extends d.Component{componentDidCatch(s,n){this.props.onError(s,n)}render(){return this.props.error?null:this.props.children}}const Z=.95,G=25,T=(e,s,n,a,t,c,o)=>{M(t,$(U(e,n*2+1,a.combinations,c,o),t)),M(t,$(U(s,n*2,a.combinations,c,o),t))},Ie=(e,s,n,a,t,c)=>{const{code:o}=e,i=.01;if(!(e.altKey||e.ctrlKey||e.metaKey)){if(o==="ArrowLeft"||o==="KeyA")T(-i,0,0,s,n,a,t);else if(o==="ArrowRight"||o==="KeyD")T(i,0,0,s,n,a,t);else if(o==="ArrowUp"||o==="KeyW")T(0,-i,1,s,n,a,t);else if(o==="ArrowDown"||o==="KeyS")T(0,i,1,s,n,a,t);else if(o==="PageUp"||o==="KeyQ")T(-i,0,2,s,n,a,t);else if(o==="PageDown"||o==="KeyE")T(i,0,2,s,n,a,t);else if(o==="Digit1")T(0,-i,2,s,n,a,t);else if(o==="Digit3")T(0,i,2,s,n,a,t);else if(o==="KeyZ")T(-i,0,3,s,n,a,t);else if(o==="KeyC")T(i,0,3,s,n,a,t);else if(o==="ControlLeft")c("shift",(s.shift+1)%s.maxShift);else return;return!0}},Pe=(e,s,n,a)=>{const t=d.useCallback(B(h=>{h._update=!0,a({matrix:h})},100),[]),c=d.useCallback(h=>a({matrix:h}),[]),o=d.useCallback(B(h=>a({zoom:h}),100),[]),i=d.useRef(null),u=d.useRef({pause:new Set,speed:null}),p=d.useRef(e.matrix.map(h=>h.slice()));d.useEffect(()=>{p.current=e.matrix.map(h=>h.slice())},[e.matrix]);const x=d.useCallback(()=>{const h=["vertex","edge","face"];for(let b=0;b<h.length;b++)e.meshes[h[b]].uniforms.matrix.update(he(p.current))},[e.ambiance,e.camera,e.centered,e.coxeter,e.curvature,e.curve,e.dimensions,e.easing,e.edgeThickness,e.error,e.fov3,e.fov4,e.fov5,e.fov6,e.fov7,e.fov8,e.fov9,e.grouper,e.msaa,e.msaaSamples,e.projection,e.renderError,e.segments,e.showEdges,e.showFaces,e.showVertices,e.spaceType,e.stellation,e.subsampling,e.vertexThickness,e.zoom]);d.useEffect(()=>{u.current.speed=new Array(s.combinations.length).fill(0)},[s.combinations]),d.useEffect(()=>{e.matrix._update||(u.current.speed=new Array(s.combinations.length).fill(0))},[s.combinations.length,e.matrix]),d.useEffect(()=>{const h=()=>{const{pause:b,speed:O}=u.current;let E=!1;for(let C=0;C<O.length;C++)O[C]!==0&&(E=!0,s.auto==="damp"&&(O[C]*=.96,ue(O[C])<1e-4&&(O[C]=0,c(p.current))),(s.auto!=="damp"||!b.has(C))&&M(p.current,$(U(O[C],C,s.combinations,e.dimensions,e.curvature),p.current)));E&&(x(),I(e)),i.current!==null&&(i.current=requestAnimationFrame(h))};return s.auto&&(i.current=requestAnimationFrame(h)),()=>{i.current&&(cancelAnimationFrame(i.current),i.current=null),c(p.current)}},[s.auto,s.combinations,e.dimensions,e.curvature,c,x]),d.useEffect(()=>{e.camera.position[2]=-e.zoom,e.camera.update(),e.meshes.updateUniforms(e,!0)},[e.camera,e.zoom]),d.useEffect(()=>{const h=new Map;let b=null,O=null;const E=()=>{const y=h.values(),m=y.next().value,j=y.next().value;return me(m[0]-j[0],m[1]-j[1])},C=y=>{y.button!==0||y.target.tagName!=="CANVAS"||(s.auto&&(O=performance.now(),u.current.pause.add(s.shift*2),u.current.pause.add(s.shift*2+1),u.current.speed[s.shift*2]=0,u.current.speed[s.shift*2+1]=0),h.set(y.pointerId,[y.clientX,y.clientY]))},P=y=>{if(!h.has(y.pointerId))return;let m=h.get(y.pointerId);const j=[-(y.clientX-m[0])/window.innerHeight,-(y.clientY-m[1])/window.innerHeight];if(s.auto){const A=performance.now(),N=A-O;O=A;const F=[G*j[0]/N,G*j[1]/N];u.current.speed[s.shift*2]=F[1],u.current.speed[s.shift*2+1]=F[0]}if(h.set(y.pointerId,[y.clientX,y.clientY]),h.size===2){if(b===null){b=E();return}const A=E();e.camera.position[2]*=b/A,e.camera.update(),e.meshes.updateUniforms(e,!0),b=A,I(e),o(-e.camera.position[2]);return}let k=s.shift;!k&&y.shiftKey?k=1:!k&&y.altKey?k=2:!k&&y.ctrKey?k=3:!k&&y.metaKey&&(k=4),h.size>2&&(k+=h.size-2),T(q*j[0],q*j[1],k,{combinations:s.combinations,auto:s.auto,shift:s.shift},p.current,e.dimensions,e.curvature),x(),t(p.current)},V=y=>{h.has(y.pointerId)&&(s.auto&&(performance.now()-O>100?(u.current.speed[s.shift*2]=0,u.current.speed[s.shift*2+1]=0):s.auto==="free"&&(u.current.speed[s.shift*2]*=.5,u.current.speed[s.shift*2+1]*=.5),u.current.pause.delete(s.shift*2),u.current.pause.delete(s.shift*2+1)),b=null,h.delete(y.pointerId))};return document.addEventListener("pointerdown",C),document.addEventListener("pointermove",P),document.addEventListener("pointerup",V),()=>{document.removeEventListener("pointerdown",C),document.removeEventListener("pointermove",P),document.removeEventListener("pointerup",V)}},[s.auto,s.combinations,s.shift,e.dimensions,e.curvature,e.camera,x,t,o]),d.useEffect(()=>{const h=b=>{b.target===document.body&&Ie(b,s,p.current,e.dimensions,e.curvature,n)&&(x(),t(p.current))};return document.addEventListener("keydown",h),()=>document.removeEventListener("keydown",h)},[x,s,e.curvature,e.dimensions,n,t]),d.useEffect(()=>{const h=b=>{b.target.tagName==="CANVAS"&&(e.camera.position[2]*=b.deltaY<0?Z:1/Z,e.camera.update(),e.meshes.updateUniforms(e,!0),I(e),o(-e.camera.position[2]))};return document.addEventListener("wheel",h),()=>{document.removeEventListener("wheel",h)}},[e,o]),d.useEffect(()=>{const h=b=>{if(b.button!==0||b.target.tagName!=="CANVAS")return;const O=-e.camera.position[2],E=O<.5?5:O<2?.25:1;e.camera.position[2]=-E,e.camera.update(),e.meshes.updateUniforms(e,!0),I(e),o(E)};return document.addEventListener("dblclick",h),()=>{document.removeEventListener("dblclick",h)}},[e,o])};function Ve({runtime:e,rotations:s,updateRotations:n,updateParams:a}){return Pe(e,s,n,a),null}const He=(e,s)=>{d.useEffect(()=>{s(n=>(ge(n),n))},[e.fov3,e.camera,s]),d.useEffect(()=>{s(n=>(n.meshes.updateGeometries(n),n))},[e.curvature,e.curve,e.segments,s]),d.useEffect(()=>{s(n=>(n.meshes.changeArity(n.dimensions),n))},[e.dimensions,s]),d.useEffect(()=>{s(n=>(fe(n),n))},[e.ambiance,e.msaa,e.msaaSamples,s]),d.useEffect(()=>{s(n=>(xe(n),n))},[e.ambiance,e.msaa,e.msaaSamples,s]),d.useEffect(()=>{s(n=>(H(n,"vertex"),H(n,"edge"),H(n,"face"),n))},[e.showVertices,e.showEdges,e.showFaces,s]),d.useEffect(()=>{s(n=>{if(!(n.currentOrder<0))try{return _(n,n.currentOrder-1),n}catch(a){return console.error(a),{...n,error:a.message}}})},[e.currentOrder,e.edge,e.face,e.ranges,e.showEdges,e.showFaces,e.showVertices,e.vertex,s]),d.useEffect(()=>{s(n=>(n.meshes.recompilePrograms(n),n))},[e.ambiance,e.dimensions,e.easing,e.projection3,e.projection4,e.projection5,e.projection6,e.projection7,e.projection8,e.projection9,e.spaceType,s]),d.useEffect(()=>{s(n=>{try{return _(n),n}catch(a){return console.error(a),{...n,error:a.message}}})},[e.ambiance,e.showEdges,e.showFaces,e.showVertices,s]),d.useEffect(()=>{s(n=>(n.meshes.updateUniforms(n),n))},[e.ambiance,e.ambiance,e.curvature,e.curve,e.dimensions,e.easing,e.edgeThickness,e.fov4,e.fov5,e.fov6,e.fov7,e.fov8,e.fov9,e.matrix,e.projection3,e.projection4,e.projection5,e.projection6,e.projection7,e.projection8,e.projection9,e.segments,e.spaceType,e.vertexThickness,s]),d.useEffect(()=>{const n=new ResizeObserver(()=>{I(e)});return n.observe(e.gl.canvas,{box:"content-box"}),()=>n.disconnect()},[e.ambiance,e.camera,e.centered,e.coxeter,e.currentOrder,e.curvature,e.curve,e.dimensions,e.easing,e.edge,e.edgeThickness,e.error,e.face,e.fov3,e.fov4,e.fov5,e.fov6,e.fov7,e.fov8,e.fov9,e.grouper,e.matrix,e.msaa,e.msaaSamples,e.projection3,e.projection4,e.projection5,e.projection6,e.projection7,e.projection8,e.projection9,e.ranges,e.renderError,e.segments,e.showEdges,e.showFaces,e.showVertices,e.spaceType,e.stellation,e.subsampling,e.vertexThickness,e.vertex,e.zoom])};function ze({runtime:e,setRuntime:s}){return He(e,s),null}function Be(){return new Worker(""+new URL("knuthbendix-tiling.worker-2e8c36e1.js",import.meta.url).href)}function Me(){return new Worker(""+new URL("toddcoxeter-tiling.worker-1f126888.js",import.meta.url).href)}function $e(){return new Worker(""+new URL("fundamental.worker-836ebbf7.js",import.meta.url).href)}let z=class ie{constructor(s,n){this.workerClass=n,this.name=s,this.init(),this.times={}}static uuid4(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,s=>{const n=Math.random()*16|0;return(s==="x"?n:n&3|8).toString(16)})}init(){this.processing=0,this.worker=new this.workerClass}kill(){this.processing>0&&(console.debug(`Killing worker ${this.name} (${this.processing})`),this.worker.terminate(),this.init())}process(s){return s.uuid=ie.uuid4(),this.processing++,this.times[s.uuid]=performance.now(),this.worker.postMessage(s),new Promise((n,a)=>{const t=o=>{if(o.data.uuid!==s.uuid)return;const i=performance.now()-this.times[s.uuid];if(delete this.times[s.uuid],console.debug(`Worker ${this.name} took ${i}ms`),this.processing--,this.worker.removeEventListener("message",t),this.worker.removeEventListener("error",c),o.data.error){a(o.data.error);return}n(o.data)},c=o=>{this.worker.removeEventListener("message",t),this.worker.removeEventListener("error",c),!(this.processing<=0)&&(delete this.times[s.uuid],this.processing--,this.processing=je(0,this.processing),console.error(`Can't call web worker ${this.name}`,o))};this.worker.addEventListener("message",t),this.worker.addEventListener("error",c)})}};const Ue=()=>Object.values(de).filter(e=>e.processing>0).forEach(e=>e.kill()),de={knuthbendix:new z("knuthbendix",Be),toddcoxeter:new z("toddcoxeter",Me),fundamental:new z("toddcoxeter",$e)},Q=async(e,s,n)=>{const a=de[e.grouper.replace(/^auto-/,"")];if(e.currentOrder===0&&(Ue(),s.current=!1),s.current===e.currentOrder){console.log("already processing at ",e.currentOrder);return}try{s.current=e.currentOrder;const{vertices:t,edges:c,faces:o,partials:i,order:u}=await a.process({order:e.currentOrder,coxeter:e.coxeter,curvature:e.curvature,stellation:e.stellation,mirrors:e.mirrors,mirrorsPlanes:e.mirrorsPlanes,rootVertex:e.rootVertex,dimensions:e.dimensions});s.current=!1,n(p=>p.currentOrder!==u?(console.warn("Mismatched order, ignoring",p.currentOrder,u),{...p,currentOrder:0,vertex:[],edge:[],face:[],partial:[],ranges:[],renderError:null,processing:!0,error:"Mismatch Order"}):{...p,ranges:[...p.ranges,{vertex:[p.vertex.length,p.vertex.length+t.length],edge:[p.edge.length,p.edge.length+c.length],face:[p.face.length,p.face.length+o.length]}],vertex:p.vertex.concat(t),edge:p.edge.concat(c),face:p.face.concat(o),partial:i,currentOrder:u+1,processing:!1,error:null})}catch(t){s.current=!1,console.error(t);const c={...e,currentOrder:e.order,error:t.message,processing:!1};n(c)}},De=(e,s)=>{const n=d.useRef(!1);d.useEffect(()=>{s(a=>a.order<a.currentOrder?{...a,currentOrder:a.order}:a)},[e.order,e.currentOrder,s]),d.useEffect(()=>{s(a=>{const t=re(a.coxeter,a.stellation),c=se(t);if(!c)return{...a,spaceType:c};const o=c.curvature,i=a.grouper===""||a.grouper.startsWith("auto-")?"auto-toddcoxeter":a.grouper,u=ne(t,o,a.centered===null?i.replace(/^auto-/,"")==="toddcoxeter"&&o<=0||t.some(h=>h.some(b=>b===-1)):a.centered),p=ve(a.mirrors,u,o),x={...a,currentOrder:0,grouper:i,vertex:[],edge:[],face:[],partial:[],ranges:[],spaceType:c,curvature:o,mirrorsPlanes:u,rootVertex:p,renderError:null,processing:!0,error:null};return Q(x,n,s),x})},[e.dimensions,e.coxeter,e.mirrors,e.stellation,e.centered,e.grouper,s]),d.useEffect(()=>{s(a=>{var t;return a.order<=a.currentOrder?a:(t=a.ranges)!=null&&t[a.order]?{...a,currentOrder:a.order,askedOrder:null}:(Q(a,n,s),{...a,error:null,processing:!0})})},[s,e.order,e.currentOrder])};function We({runtime:e,setRuntime:s}){return De(e,s),null}function Re({runtime:e,setRuntime:s,rotations:n,updateRotations:a,updateParams:t}){window.rt=e;const c=d.useCallback(o=>{s(i=>({...i,renderError:o.message}))},[s]);return r.jsx(r.Fragment,{children:r.jsxs(Ne,{error:e.renderError,onError:c,children:[r.jsx(We,{runtime:e,setRuntime:s}),r.jsx(ze,{runtime:e,setRuntime:s}),e.curvature!==null?r.jsx(Ve,{runtime:e,rotations:n,updateRotations:a,updateParams:t}):null]})})}const qe="modulepreload",_e=function(e,s){return new URL(e,s).href},Y={},Ke=function(s,n,a){if(!n||n.length===0)return s();const t=document.getElementsByTagName("link");return Promise.all(n.map(c=>{if(c=_e(c,a),c in Y)return;Y[c]=!0;const o=c.endsWith(".css"),i=o?'[rel="stylesheet"]':"";if(!!a)for(let x=t.length-1;x>=0;x--){const h=t[x];if(h.href===c&&(!o||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${c}"]${i}`))return;const p=document.createElement("link");if(p.rel=o?"stylesheet":qe,o||(p.as="script",p.crossOrigin=""),p.href=c,document.head.appendChild(p),o)return new Promise((x,h)=>{p.addEventListener("load",x),p.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${c}`)))})})).then(()=>s()).catch(c=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=c,window.dispatchEvent(o),!o.defaultPrevented)throw c})};function J({allowNull:e,name:s,value:n,onChange:a,...t}){const c=d.useCallback(i=>{let{name:u,checked:p}=i.target,x;e?x=n===!1?!0:n?null:!1:x=p,a(u,x)},[e,a,n]),o=d.useRef(null);return d.useLayoutEffect(()=>{e&&o.current&&(n===null?o.current.indeterminate=!0:o.current.indeterminate=!1)},[n,e]),r.jsx("input",{type:"checkbox",ref:o,name:s,checked:n||!1,onChange:c})}function v({type:e,subtype:s,level:n,dimensions:a}){return r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"space",children:e===null||e==="indefinite"?"𝕏":e==="affine"?"𝔼":e==="finite"?"𝕊":"ℍ"}),a?r.jsx("sup",{children:a-1}):null,e==="hyperbolic"?r.jsxs("sub",{children:[{compact:" ",paracompact:"*",lorentzian:"L",superhyperbolic:"**"}[s],n]}):null]})}const Ze=(...e)=>{if(Array.isArray(e[0]))return{coxeter:e,dimensions:e.length,extended:!0};const s=e.length+1;return{coxeter:new Array(s).fill().map((a,t)=>new Array(s).fill().map((c,o)=>t===o?1:t===o+1||o===t+1?e[te(t,o)]:2)),dimensions:s}},Ge=(...e)=>{const s=e.length+1;return{stellation:new Array(s).fill().map((a,t)=>new Array(s).fill().map((c,o)=>t===o?1:t===o+1||o===t+1?e[te(t,o)]:1))}},l=(e,s,n,a,t)=>{const c=Ze(...e),{dimensions:o}=c,i={...R,...c,showVertices:o<=3,showFaces:o<=4,curve:o>3,grouper:"toddcoxeter",ambiance:"colorful",matrix:ae(o),zoom:o<=3?2:o>4?3:5,...a||{}};if(s?i.mirrors=s:i.mirrors=new Array(o).fill().map((u,p)=>p===0?1:0),n?i.stellation=Ge(...n).stellation:i.stellation=new Array(o).fill().map((u,p)=>new Array(o).fill(1)),t){const u=re(i.coxeter,i.stellation),p=se(u),x=ne(u,p.curvature,!1);i.matrix=oe(p,x,o),i.matrix._preset=!0}return i},w=e=>({...e,subforms:Object.entries(Qe(e.params.dimensions)).map(([s,n])=>({name:`${s} ${e.name}`,params:{...e.params,mirrors:n}}))}),g=(e,s,n,a)=>({...l(e,s,n),ambiance:"plain",showVertices:!1,curve:!0,zoom:1,...a}),L=(e,s,n,a)=>({...l(e,s,n),ambiance:"neon",showFaces:!1,showVertices:!1,grouper:"",edgeThickness:10,zoom:2,...a}),f=(e,s,n,a)=>({...l(e,s,n),ambiance:"neon",showFaces:!1,showVertices:!1,curve:!0,grouper:"",edgeThickness:10,zoom:1.5,...a}),Qe=e=>{if(e===4)return{Rectified:[0,1,0,0],Truncated:[1,1,0,0],Cantellated:[1,0,1,0],Cantitruncated:[1,1,1,0],Runcitruncated:[1,1,0,1],Runcinated:[1,0,0,1],Bitruncated:[0,1,1,0],Omnitruncated:[1,1,1,1]};if(e===5)return{Rectified:[0,1,0,0,0],Birectified:[0,0,1,0,0],Truncated:[1,1,0,0,0],Cantellated:[1,0,1,0,0],Runcinated:[1,0,0,1,0],Stericated:[1,0,0,0,1],Omnitruncated:[1,1,1,1,1]};if(e===6)return{Rectified:[0,1,0,0,0,0],Birectified:[0,0,1,0,0,0],Truncated:[1,1,0,0,0,0],Bitruncated:[0,1,1,0,0,0],Tritruncated:[0,0,1,1,0,0],Cantellated:[1,0,1,0,0,0],Bicantellated:[0,1,0,1,0,0],Runcinated:[1,0,0,1,0,0],Biruncinated:[0,1,0,0,1,0],Stericated:[1,0,0,0,1,0],Pentellated:[1,0,0,0,0,1],Omnitruncated:[1,1,1,1,1,1]};if(e===7)return{Rectified:[0,1,0,0,0,0,0],Birectified:[0,0,1,0,0,0,0],Truncated:[1,1,0,0,0,0,0],Bitruncated:[0,1,1,0,0,0,0],Tritruncated:[0,0,1,1,0,0,0],Cantellated:[1,0,1,0,0,0,0],Bicantellated:[0,1,0,1,0,0,0],Runcinated:[1,0,0,1,0,0,0],Biruncinated:[0,1,0,0,1,0,0],Stericated:[1,0,0,0,1,0,0],Pentellated:[1,0,0,0,0,1,0],Hexicated:[1,0,0,0,0,0,1],Omnitruncated:[1,1,1,1,1,1,1]};if(e===8)return{Rectified:[0,1,0,0,0,0,0,0],Birectified:[0,0,1,0,0,0,0,0],Truncated:[1,1,0,0,0,0,0,0],Bitruncated:[0,1,1,0,0,0,0,0],Tritruncated:[0,0,1,1,0,0,0,0],Quadritruncated:[0,0,0,1,1,0,0,0],Cantellated:[1,0,1,0,0,0,0,0],Bicantellated:[0,1,0,1,0,0,0,0],Tricantellated:[0,0,1,0,1,0,0,0],Runcinated:[1,0,0,1,0,0,0,0],Biruncinated:[0,1,0,0,1,0,0,0],Triruncinated:[0,0,1,0,0,1,0,0],Stericated:[1,0,0,0,1,0,0,0],Pentellated:[1,0,0,0,0,1,0,0],Hexicated:[1,0,0,0,0,0,1,0],Heptellated:[1,0,0,0,0,0,0,1],Omnitruncated:[1,1,1,1,1,1,1,1]};if(e===9)return{Rectified:[0,1,0,0,0,0,0,0,0],Birectified:[0,0,1,0,0,0,0,0,0],Truncated:[1,1,0,0,0,0,0,0,0],Bitruncated:[0,1,1,0,0,0,0,0,0],Tritruncated:[0,0,1,1,0,0,0,0,0],Quadritruncated:[0,0,0,1,1,0,0,0,0],Cantellated:[1,0,1,0,0,0,0,0,0],Bicantellated:[0,1,0,1,0,0,0,0,0],Tricantellated:[0,0,1,0,1,0,0,0,0],Runcinated:[1,0,0,1,0,0,0,0,0],Biruncinated:[0,1,0,0,1,0,0,0,0],Triruncinated:[0,0,1,0,0,1,0,0,0],Stericated:[1,0,0,0,1,0,0,0,0],Pentellated:[1,0,0,0,0,1,0,0,0],Hexicated:[1,0,0,0,0,0,1,0,0],Heptellated:[1,0,0,0,0,0,0,1,0],Octellated:[1,0,0,0,0,0,0,0,1],Omnitruncated:[1,1,1,1,1,1,1,1,1]}},Ye=[{type:"title",content:r.jsxs(r.Fragment,{children:[r.jsx("span",{style:{color:"orange"},children:"★"})," Highlights"]})},{name:r.jsxs(r.Fragment,{children:[r.jsx(v,{type:"finite",dimensions:4})," Tesseract"]}),params:l([4,3,3],[1,0,0,0],null,{showVertices:!0,vertexThickness:150,showFaces:!0,curve:!0,ambiance:"neon",centered:!1,zoom:4.2})},{name:r.jsxs(r.Fragment,{children:[r.jsx(v,{type:"hyperbolic",dimensions:3})," 7-3-2 tiling"]}),params:g([7,3],[1,0,0],null,{showVertices:!1,showFaces:!0,curve:!0,ambiance:"neon"})},{name:r.jsxs(r.Fragment,{children:[r.jsx(v,{type:"hyperbolic",subtype:"paracompact",dimensions:3})," Ideal triangles"]}),params:g([[1,0,0],[0,1,0],[0,0,1]],[1,1,1],null,{grouper:"fundamental",showVertices:!1,showFaces:!0,curve:!0,segments:64,easing:"quartic",ambiance:"neon"})},{name:r.jsxs(r.Fragment,{children:[r.jsx(v,{type:"finite",dimensions:8})," 1",r.jsx("sub",{children:"22"})]}),params:l([[1,3,2,2,2,2],[3,1,3,2,2,2],[2,3,1,3,3,2],[2,2,3,1,2,2],[2,2,3,2,1,3],[2,2,2,2,3,1]],[0,0,0,1,0,0],null,{vertexThickness:40,edgeThickness:10,ambiance:"colorful",showVertices:!0,projection3:"orthographic",projection4:"orthographic",projection5:"orthographic",projection6:"orthographic",zoom:1},!0)},{name:r.jsxs(r.Fragment,{children:[r.jsx(v,{type:"finite",dimensions:8})," E8 lattice (4",r.jsx("sub",{children:"21"}),")"]}),params:l([[1,3,2,2,2,2,2,2],[3,1,3,2,2,2,2,2],[2,3,1,3,3,2,2,2],[2,2,3,1,2,2,2,2],[2,2,3,2,1,3,2,2],[2,2,2,2,3,1,3,2],[2,2,2,2,2,3,1,3],[2,2,2,2,2,2,3,1]],[0,0,0,0,0,0,0,1],null,{vertexThickness:30,edgeThickness:1,curve:!1,ambiance:"neon",showVertices:!0,projection3:"orthographic",projection4:"orthographic",projection5:"orthographic",projection6:"orthographic",projection7:"orthographic",projection8:"orthographic",order:20,zoom:1},!0)},{name:r.jsxs(r.Fragment,{children:[r.jsx(v,{type:"hyperbolic",subtype:"paracompact",dimensions:4})," Ideal tetrahedron"]}),params:g([3,3,6],[1,0,0,""],null,{showVertices:!1,showFaces:!0,curve:!0,order:1,centered:!1,segments:64,easing:"quartic",ambiance:"pure"})},{name:r.jsxs(r.Fragment,{children:[r.jsx(v,{type:"hyperbolic",subtype:"paracompact",dimensions:4})," ","Horoball"]}),params:g([6,3,4],[1,0,0,""],null,{showVertices:!1,showFaces:!0,curve:!0,order:20,centered:!1,ambiance:"colorful"})},{name:r.jsxs(r.Fragment,{children:[r.jsx(v,{type:"hyperbolic",dimensions:4})," 5-3-4 honeycomb"]}),params:f([5,3,4],[1,0,0,0],null,{zoom:1.5})},{name:r.jsxs(r.Fragment,{children:[r.jsx(v,{type:"hyperbolic",subtype:"lorentzian",level:2,dimensions:4})," ","7-3-3 paracompact honeycomb"]}),params:f([7,3,3],[1,0,0,0],null,{zoom:1.5,showFaces:!0,showVertices:!0,segments:16})},{name:r.jsxs(r.Fragment,{children:[r.jsx(v,{type:"hyperbolic",subtype:"paracompact",dimensions:4})," Ideal Pentahedron"]}),params:g([5,3,6],[1,0,0,""],null,{showVertices:!1,showFaces:!0,curve:!0,order:1,centered:!1,segments:32,easing:"quartic",ambiance:"pure",zoom:1.5})},{name:r.jsxs(r.Fragment,{children:[r.jsx(v,{type:"finite",dimensions:4})," Flat Torus"]}),params:l([32,2,32],[1,0,0,1],null,{showVertices:!1,showFaces:!1,curve:!0,ambiance:"neon",zoom:3,edgeThickness:5})},{type:"title",content:r.jsxs(r.Fragment,{children:[r.jsx(v,{type:"finite"})," Spherical space"]})},{type:"group",content:r.jsxs(r.Fragment,{children:[r.jsx(v,{type:"finite",dimensions:3})," Polyedra"]})},{name:"Tetrahedron",params:l([3,3]),subforms:[{name:"Truncated Tetrahedron",params:l([3,3],[1,1,0])}]},{name:"Cube",params:l([4,3]),subforms:[{name:"Cuboctahedron",params:l([4,3],[0,1,0])},{name:"Truncated Cube",params:l([4,3],[1,1,0])},{name:"Rhombicuboctahedron",params:l([4,3],[1,0,1])},{name:"Truncated Octahedron",params:l([3,4],[1,1,0])},{name:"Truncated Cuboctahedron",params:l([4,3],[1,1,1])},{name:"Octahedron",params:l([3,4])}]},{name:"Dodecahedron",params:l([5,3]),subforms:[{name:"Icosidodecahedron",params:l([5,3],[0,1,0])},{name:"Truncate Dodecahedron",params:l([5,3],[1,1,0])},{name:"Rhombicosidodecahedron",params:l([5,3],[1,0,1])},{name:"Truncate Icosahedron",params:l([3,5],[1,1,0])},{name:"Truncated Icosidodecahedron",params:l([5,3],[1,1,1])},{name:"Icosahedron",params:l([3,5])}]},{name:"Snub Cube",params:l([4,3],["s","s","s"])},{name:"Snub Dodecahedron",params:l([5,3],["s","s","s"])},{name:"Great Dodecahedron",params:l([5,5],[1,0,0],[1,2])},{name:"Great Icosahedron",params:l([3,5],[1,0,0],[1,2])},{name:"Small Stellated Dodecahedron",params:l([5,5],[1,0,0],[2,1])},{name:"Great Stellated Dodecahedron",params:l([5,3],[1,0,0],[2,1])},{name:"Stellated Octahedron",params:l([2,2],["ß","ß","ß"])},{type:"group",content:r.jsxs(r.Fragment,{children:[r.jsx(v,{type:"finite",dimensions:4})," Polychora"]})},w({name:"5-cell",params:l([3,3,3])}),w({name:"8-cell",params:l([4,3,3])}),w({name:"16-cell",params:l([3,3,4])}),w({name:"24-cell",params:l([3,4,3])}),w({name:"120-cell",params:l([5,3,3])}),w({name:"600-cell",params:l([3,3,5])}),{name:"Snub 24-cell",params:l([3,4,3],["s","s",0,0])},{type:"group",content:r.jsxs(r.Fragment,{children:[r.jsx(v,{type:"finite",dimensions:5})," Polytera"]})},w({name:"5-simplex",params:l([3,3,3,3])}),w({name:"5-cube",params:l([4,3,3,3])}),w({name:"5-orthoplex",params:l([3,3,3,4])}),w({name:"5-demicube",params:l([[1,2,3,2,2],[2,1,3,2,2],[3,3,1,3,2],[2,2,3,1,3],[2,2,2,3,1]])}),{type:"group",content:r.jsxs(r.Fragment,{children:[r.jsx(v,{type:"finite",dimensions:6})," Polypeta"]})},w({name:"6-simplex",params:l([3,3,3,3,3])}),w({name:"6-cube",params:l([4,3,3,3,3])}),w({name:"6-orthoplex",params:l([3,3,3,3,4])}),w({name:"6-demicube",params:l([[1,2,3,2,2,2],[2,1,3,2,2,2],[3,3,1,3,2,2],[2,2,3,1,3,2],[2,2,2,3,1,3],[2,2,2,2,3,1]])}),{name:r.jsxs(r.Fragment,{children:["2",r.jsx("sub",{children:"21"})]}),params:l([[1,3,2,2,2,2],[3,1,3,2,2,2],[2,3,1,3,3,2],[2,2,3,1,2,2],[2,2,3,2,1,3],[2,2,2,2,3,1]],[1,0,0,0,0,0])},{name:r.jsxs(r.Fragment,{children:["1",r.jsx("sub",{children:"22"})]}),params:l([[1,3,2,2,2,2],[3,1,3,2,2,2],[2,3,1,3,3,2],[2,2,3,1,2,2],[2,2,3,2,1,3],[2,2,2,2,3,1]],[0,0,0,1,0,0])},{type:"group",content:r.jsxs(r.Fragment,{children:[r.jsx(v,{type:"finite",dimensions:7})," Polyexa"]})},w({name:"7-simplex",params:l([3,3,3,3,3,3])}),w({name:"7-cube",params:l([4,3,3,3,3,3])}),w({name:"7-orthoplex",params:l([3,3,3,3,3,4])}),w({name:"7-demicube",params:l([[1,2,3,2,2,2,2],[2,1,3,2,2,2,2],[3,3,1,3,2,2,2],[2,2,3,1,3,2,2],[2,2,2,3,1,3,2],[2,2,2,2,3,1,3],[2,2,2,2,2,3,1]])}),{name:r.jsxs(r.Fragment,{children:["3",r.jsx("sub",{children:"21"})]}),params:l([[1,3,2,2,2,2,2],[3,1,3,2,2,2,2],[2,3,1,3,2,2,2],[2,2,3,1,3,3,2],[2,2,2,3,1,2,2],[2,2,2,3,2,1,3],[2,2,2,2,2,3,1]],[1,0,0,0,0,0,0])},{name:r.jsxs(r.Fragment,{children:["2",r.jsx("sub",{children:"31"})]}),params:l([[1,3,2,2,2,2,2],[3,1,3,2,2,2,2],[2,3,1,3,2,2,2],[2,2,3,1,3,3,2],[2,2,2,3,1,2,2],[2,2,2,3,2,1,3],[2,2,2,2,2,3,1]],[0,0,0,0,0,0,1])},{name:r.jsxs(r.Fragment,{children:["1",r.jsx("sub",{children:"32"})]}),params:l([[1,3,2,2,2,2,2],[3,1,3,2,2,2,2],[2,3,1,3,2,2,2],[2,2,3,1,3,3,2],[2,2,2,3,1,2,2],[2,2,2,3,2,1,3],[2,2,2,2,2,3,1]],[0,0,0,0,1,0,0])},{type:"group",content:r.jsxs(r.Fragment,{children:[r.jsx(v,{type:"finite",dimensions:8})," Polyzetta"]})},w({name:"8-simplex",params:l([3,3,3,3,3,3,3])}),w({name:"8-cube",params:l([4,3,3,3,3,3,3])}),w({name:"8-orthoplex",params:l([3,3,3,3,3,3,4])}),w({name:"8-demicube",params:l([[1,2,3,2,2,2,2,2],[2,1,3,2,2,2,2,2],[3,3,1,3,2,2,2,2],[2,2,3,1,3,2,2,2],[2,2,2,3,1,3,2,2],[2,2,2,2,3,1,3,2],[2,2,2,2,2,3,1,3],[2,2,2,2,2,2,3,1]])}),{name:r.jsxs(r.Fragment,{children:["1",r.jsx("sub",{children:"42"})]}),params:l([[1,3,2,2,2,2,2,2],[3,1,3,2,2,2,2,2],[2,3,1,3,3,2,2,2],[2,2,3,1,2,2,2,2],[2,2,3,2,1,3,2,2],[2,2,2,2,3,1,3,2],[2,2,2,2,2,3,1,3],[2,2,2,2,2,2,3,1]],[0,0,1,0,0,0,0,0])},{name:r.jsxs(r.Fragment,{children:["2",r.jsx("sub",{children:"41"})]}),params:l([[1,3,2,2,2,2,2,2],[3,1,3,2,2,2,2,2],[2,3,1,3,3,2,2,2],[2,2,3,1,2,2,2,2],[2,2,3,2,1,3,2,2],[2,2,2,2,3,1,3,2],[2,2,2,2,2,3,1,3],[2,2,2,2,2,2,3,1]],[1,0,0,0,0,0,0,0])},{name:r.jsxs(r.Fragment,{children:["4",r.jsx("sub",{children:"21"})]}),params:l([[1,3,2,2,2,2,2,2],[3,1,3,2,2,2,2,2],[2,3,1,3,3,2,2,2],[2,2,3,1,2,2,2,2],[2,2,3,2,1,3,2,2],[2,2,2,2,3,1,3,2],[2,2,2,2,2,3,1,3],[2,2,2,2,2,2,3,1]],[0,0,0,0,0,0,0,1])},{type:"group",content:r.jsxs(r.Fragment,{children:[r.jsx(v,{type:"finite",dimensions:9}),"Polyyotta"]})},w({name:"9-simplex",params:l([3,3,3,3,3,3,3,3])}),w({name:"9-cube",params:l([4,3,3,3,3,3,3,3])}),w({name:"9-orthoplex",params:l([3,3,3,3,3,3,3,4])}),w({name:"9-demicube",params:l([[1,2,3,2,2,2,2,2,2],[2,1,3,2,2,2,2,2,2],[3,3,1,3,2,2,2,2,2],[2,2,3,1,3,2,2,2,2],[2,2,2,3,1,3,2,2,2],[2,2,2,2,3,1,3,2,2],[2,2,2,2,2,3,1,3,2],[2,2,2,2,2,2,3,1,3],[2,2,2,2,2,2,2,3,1]])}),{type:"title",content:r.jsxs(r.Fragment,{children:[r.jsx(v,{type:"affine"})," Euclidean space"]})},{type:"group",content:r.jsxs(r.Fragment,{children:[r.jsx(v,{type:"affine",dimensions:3})," Tilings"]})},{name:"Triangle",params:l([[1,3,3],[3,1,3],[3,3,1]],[1,0,0])},{name:"Square",params:l([4,4],[1,0,0])},{name:"Hexagonal",params:l([6,3],[1,0,0])},{type:"group",content:r.jsxs(r.Fragment,{children:[r.jsx(v,{type:"affine",dimensions:4})," Honeycombs"]})},{name:"Cubic",params:L([4,3,4],[1,0,0,0])},{name:"Octet",params:L([[1,3,2,2],[3,1,3,4],[2,3,1,2],[2,4,2,1]],[1,0,0,0])},{name:"Quarter cubic",params:L([[1,3,2,3],[3,1,3,2],[2,3,1,3],[3,2,3,1]],[1,0,0,1])},{type:"group",content:r.jsxs(r.Fragment,{children:[r.jsx(v,{type:"affine",dimensions:5})," 4-Honeycombs"]})},{name:"Tesseractic",params:L([4,3,3,4],[1,0,0,0,0])},{name:"16-cellic",params:L([3,3,4,3],[1,0,0,0,0],null,{grouper:"toddcoxeter"})},{name:"24-cellic",params:L([3,4,3,3],[1,0,0,0,0],null,{grouper:"toddcoxeter"})},{name:"4-simpletic",params:L([[1,3,2,2,3],[3,1,3,2,2],[2,3,1,3,2],[2,2,3,1,3],[3,2,2,3,1]],[1,0,0,0,0],null,{grouper:"toddcoxeter"})},{name:"Quarter tesseractic",params:L([[1,2,3,2,2],[2,1,3,2,2],[3,3,1,3,3],[2,2,3,1,2],[2,2,3,2,1]],[1,0,0,1,0],null,{grouper:"toddcoxeter"})},{type:"title",content:r.jsxs(r.Fragment,{children:[r.jsx(v,{type:"hyperbolic"})," Hyperbolic space"]})},{type:"group",content:r.jsxs(r.Fragment,{children:[r.jsx(v,{type:"hyperbolic",dimensions:3})," Tilings"]})},{name:"Order-7 triangular",params:g([3,7],[1,0,0])},{name:"Order-8 triangular",params:g([3,8],[1,0,0])},{name:"Infinite Order triangular",params:g([3,0],[1,0,0])},{name:"Order-5 square",params:g([4,5],[1,0,0])},{name:"Order-6 square",params:g([4,6],[1,0,0])},{name:"Order-7 square",params:g([4,7],[1,0,0])},{name:"Order-8 square",params:g([4,8],[1,0,0])},{name:"Infinite Order square",params:g([4,0],[1,0,0])},{name:"Order-4 pentagonal",params:g([5,4],[1,0,0])},{name:"Order-5 pentagonal",params:g([5,5],[1,0,0])},{name:"Order-6 pentagonal",params:g([5,6],[1,0,0])},{name:"Order-7 pentagonal",params:g([5,7],[1,0,0])},{name:"Order-8 pentagonal",params:g([5,8],[1,0,0])},{name:"Infinite Order pentagonal",params:g([5,0],[1,0,0])},{name:"Order-4 hexagonal",params:g([6,4],[1,0,0])},{name:"Order-5 hexagonal",params:g([6,5],[1,0,0])},{name:"Order-6 hexagonal",params:g([6,6],[1,0,0])},{name:"Order-7 hexagonal",params:g([6,7],[1,0,0])},{name:"Order-8 hexagonal",params:g([6,8],[1,0,0])},{name:"Infinite Order hexagonal",params:g([6,0],[1,0,0])},{name:"Order-3 heptagonal",params:g([7,3],[1,0,0])},{name:"Order-4 heptagonal",params:g([7,4],[1,0,0])},{name:"Order-5 heptagonal",params:g([7,5],[1,0,0])},{name:"Order-6 heptagonal",params:g([7,6],[1,0,0])},{name:"Order-7 heptagonal",params:g([7,7],[1,0,0])},{name:"Order-8 heptagonal",params:g([7,8],[1,0,0])},{name:"Infinite Order heptagonal",params:g([7,0],[1,0,0])},{name:"Order-3 octagonal",params:g([8,3],[1,0,0])},{name:"Order-4 octagonal",params:g([8,4],[1,0,0])},{name:"Order-5 octagonal",params:g([8,5],[1,0,0])},{name:"Order-6 octagonal",params:g([8,6],[1,0,0])},{name:"Order-7 octagonal",params:g([8,7],[1,0,0])},{name:"Order-8 octagonal",params:g([8,8],[1,0,0])},{name:"Infinite Order octagonal",params:g([8,0],[1,0,0])},{name:"Order-3 apeirogonal",params:g([0,3],[1,0,0])},{name:"Order-4 apeirogonal",params:g([0,4],[1,0,0])},{name:"Order-5 apeirogonal",params:g([0,5],[1,0,0])},{name:"Order-6 apeirogonal",params:g([0,6],[1,0,0])},{name:"Order-7 apeirogonal",params:g([0,7],[1,0,0])},{name:"Order-8 apeirogonal",params:g([0,8],[1,0,0])},{name:"Infinite Order apeirogonal",params:g([0,0],[1,0,0])},{type:"group",content:r.jsxs(r.Fragment,{children:[r.jsx(v,{type:"hyperbolic",subtype:"compact",dimensions:4})," Honeycombs compacts"]})},{name:"Icosahedral",params:f([3,5,3],[1,0,0,0])},{name:"Order-4 dodecahedral",params:f([5,3,4],[1,0,0,0])},{name:"Order-5 dodecahedral",params:f([5,3,5],[1,0,0,0],null,{grouper:"toddcoxeter"})},{name:"Alternated Order-5 cubic",params:f([[1,2,3,2],[2,1,3,2],[3,3,1,5],[2,2,5,1]],[1,0,0,0])},{name:"Tetrahedral cubic",params:f([[1,4,2,3],[4,1,3,2],[2,3,1,3],[3,2,3,1]],[1,0,0,0],null,{grouper:"toddcoxeter"})},{name:"Tetrahedral dodecahedral",params:f([[1,3,2,5],[3,1,3,2],[2,3,1,3],[5,2,3,1]],[1,0,0,0],null,{grouper:"toddcoxeter"})},{name:"Cubic octahedral",params:f([[1,3,2,4],[3,1,4,2],[2,4,1,3],[4,2,3,1]],[1,0,0,0],null,{grouper:"toddcoxeter"})},{name:"Octahedral Dodcahedral",params:f([[1,3,2,5],[3,1,4,2],[2,4,1,3],[5,2,3,1]],[1,0,0,0],null,{grouper:"toddcoxeter"})},{name:"Octahedral Icosahedral",params:f([[1,3,2,5],[3,1,5,2],[2,5,1,3],[5,2,3,1]],[1,0,0,0],null,{grouper:"toddcoxeter"})},{type:"group",content:r.jsxs(r.Fragment,{children:[r.jsx(v,{type:"hyperbolic",subtype:"paracompact",dimensions:4})," ","Honeycombs paracompacts"]})},{name:"Triangular",params:f([3,6,3],[1,0,0,0],null,{grouper:"toddcoxeter"})},{name:"Hexagonal",params:f([6,3,3],[1,0,0,0],null,{grouper:"toddcoxeter"})},{name:"Order-6 tetrahedral",params:f([3,3,6],[1,0,0,0],null,{grouper:"toddcoxeter"})},{name:"Alternated Order-6 cubic",params:f([[1,2,3,2],[2,1,3,2],[3,3,1,6],[2,2,6,1]],[1,0,0,0],null,{grouper:"toddcoxeter"})},{name:"Order-5 hexagonal",params:f([6,3,5],[1,0,0,0],null,{grouper:"toddcoxeter"})},{name:"Alternated Order-5 hexagonal",params:f([[1,2,3,2],[2,1,3,2],[3,3,1,5],[2,2,5,1]],[1,0,0,0],null,{grouper:"toddcoxeter"})},{name:"Order-6 hexagonal",params:f([6,3,6],[1,0,0,0],null,{grouper:"toddcoxeter"})},{name:"Square",params:f([4,4,3],[1,0,0,0],null,{grouper:"toddcoxeter"})},{name:"Alternated square",params:f([[1,2,4,2],[2,1,4,2],[4,4,1,3],[2,2,3,1]],[1,0,0,0],null,{grouper:"toddcoxeter"})},{name:"Order-4 square",params:f([4,4,4],[0,1,0,0],null,{grouper:"toddcoxeter"})},{name:"Tetrahedral square",params:f([[1,4,2,4],[4,1,3,2],[2,3,1,3],[4,2,3,1]],[0,1,0,0],null,{grouper:"toddcoxeter"})},{name:"Cubic square",params:f([[1,4,2,4],[4,1,3,2],[2,3,1,4],[4,2,4,1]],[1,0,0,0],null,{grouper:"toddcoxeter"})},{name:"Quarter order square",params:f([[1,4,2,4],[4,1,4,2],[2,4,1,4],[4,2,4,1]],[1,0,0,0],null,{grouper:"toddcoxeter"})},{name:"Tetrahedral Hexagonal",params:f([[1,3,2,6],[3,1,3,2],[2,3,1,3],[6,2,3,1]],[1,0,0,0],null,{grouper:"toddcoxeter"})},{name:"Octahedral Hexagonal",params:f([[1,3,2,6],[3,1,4,2],[2,4,1,3],[6,2,3,1]],[1,0,0,0],null,{grouper:"toddcoxeter"})},{name:"Icosahedral Hexagonal",params:f([[1,3,2,6],[3,1,5,2],[2,5,1,3],[6,2,3,1]],[1,0,0,0],null,{grouper:"toddcoxeter"})},{name:"Hexagonal Triangular",params:f([[1,3,2,6],[3,1,6,2],[2,6,1,3],[6,2,3,1]],[1,0,0,0],null,{grouper:"toddcoxeter"})},{name:"Alternated Hexagonal",params:f([[1,3,3,2],[3,1,3,2],[3,3,1,3],[2,2,3,1]],[1,0,0,0],null,{grouper:"toddcoxeter"})},{name:"Alternated Order-4 Hexagonal",params:f([[1,3,3,2],[3,1,3,2],[3,3,1,4],[2,2,4,1]],[1,0,0,0],null,{grouper:"toddcoxeter"})},{name:"Alternated Order-5 Hexagonal",params:f([[1,3,3,2],[3,1,3,2],[3,3,1,5],[2,2,5,1]],[1,0,0,0],null,{grouper:"toddcoxeter"})},{name:"Runcic Order-6 Hexagonal",params:f([[1,3,3,2],[3,1,3,2],[3,3,1,6],[2,2,6,1]],[1,0,0,1],null,{grouper:"toddcoxeter"})},{name:"Quarter Order-4 hexagonal",params:f([[1,3,3,2],[3,1,3,3],[3,3,1,3],[2,3,3,1]],[1,1,0,0],null,{grouper:"toddcoxeter"})},{name:"Hexagonal",params:f([[1,3,3,3],[3,1,3,3],[3,3,1,3],[3,3,3,1]],[1,1,1,1],null,{grouper:"toddcoxeter"})},{type:"group",content:r.jsxs(r.Fragment,{children:[r.jsx(v,{type:"hyperbolic",subtype:"lorentzian",level:2,dimensions:4})," ","Honeycombs lorentzians"]})},{name:"3-3-7",params:f([3,3,7],[1,0,0,0],null,{grouper:"toddcoxeter"})},{name:"3-4-7",params:f([3,3,7],[1,0,0,0],null,{grouper:"toddcoxeter"})},{name:"3-5-7",params:f([3,5,7],[1,0,0,0],null,{grouper:"toddcoxeter"})}],D=e=>{if(["string","number"].includes(typeof e))return e;if(e instanceof Array)return e.map(D).join("");if(typeof e=="object"&&e)return D(e.props.children)},X=(e,s)=>typeof e=="string"?D(e).toLowerCase().includes(s.toLowerCase()):!1,Je=d.memo(function e({name:s,params:n,search:a,subforms:t=[],sub:c=!1,onPreset:o}){const[i,u]=d.useState(!0),[p,x]=d.useState(!1);return d.useEffect(()=>{if(!a){u(!0),x(!1);return}if(X(s,a)){u(!0);return}if(t.length&&t.some(({name:h})=>X(h,a))){u(!0),x(!0);return}u(!1),x(!1)},[s,a,t]),i?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:`preset${c?" sub":""}`,onClick:()=>o(n),children:[r.jsxs("div",{className:`preset-header preset-name-${t.length?"button":"only"}`,children:[t.length?r.jsx("button",{className:`preset-toggle ${p?"open":"closed"}`,onClick:h=>{h.stopPropagation(),x(!p)},children:p?"-":"+"}):null,r.jsx("span",{className:"preset-name",children:s})]}),r.jsx(be,{coxeter:n.coxeter,mirrors:n.mirrors,stellation:n.stellation})]}),p&&t.map((h,b)=>r.jsx(e,{...h,sub:!0,search:a,onPreset:o},b))]}):null}),Xe=r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:r.jsx("path",{fill:"currentColor",d:"M7.95 19L3 12l4.95-7H21v14H7.95Zm3.45-3l2.6-2.6l2.6 2.6l1.4-1.4l-2.6-2.6L18 9.4L16.6 8L14 10.6L11.4 8L10 9.4l2.6 2.6l-2.6 2.6l1.4 1.4Z"})}),er=r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:r.jsx("path",{fill:"currentColor",d:"M6 17c0-2 4-3.1 6-3.1s6 1.1 6 3.1v1H6m9-9a3 3 0 0 1-3 3a3 3 0 0 1-3-3a3 3 0 0 1 3-3a3 3 0 0 1 3 3M3 5v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2Z"})}),rr=r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:r.jsx("path",{fill:"currentColor",d:"M6 2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6m-1 1.5L18.5 9H13m-4.07 3.22H16v7.07l-2.12-2.12L11.05 20l-2.83-2.83l2.83-2.82"})}),sr=r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:r.jsx("path",{fill:"currentColor",d:"M6.4 19L5 17.6l5.6-5.6L5 6.4L6.4 5l5.6 5.6L17.6 5L19 6.4L13.4 12l5.6 5.6l-1.4 1.4l-5.6-5.6L6.4 19Z"})});function nr({open:e,onPreset:s,onExportImage:n,closePresets:a}){const[t,c]=d.useState(""),[o,i]=d.useState(""),u=d.useCallback(p=>{i(p.target.value),B(c(p.target.value),50)},[]);return r.jsxs(r.Fragment,{children:[r.jsx("div",{className:`presets-overlay ${e?"shown":"hidden"}`,onClick:a}),r.jsx("div",{className:`presets ${e?"shown":"hidden"}`,children:r.jsxs("div",{className:"presets-modal",children:[r.jsxs("div",{className:"presets-header",children:[r.jsxs("div",{className:"presets-search",children:[r.jsx("input",{type:"text",placeholder:"Search",value:o,onChange:u}),r.jsx("button",{className:"presets-clear",onClick:()=>{c(""),i("")},children:Xe})]}),r.jsxs("div",{className:"presets-actions",children:[r.jsx("a",{className:"presets-action",href:"https://florian.mounier.dev/",children:er}),r.jsx("button",{className:"presets-action",onClick:n,children:rr}),r.jsx("button",{className:"presets-action",onClick:a,children:sr})]})]}),r.jsx("div",{className:"presets-list",children:Ye.map(({type:p,content:x,name:h,params:b,subforms:O},E)=>r.jsx(d.Fragment,{children:p==="title"?r.jsx("h2",{children:x}):p==="group"?r.jsx("h4",{children:x}):r.jsx(Je,{name:h,params:b,search:t,subforms:O,onPreset:s})},E))})]})})]})}const ar=r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",strokeWidth:"3",children:[r.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",d:"m31.376 13.781l-2.673-7.659c-1.554-4.453-7.852-4.453-9.406 0l-4.56 13.067c-.922 2.644 1.04 5.408 3.841 5.408H24"}),r.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",d:"m15.993 14.24l-8.11.175c-4.716.102-6.663 6.092-2.907 8.946l11.018 8.374c2.23 1.695 5.465.682 6.33-1.982L24 24.597"}),r.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",d:"m11.675 29.012l-2.34 7.767c-1.36 4.517 3.736 8.219 7.611 5.53l11.369-7.892c2.3-1.597 2.337-4.987.071-6.633L24 24.597"}),r.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",d:"m24.39 37.683l6.664 4.625c3.875 2.69 8.971-1.012 7.61-5.53l-3.992-13.25c-.807-2.681-4.02-3.764-6.286-2.118L24 24.597"}),r.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",d:"m36.566 28.27l6.458-4.908c3.756-2.855 1.81-8.845-2.907-8.947l-13.836-.298c-2.8-.06-4.822 2.66-3.956 5.324L24 24.597"})]}),or=r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:r.jsx("g",{id:"feTarget0",fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1",children:r.jsx("g",{id:"feTarget1",fill:"currentColor",fillRule:"nonzero",children:r.jsx("path",{id:"feTarget2",d:"M19.938 13A8.004 8.004 0 0 1 13 19.938V22h-2v-2.062A8.004 8.004 0 0 1 4.062 13H2v-2h2.062A8.004 8.004 0 0 1 11 4.062V2h2v2.062A8.004 8.004 0 0 1 19.938 11H22v2h-2.062ZM12 18a6 6 0 1 0 0-12a6 6 0 0 0 0 12Zm0-3a3 3 0 1 0 0-6a3 3 0 0 0 0 6Z"})})})}),tr=r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:r.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8.56 3.69a9 9 0 0 0-2.92 1.95M3.69 8.56A9 9 0 0 0 3 12m.69 3.44a9 9 0 0 0 1.95 2.92m2.92 1.95A9 9 0 0 0 12 21m3.44-.69a9 9 0 0 0 2.92-1.95m1.95-2.92A9 9 0 0 0 21 12m-.69-3.44a9 9 0 0 0-1.95-2.92m-2.92-1.95A9 9 0 0 0 12 3"})}),cr=r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:r.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 20.777a8.942 8.942 0 0 1-2.48-.969M14 3.223a9.003 9.003 0 0 1 0 17.554m-9.421-3.684a8.961 8.961 0 0 1-1.227-2.592M3.124 10.5c.16-.95.468-1.85.9-2.675l.169-.305m2.714-2.941A8.954 8.954 0 0 1 10 3.223"})}),lr=r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",children:r.jsx("path",{fill:"currentColor",d:"M16 6h-6l2.243-2.243C11.11 2.624 9.603 2 8 2s-3.109.624-4.243 1.757C2.624 4.89 2 6.397 2 8s.624 3.109 1.757 4.243A5.961 5.961 0 0 0 8 14a5.963 5.963 0 0 0 4.516-2.049l1.505 1.317a8 8 0 1 1-.364-10.924L16 0v6z"})}),ir=r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",children:r.jsx("path",{fill:"currentColor",d:"M8.065 2.016A.13.13 0 0 0 8.002 2v11.983l6.856.017a.12.12 0 0 0 .066-.017a.162.162 0 0 0 .054-.06a.176.176 0 0 0-.002-.183L8.12 2.073a.146.146 0 0 0-.054-.057zm-1.043-.45a1.13 1.13 0 0 1 1.96 0l6.856 11.667c.458.778-.091 1.767-.98 1.767H1.146c-.889 0-1.437-.99-.98-1.767L7.022 1.566z"})});function dr({runtime:e,params:s,rotations:n,updateParams:a,updateRotations:t}){const[c,o]=d.useState("simple"),[i,u]=d.useState(!1),p=d.useCallback(()=>{u(!1)},[]),x=d.useCallback(m=>{let{name:j,value:k}=m.target;a({[j]:k})},[a]),h=d.useCallback((m,j)=>{a({[m]:j})},[a]),b=d.useCallback(()=>o(m=>({simple:"advanced",advanced:"full",full:"empty",empty:"simple"})[m]),[]),O=d.useCallback(m=>{a(m),p()},[a,p]),E=d.useCallback(()=>{a({matrix:oe(e.spaceType,e.mirrorsPlanes,e.dimensions)})},[a,e.spaceType,e.mirrorsPlanes,e.dimensions]),C=d.useCallback(()=>{a({matrix:ae(e.dimensions)})},[a,e.dimensions]),P=d.useCallback(m=>{t("shift",(n.shift+1)%n.maxShift)},[n.maxShift,n.shift,t]),V=d.useCallback(m=>{t("auto",n.auto==="free"?"damp":"free")},[n.auto,t]),y=d.useCallback(async()=>{const m=window.prompt("Select image resolution","5000x5000");if(!m||!m.includes("x")){console.error("Invalid resolution");return}const[j,k]=m.split("x").map(F=>parseInt(F));if(isNaN(j)||isNaN(k)){console.error("Invalid resolution");return}const N=await(await Ke(()=>import("./export-902100eb.js"),[],import.meta.url)).makeBigPng(e,j,k);if(N){const F=document.createElement("a");document.body.appendChild(F),F.style.display="none";const pe=window.URL.createObjectURL(N);F.href=pe,F.download=`${document.title}-${j}x${k}`,F.click()}},[e]);return r.jsxs(r.Fragment,{children:[r.jsx(nr,{open:i,onPreset:O,onExportImage:y,closePresets:p}),r.jsxs("div",{className:e.error?"error":"",title:e.error,children:[e.currentOrder<e.order?r.jsxs("aside",{className:"processing-counter",children:[e.currentOrder,"/",e.order]}):null,["simple","advanced","full"].includes(c)?r.jsx("button",{className:"preset-button button",onClick:()=>u(m=>!m),title:"Presets",children:ir}):null,["simple","advanced","full"].includes(c)?r.jsxs("aside",{className:"controls",children:[r.jsxs("button",{className:"rotation-button button",onClick:P,title:"Rotation Mode",children:[r.jsx("div",{style:{transform:`rotate(${n.shift/n.maxShift*360}deg)`},children:lr}),r.jsx("sup",{children:n.shift+1})]}),r.jsxs("div",{className:"subcontrols",children:[r.jsx("button",{className:"button anim-view",onClick:V,title:"Animate rotations",children:n.auto==="free"?tr:n.auto==="damp"?cr:"?"}),!we(e.matrix)&&r.jsx("button",{className:"button reset-view",onClick:C,title:"Reset View",children:or}),e.curvature>0?r.jsx("button",{className:"button coxeter-plane",onClick:E,title:"CoxeterPlane",children:ar}):null]})]}):null,r.jsx("button",{className:`space-button button${e.processing?" processing":""}${c==="empty"?" empty":""}`,onClick:b,children:r.jsx(v,{...e.spaceType||{},dimensions:e.dimensions})}),["advanced","full"].includes(c)&&r.jsxs("aside",{className:"parameters",children:[(c==="full"||s.grouper!=="")&&r.jsxs("label",{className:"select-label",children:["Grouper",r.jsx("select",{name:"grouper",value:s.grouper,onChange:x,children:ye.map(m=>r.jsx("option",{value:m,children:m===""?s.grouper===""?`Auto [${e.grouper.replace(/^auto-/,"")}]`:"Auto":m.replace(/_/g," ").replace(/\b./g,j=>j.toUpperCase())},m))})]}),(c==="full"||s.grouper)&&r.jsxs("label",{className:"boolean-label",children:["inCentered",r.jsx(J,{name:"centered",allowNull:!0,value:s.centered,onChange:h})]}),(c==="full"||e.curvature<=0)&&r.jsx(S,{name:"order",label:"Precision",min:1,step:1,value:s.order,onChange:h}),r.jsx(S,{name:"segments",label:"Segments",min:1,step:1,value:s.segments,toggler:s.curve,togglerName:"curve",onChange:h}),r.jsxs("label",{className:"select-label",children:["Easing",r.jsx("select",{name:"easing",value:s.easing,onChange:x,children:ke.map(m=>r.jsx("option",{value:m,children:m.replace(/_/g," ").replace(/\b./g,j=>j.toUpperCase())},m))})]}),r.jsx(S,{name:"vertexThickness",label:"Vertices",min:0,step:1,value:s.vertexThickness,toggler:s.showVertices,togglerName:"showVertices",onChange:h}),r.jsx(S,{name:"edgeThickness",label:"Edges",min:0,step:1,value:s.edgeThickness,toggler:s.showEdges,togglerName:"showEdges",onChange:h}),(e.grouper.replace(/^auto-/,"")==="toddcoxeter"||e.grouper==="fundamental")&&r.jsxs("label",{className:"boolean-label",children:["Faces",r.jsx(J,{name:"showFaces",value:s.showFaces,onChange:h})]}),r.jsxs("label",{className:"select-label",children:["Ambiance",r.jsx("select",{name:"ambiance",value:s.ambiance,onChange:x,children:(c==="full"?Object.keys(K):Object.entries(K).filter(([m,{extended:j}])=>!j||m===s.ambiance).map(([m])=>m)).map(m=>r.jsx("option",{value:m,children:m.replace(/_/g," ").replace(/./,j=>j.toUpperCase())},m))})]})]}),["advanced","full"].includes(c)&&r.jsxs("aside",{className:"view",children:[r.jsx(S,{name:"msaaSamples",label:"MSAA",min:0,step:1,max:R.msaaSamples,value:s.msaaSamples,toggler:s.msaa,togglerName:"msaa",onChange:h}),c==="full"&&r.jsx(S,{name:"subsampling",label:"subsampling",min:.1,step:.1,value:s.subsampling,onChange:h}),s.dimensions>=3?ce(3,s.dimensions+1).map(m=>r.jsxs("div",{className:"projection",children:[r.jsx(S,{label:`${m}D FOV`,name:`fov${m}`,step:1,value:s[`fov${m}`],onChange:h}),r.jsxs("label",{className:"number",children:[r.jsxs("span",{className:"number-label",children:[m,"D Projection"]}),r.jsx("select",{name:`projection${m}`,value:s[`projection${m}`],onChange:x,children:[...Oe.filter((j,k)=>m===3||k<7)].map(j=>r.jsx("option",{value:j,children:j.replace(/_/g," ").replace(/./,k=>k.toUpperCase())},j))})]})]},m)):null]}),["simple","advanced","full"].includes(c)&&r.jsx(Ce,{dimensions:s.dimensions,coxeter:s.coxeter,mirrors:s.mirrors,stellation:s.stellation,extended:s.extended,onChange:h})]})]})}function pr({params:e,updateParams:s}){const[n,a]=d.useState({...e,currentOrder:0,askedOrder:null,spaceType:null,curvature:null,mirrorsPlanes:null,rootVertex:null,vertex:[],edge:[],ranges:[],face:[],processing:!0,error:null,renderError:null});d.useEffect(()=>{a(i=>{try{return i.gl?i:Ee(i)}catch(u){return console.error(u),{...i,error:u.message}}})},[n.gl]);const[t,c]=d.useState({shift:0,maxShift:0,combinations:[],auto:"damp"});d.useEffect(()=>{a(i=>({...i,...le({order:e.order,ambiance:e.ambiance,showVertices:e.showVertices,showEdges:e.showEdges,showFaces:e.showFaces,vertexThickness:e.vertexThickness,edgeThickness:e.edgeThickness,projection3:e.projection3,projection4:e.projection4,projection5:e.projection5,projection6:e.projection6,projection7:e.projection7,projection8:e.projection8,projection9:e.projection9,msaa:e.msaa,msaaSamples:e.msaaSamples,subsampling:e.subsampling,matrix:e.matrix,fov3:e.fov3,fov4:e.fov4,fov5:e.fov5,fov6:e.fov6,fov7:e.fov7,fov8:e.fov8,fov9:e.fov9,zoom:e.zoom,curve:e.curve,segments:e.segments,easing:e.easing,dimensions:e.dimensions,coxeter:e.coxeter,mirrors:e.mirrors,stellation:e.stellation,centered:e.centered}).params}))},[e.order,e.ambiance,e.centered,e.coxeter,e.curve,e.dimensions,e.edgeThickness,e.fov3,e.fov4,e.fov5,e.fov6,e.fov7,e.fov8,e.fov9,e.matrix,e.mirrors,e.msaa,e.msaaSamples,e.projection3,e.projection4,e.projection5,e.projection6,e.projection7,e.projection8,e.projection9,e.segments,e.easing,e.showEdges,e.showFaces,e.showVertices,e.stellation,e.subsampling,e.vertexThickness,e.zoom]),d.useEffect(()=>{c(i=>({...i,shift:0,maxShift:~~Te(Fe(e.dimensions,2)/2),combinations:Le(Se(ce(e.dimensions),2)),auto:"damp"}))},[e.dimensions]),d.useEffect(()=>{a(i=>e.grouper===""&&i.grouper.startsWith("auto-")?i:{...i,grouper:e.grouper})},[e.grouper]);const o=d.useCallback((i,u)=>{c(p=>({...p,[i]:u}))},[c]);return n.gl?r.jsxs("div",{className:n.error||n.renderError?"error":"",title:n.error||n.renderError,children:[r.jsx(dr,{runtime:n,params:e,rotations:t,updateRotations:o,updateParams:s}),r.jsx(Re,{runtime:n,rotations:t,setRuntime:a,updateRotations:o,updateParams:s})]}):null}const ee=(e=null)=>{const{location:s}=window;if(s.hash)try{return JSON.parse(atob(s.hash.slice(1)))}catch(n){console.warn(n),s.hash=""}return e},hr=e=>{window.history.pushState(null,null,"#"+btoa(JSON.stringify(e)))},W=(e,s)=>e.length!==s.length?!1:e.every((n,a)=>Array.isArray(n)?W(n,s[a]):n===s[a]),ur=()=>{const[e,s]=d.useState(ee(R)),n=d.useCallback(t=>{const c=ee();c&&(Object.entries(c).forEach(([o,i])=>{Array.isArray(i)&&W(i,e[o])&&(c[o]=e[o])}),s(c))},[e]),a=d.useCallback(t=>{s(c=>{if(!Object.entries(t).filter(([u,p])=>Array.isArray(p)?!W(p,c[u]):c[u]!==p).length)return c;const{params:o,badParams:i}=le({...c,...t},Object.keys(t),c);return i.length||hr(o),o})},[]);return d.useEffect(()=>(window.addEventListener("popstate",n),()=>{window.removeEventListener("popstate",n)}),[n]),r.jsx(pr,{params:e,updateParams:a})};Ae.createRoot(document.getElementById("root")).render(r.jsx(ur,{}));
