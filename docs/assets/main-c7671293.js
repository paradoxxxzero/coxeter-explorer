import{r as d,d as $,c as ie,a as L,s as se,m as ae,x as ne,b as N,P as q,h as de,u as pe,e as he,f as ue,g as B,p as W,i as me,j as fe,k as ge,l as xe,n as R,o as r,q as _,t as te,C as je,v as be,w as ve,y as we,N as A,z as ye,A as G,B as ke,D as Oe,E as Ce,F as Ee,G as oe,H as Te,I as Fe}from"./CoxeterDiagram-adafd141.js";class Se extends d.Component{componentDidCatch(s,a){this.props.onError(s,a)}render(){return this.props.error?null:this.props.children}}const K=.95,Z=25,F=(e,s,a,n,l,o,t)=>{const i=(h,p)=>{se(l,ae(ne(h,p,n.combinations,o,t),l))};2*a+1>n.combinations.length-1?i(e,a*2):(i(e,a*2+1),i(s,a*2))},Ae=(e,s,a,n,l,o)=>{const{code:t}=e,i=.1;if(!(e.altKey||e.ctrlKey||e.metaKey)){if(t==="ArrowLeft"||t==="KeyA")F(-i,0,0,s,a,n,l);else if(t==="ArrowRight"||t==="KeyD")F(i,0,0,s,a,n,l);else if(t==="ArrowUp"||t==="KeyW")F(0,-i,0,s,a,n,l);else if(t==="ArrowDown"||t==="KeyS")F(0,i,0,s,a,n,l);else if(t==="PageUp"||t==="KeyQ")F(-i,0,1,s,a,n,l);else if(t==="PageDown"||t==="KeyE")F(i,0,1,s,a,n,l);else if(t==="Digit1")F(0,-i,1,s,a,n,l);else if(t==="Digit3")F(0,i,1,s,a,n,l);else if(t==="KeyZ")F(-i,0,2,s,a,n,l);else if(t==="KeyC")F(i,0,2,s,a,n,l);else if(t==="ControlLeft")o("shift",(s.shift+1)%s.maxShift);else return;return!0}},Le=(e,s,a,n)=>{const l=d.useCallback($(u=>{n({matrix:u})},100),[]),o=d.useCallback(u=>n({matrix:u}),[]),t=d.useCallback($(u=>n({zoom:u}),100),[]),i=d.useRef(null),h=d.useRef({pause:new Set,speed:null}),p=d.useRef(e.matrix.map(u=>u.slice()));d.useEffect(()=>{p.current=e.matrix.map(u=>u.slice())},[e.matrix]);const x=d.useCallback(()=>{if(e.matrix._reset)return;const u=["vertex","edge","face"];for(let v=0;v<u.length;v++)e.meshes[u[v]].uniforms.matrix.update(ie(p.current))},[e.ambiance,e.camera,e.centered,e.coxeter,e.curve,e.dimensions,e.easing,e.edgeThickness,e.error,e.fov3,e.fov4,e.fov5,e.fov6,e.fov7,e.fov8,e.fov9,e.grouper,e.msaa,e.msaaSamples,e.projection,e.renderError,e.segments,e.showEdges,e.showFaces,e.showVertices,e.spaceType,e.stellation,e.subsampling,e.vertexThickness,e.zoom]);d.useEffect(()=>{h.current.speed=new Array(s.combinations.length).fill(0)},[s.combinations.length]),d.useEffect(()=>{e.matrix._reset&&(delete e.matrix._reset,h.current.speed=new Array(s.combinations.length).fill(0))},[s.combinations.length,e.matrix]),d.useEffect(()=>{e.camera.position[2]=-e.zoom,e.camera.update(),e.meshes.updateUniforms(e,!0)},[e.camera,e.zoom]),d.useEffect(()=>{const u=()=>{const{pause:m,speed:w}=h.current;let E=!1;for(let k=0;k<w.length;k++)w[k]!==0&&(E=!0,s.auto==="damp"&&(w[k]*=.96,L(w[k])<1e-4&&(w[k]=0)),(s.auto!=="damp"||!m.has(k))&&se(p.current,ae(ne(w[k],k,s.combinations,e.dimensions,e.spaceType.metric),p.current)));if(w.reduce((k,O)=>L(k)+L(O),0)===0&&!e.matrix._reset){o(p.current),i.current=null;return}E&&(x(),N(e)),i.current=requestAnimationFrame(u)};h.current.speed.reduce((m,w)=>L(m)+L(w),0)>0&&(i.current=requestAnimationFrame(u));const v=new Map;let C=null,T=null;const I=()=>{const m=v.values(),w=m.next().value,E=m.next().value;return de(w[0]-E[0],w[1]-E[1])},V=m=>{m.button!==0||m.target.tagName!=="CANVAS"||(s.auto&&(T=performance.now(),h.current.pause.add(s.shift*2),h.current.pause.add(s.shift*2+1),h.current.speed[s.shift*2]=0,h.current.speed[s.shift*2+1]=0),v.set(m.pointerId,[m.clientX,m.clientY]))},H=m=>{if(!v.has(m.pointerId))return;let w=v.get(m.pointerId);const E=[-(m.clientX-w[0])/window.innerHeight,-(m.clientY-w[1])/window.innerHeight];if(s.auto){const O=performance.now(),z=O-T;T=O;const D=[Z*E[0]/z,Z*E[1]/z];h.current.speed[s.shift*2]=D[1],h.current.speed[s.shift*2+1]=D[0],i.current||(i.current=requestAnimationFrame(u))}if(v.set(m.pointerId,[m.clientX,m.clientY]),v.size===2){if(C===null){C=I();return}const O=I();e.camera.position[2]*=C/O,e.camera.update(),e.meshes.updateUniforms(e,!0),C=O,N(e),t(-e.camera.position[2]);return}let k=s.shift;!k&&m.shiftKey?k=1:!k&&m.altKey?k=2:!k&&m.ctrKey?k=3:!k&&m.metaKey&&(k=4),v.size>2&&(k+=v.size-2),F(q*E[0],q*E[1],k,{combinations:s.combinations,auto:s.auto,shift:s.shift},p.current,e.dimensions,e.spaceType.metric),x(),l(p.current)},f=m=>{v.has(m.pointerId)&&(s.auto&&(performance.now()-T>100?(h.current.speed[s.shift*2]=0,h.current.speed[s.shift*2+1]=0):s.auto==="free"&&(h.current.speed[s.shift*2]*=.5,h.current.speed[s.shift*2+1]*=.5),h.current.pause.delete(s.shift*2),h.current.pause.delete(s.shift*2+1)),C=null,v.delete(m.pointerId))};return document.addEventListener("pointerdown",V),document.addEventListener("pointermove",H),document.addEventListener("pointerup",f),()=>{document.removeEventListener("pointerdown",V),document.removeEventListener("pointermove",H),document.removeEventListener("pointerup",f),i.current&&(cancelAnimationFrame(i.current),i.current=null)}},[s.auto,s.combinations,s.shift,e.dimensions,e.spaceType,e.camera,x,l,t]),d.useEffect(()=>{const u=v=>{v.target===document.body&&Ae(v,s,p.current,e.dimensions,e.spaceType.metric,a)&&(x(),l(p.current))};return document.addEventListener("keydown",u),()=>document.removeEventListener("keydown",u)},[x,s,e.spaceType,e.dimensions,a,l]),d.useEffect(()=>{const u=v=>{v.target.tagName==="CANVAS"&&(e.camera.position[2]*=v.deltaY<0?K:1/K,e.camera.update(),e.meshes.updateUniforms(e,!0),N(e),t(-e.camera.position[2]))};return document.addEventListener("wheel",u),()=>{document.removeEventListener("wheel",u)}},[e,t]),d.useEffect(()=>{const u=v=>{if(v.button!==0||v.target.tagName!=="CANVAS")return;const C=-e.camera.position[2],T=C<.5?5:C<2?.25:1;e.camera.position[2]=-T,e.camera.update(),e.meshes.updateUniforms(e,!0),N(e),t(T)};return document.addEventListener("dblclick",u),()=>{document.removeEventListener("dblclick",u)}},[e,t])};function Ne({runtime:e,rotations:s,updateRotations:a,updateParams:n}){return Le(e,s,a,n),null}const Ie=(e,s)=>{d.useEffect(()=>{s(a=>(pe(a),a))},[e.fov3,e.camera,s]),d.useEffect(()=>{s(a=>(a.meshes.updateGeometries(a),a))},[e.spaceType,e.curve,e.segments,s]),d.useEffect(()=>{s(a=>(a.meshes.changeArity(a.dimensions),a))},[e.dimensions,s]),d.useEffect(()=>{s(a=>(he(a),a))},[e.ambiance,e.msaa,e.msaaSamples,s]),d.useEffect(()=>{s(a=>(ue(a),a))},[e.ambiance,e.msaa,e.msaaSamples,s]),d.useEffect(()=>{s(a=>(B(a,"vertex"),B(a,"edge"),B(a,"face"),a))},[e.showVertices,e.showEdges,e.showFaces,s]),d.useEffect(()=>{s(a=>{if(!(a.currentOrder<0))try{return W(a,a.currentOrder-1),a}catch(n){return console.error(n),{...a,error:n.message}}})},[e.currentOrder,e.edge,e.face,e.ranges,e.showEdges,e.showFaces,e.showVertices,e.vertex,s]),d.useEffect(()=>{s(a=>(a.meshes.recompilePrograms(a),a))},[e.ambiance,e.dimensions,e.easing,e.projection3,e.projection4,e.projection5,e.projection6,e.projection7,e.projection8,e.projection9,e.spaceType,s]),d.useEffect(()=>{s(a=>{try{return W(a),a}catch(n){return console.error(n),{...a,error:n.message}}})},[e.ambiance,e.showEdges,e.showFaces,e.showVertices,s]),d.useEffect(()=>{s(a=>(a.meshes.updateUniforms(a),a))},[e.ambiance,e.ambiance,e.curve,e.dimensions,e.easing,e.edgeThickness,e.fov4,e.fov5,e.fov6,e.fov7,e.fov8,e.fov9,e.matrix,e.projection3,e.projection4,e.projection5,e.projection6,e.projection7,e.projection8,e.projection9,e.segments,e.spaceType,e.vertexThickness,s]),d.useEffect(()=>{const a=new ResizeObserver(()=>{N(e)});return a.observe(e.gl.canvas,{box:"content-box"}),()=>a.disconnect()},[e.ambiance,e.camera,e.centered,e.coxeter,e.currentOrder,e.curve,e.dimensions,e.easing,e.edge,e.edgeThickness,e.error,e.face,e.fov3,e.fov4,e.fov5,e.fov6,e.fov7,e.fov8,e.fov9,e.grouper,e.matrix,e.msaa,e.msaaSamples,e.projection3,e.projection4,e.projection5,e.projection6,e.projection7,e.projection8,e.projection9,e.ranges,e.renderError,e.segments,e.showEdges,e.showFaces,e.showVertices,e.spaceType,e.stellation,e.subsampling,e.vertexThickness,e.vertex,e.zoom])};function Ve({runtime:e,setRuntime:s}){return Ie(e,s),null}function He(){return new Worker(""+new URL("knuthbendix-tiling.worker-16eb0b1e.js",import.meta.url).href)}function ze(){return new Worker(""+new URL("toddcoxeter-tiling.worker-6a40176f.js",import.meta.url).href)}function Be(){return new Worker(""+new URL("fundamental.worker-12def406.js",import.meta.url).href)}let P=class ce{constructor(s,a){this.workerClass=a,this.name=s,this.init(),this.times={}}static uuid4(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,s=>{const a=Math.random()*16|0;return(s==="x"?a:a&3|8).toString(16)})}init(){this.processing=0,this.worker=new this.workerClass}kill(){this.processing>0&&(console.debug(`Killing worker ${this.name} (${this.processing})`),this.worker.terminate(),this.init())}process(s){return s.uuid=ce.uuid4(),this.processing++,this.times[s.uuid]=performance.now(),this.worker.postMessage(s),new Promise((a,n)=>{const l=t=>{if(t.data.uuid!==s.uuid)return;const i=performance.now()-this.times[s.uuid];if(delete this.times[s.uuid],console.debug(`Worker ${this.name} took ${i}ms`),this.processing--,this.worker.removeEventListener("message",l),this.worker.removeEventListener("error",o),t.data.error){n(t.data.error);return}a(t.data)},o=t=>{this.worker.removeEventListener("message",l),this.worker.removeEventListener("error",o),!(this.processing<=0)&&(delete this.times[s.uuid],this.processing--,this.processing=me(0,this.processing),console.error(`Can't call web worker ${this.name}`,t))};this.worker.addEventListener("message",l),this.worker.addEventListener("error",o)})}};const Pe=()=>Object.values(le).filter(e=>e.processing>0).forEach(e=>e.kill()),le={knuthbendix:new P("knuthbendix",He),toddcoxeter:new P("toddcoxeter",ze),fundamental:new P("fundamental",Be)},Q=async(e,s,a)=>{const n=le[e.grouper.replace(/^auto-/,"")];if(e.currentOrder===0&&(Pe(),s.current=!1),s.current===e.currentOrder){console.log("already processing at ",e.currentOrder);return}try{s.current=e.currentOrder;const{vertices:l,edges:o,faces:t,partials:i,order:h}=await n.process({order:e.currentOrder,coxeter:e.coxeter,stellation:e.stellation,metric:e.spaceType.metric,curvature:e.spaceType.curvature,mirrors:e.mirrors,rootNormals:e.rootNormals,rootVertices:e.rootVertices,dimensions:e.dimensions});s.current=!1,a(p=>p.currentOrder!==h?(console.warn("Mismatched order, ignoring",p.currentOrder,h),{...p,currentOrder:0,vertex:[],edge:[],face:[],partial:[],ranges:[],renderError:null,processing:!0,error:"Mismatch Order"}):{...p,ranges:[...p.ranges,{vertex:[p.vertex.length,p.vertex.length+l.length],edge:[p.edge.length,p.edge.length+o.length],face:[p.face.length,p.face.length+t.length]}],vertex:p.vertex.concat(l),edge:p.edge.concat(o),face:p.face.concat(t),partial:i,currentOrder:h+1,processing:!1,error:null})}catch(l){s.current=!1,console.error(l);const o={...e,currentOrder:e.order,error:l.message,processing:!1};a(o)}},$e=(e,s)=>{const a=d.useRef(!1);d.useEffect(()=>{s(n=>n.order<n.currentOrder?{...n,currentOrder:n.order}:n)},[e.order,e.currentOrder,s]),d.useEffect(()=>{s(n=>{const l=fe(n.coxeter,n.stellation),o=ge(l);if(!o)return{...n,spaceType:o};const{vertices:t,normals:i}=xe(o,n.centered),h={...n,currentOrder:0,vertex:[],edge:[],face:[],partial:[],ranges:[],spaceType:o,rootNormals:i,rootVertices:t,renderError:null,processing:!0,error:null};return Q(h,a,s),h})},[e.dimensions,e.coxeter,e.mirrors,e.stellation,e.centered,e.grouper,s]),d.useEffect(()=>{s(n=>{var l;return n.order<=n.currentOrder?n:(l=n.ranges)!=null&&l[n.order]?{...n,currentOrder:n.order,askedOrder:null}:(Q(n,a,s),{...n,error:null,processing:!0})})},[s,e.order,e.currentOrder])};function Me({runtime:e,setRuntime:s}){return $e(e,s),null}function Ue({runtime:e,setRuntime:s,rotations:a,updateRotations:n,updateParams:l}){var t;window.rt=e;const o=d.useCallback(i=>{s(h=>({...h,renderError:i.message}))},[s]);return d.useEffect(()=>()=>{var i;((i=e.spaceType)==null?void 0:i.curvature)!==null&&l({matrix:R(e.dimensions)})},[(t=e.spaceType)==null?void 0:t.curvature]),r.jsx(r.Fragment,{children:r.jsxs(Se,{error:e.renderError,onError:o,children:[r.jsx(Me,{runtime:e,setRuntime:s}),e.spaceType?r.jsxs(r.Fragment,{children:[r.jsx(Ve,{runtime:e,setRuntime:s}),r.jsx(Ne,{runtime:e,rotations:a,updateRotations:n,updateParams:l})]}):null]})})}const Re="modulepreload",_e=function(e,s){return new URL(e,s).href},Y={},De=function(s,a,n){if(!a||a.length===0)return s();const l=document.getElementsByTagName("link");return Promise.all(a.map(o=>{if(o=_e(o,n),o in Y)return;Y[o]=!0;const t=o.endsWith(".css"),i=t?'[rel="stylesheet"]':"";if(!!n)for(let x=l.length-1;x>=0;x--){const u=l[x];if(u.href===o&&(!t||u.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${i}`))return;const p=document.createElement("link");if(p.rel=t?"stylesheet":Re,t||(p.as="script",p.crossOrigin=""),p.href=o,document.head.appendChild(p),t)return new Promise((x,u)=>{p.addEventListener("load",x),p.addEventListener("error",()=>u(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>s()).catch(o=>{const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=o,window.dispatchEvent(t),!t.defaultPrevented)throw o})},qe=r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:r.jsx("g",{id:"feTarget0",fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1",children:r.jsx("g",{id:"feTarget1",fill:"currentColor",fillRule:"nonzero",children:r.jsx("path",{id:"feTarget2",d:"M19.938 13A8.004 8.004 0 0 1 13 19.938V22h-2v-2.062A8.004 8.004 0 0 1 4.062 13H2v-2h2.062A8.004 8.004 0 0 1 11 4.062V2h2v2.062A8.004 8.004 0 0 1 19.938 11H22v2h-2.062ZM12 18a6 6 0 1 0 0-12a6 6 0 0 0 0 12Zm0-3a3 3 0 1 0 0-6a3 3 0 0 0 0 6Z"})})})}),We=r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:r.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8.56 3.69a9 9 0 0 0-2.92 1.95M3.69 8.56A9 9 0 0 0 3 12m.69 3.44a9 9 0 0 0 1.95 2.92m2.92 1.95A9 9 0 0 0 12 21m3.44-.69a9 9 0 0 0 2.92-1.95m1.95-2.92A9 9 0 0 0 21 12m-.69-3.44a9 9 0 0 0-1.95-2.92m-2.92-1.95A9 9 0 0 0 12 3"})}),Ge=r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:r.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 20.777a8.942 8.942 0 0 1-2.48-.969M14 3.223a9.003 9.003 0 0 1 0 17.554m-9.421-3.684a8.961 8.961 0 0 1-1.227-2.592M3.124 10.5c.16-.95.468-1.85.9-2.675l.169-.305m2.714-2.941A8.954 8.954 0 0 1 10 3.223"})}),Ke=r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 14 14",children:r.jsxs("g",{fill:"none",stroke:"currentColor",children:[r.jsx("path",{strokeLinecap:"round",d:"M13.326 8.5a6.5 6.5 0 1 1-.558-4.5"}),r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 2v2.5H11"})]})}),Ze=r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",children:r.jsx("path",{fill:"currentColor",d:"M8.065 2.016A.13.13 0 0 0 8.002 2v11.983l6.856.017a.12.12 0 0 0 .066-.017a.162.162 0 0 0 .054-.06a.176.176 0 0 0-.002-.183L8.12 2.073a.146.146 0 0 0-.054-.057zm-1.043-.45a1.13 1.13 0 0 1 1.96 0l6.856 11.667c.458.778-.091 1.767-.98 1.767H1.146c-.889 0-1.437-.99-.98-1.767L7.022 1.566z"})});function X({allowNull:e,name:s,value:a,onChange:n,...l}){const o=d.useCallback(i=>{let{name:h,checked:p}=i.target,x;e?x=a===!1?!0:a?null:!1:x=p,n(h,x)},[e,n,a]),t=d.useRef(null);return d.useLayoutEffect(()=>{e&&t.current&&(a===null?t.current.indeterminate=!0:t.current.indeterminate=!1)},[a,e]),r.jsx("input",{type:"checkbox",ref:t,name:s,checked:a||!1,onChange:o})}function b({type:e,subtype:s,level:a,dimensions:n}){return r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"space",children:e===null||e==="indefinite"?"𝕏":e==="affine"?"𝔼":e==="finite"?"𝕊":"ℍ"}),n?r.jsx("sup",{children:n-1}):null,e==="hyperbolic"?r.jsxs("sub",{children:[{compact:" ",paracompact:"*",lorentzian:"L",superhyperbolic:"**"}[s],a]}):null]})}const Qe=(...e)=>{if(Array.isArray(e[0]))return{coxeter:e,dimensions:e.length,extended:!0};const s=e.length+1;return{coxeter:new Array(s).fill().map((n,l)=>new Array(s).fill().map((o,t)=>l===t?1:l===t+1||t===l+1?e[te(l,t)]:2)),dimensions:s}},Ye=(...e)=>{const s=e.length+1;return{stellation:new Array(s).fill().map((n,l)=>new Array(s).fill().map((o,t)=>l===t?1:l===t+1||t===l+1?e[te(l,t)]:1))}},c=(e,s,a,n)=>{const l=Qe(...e),{dimensions:o}=l,t={..._,...l,showVertices:o<=3,showFaces:o<=4,curve:o>3,grouper:"toddcoxeter",ambiance:"colorful",matrix:R(o),zoom:o<=3?2:o>4?3:5,centered:!0,...n||{}};return s?t.mirrors=s:t.mirrors=new Array(o).fill().map((i,h)=>h===0?1:0),a?t.stellation=Ye(...a).stellation:t.stellation=new Array(o).fill().map((i,h)=>new Array(o).fill(1)),t},y=e=>({...e,subforms:Object.entries(Xe(e.params.dimensions)).map(([s,a])=>({name:`${s} ${e.name}`,params:{...e.params,mirrors:a}}))}),g=(e,s,a,n)=>({...c(e,s,a),ambiance:"plain",showVertices:!1,curve:!0,zoom:1,...n}),S=(e,s,a,n)=>({...c(e,s,a),ambiance:"neon",showFaces:!1,showVertices:!1,grouper:"toddcoxeter",centered:!1,edgeThickness:10,zoom:2,...n}),j=(e,s,a,n)=>({...c(e,s,a),ambiance:"neon",showFaces:!1,showVertices:!1,curve:!0,grouper:"toddcoxeter",centered:!1,edgeThickness:10,zoom:1.5,...n}),Xe=e=>{if(e===4)return{Rectified:[0,1,0,0],Truncated:[1,1,0,0],Cantellated:[1,0,1,0],Cantitruncated:[1,1,1,0],Runcitruncated:[1,1,0,1],Runcinated:[1,0,0,1],Bitruncated:[0,1,1,0],Omnitruncated:[1,1,1,1]};if(e===5)return{Rectified:[0,1,0,0,0],Birectified:[0,0,1,0,0],Truncated:[1,1,0,0,0],Cantellated:[1,0,1,0,0],Runcinated:[1,0,0,1,0],Stericated:[1,0,0,0,1],Omnitruncated:[1,1,1,1,1]};if(e===6)return{Rectified:[0,1,0,0,0,0],Birectified:[0,0,1,0,0,0],Truncated:[1,1,0,0,0,0],Bitruncated:[0,1,1,0,0,0],Tritruncated:[0,0,1,1,0,0],Cantellated:[1,0,1,0,0,0],Bicantellated:[0,1,0,1,0,0],Runcinated:[1,0,0,1,0,0],Biruncinated:[0,1,0,0,1,0],Stericated:[1,0,0,0,1,0],Pentellated:[1,0,0,0,0,1],Omnitruncated:[1,1,1,1,1,1]};if(e===7)return{Rectified:[0,1,0,0,0,0,0],Birectified:[0,0,1,0,0,0,0],Truncated:[1,1,0,0,0,0,0],Bitruncated:[0,1,1,0,0,0,0],Tritruncated:[0,0,1,1,0,0,0],Cantellated:[1,0,1,0,0,0,0],Bicantellated:[0,1,0,1,0,0,0],Runcinated:[1,0,0,1,0,0,0],Biruncinated:[0,1,0,0,1,0,0],Stericated:[1,0,0,0,1,0,0],Pentellated:[1,0,0,0,0,1,0],Hexicated:[1,0,0,0,0,0,1],Omnitruncated:[1,1,1,1,1,1,1]};if(e===8)return{Rectified:[0,1,0,0,0,0,0,0],Birectified:[0,0,1,0,0,0,0,0],Truncated:[1,1,0,0,0,0,0,0],Bitruncated:[0,1,1,0,0,0,0,0],Tritruncated:[0,0,1,1,0,0,0,0],Quadritruncated:[0,0,0,1,1,0,0,0],Cantellated:[1,0,1,0,0,0,0,0],Bicantellated:[0,1,0,1,0,0,0,0],Tricantellated:[0,0,1,0,1,0,0,0],Runcinated:[1,0,0,1,0,0,0,0],Biruncinated:[0,1,0,0,1,0,0,0],Triruncinated:[0,0,1,0,0,1,0,0],Stericated:[1,0,0,0,1,0,0,0],Pentellated:[1,0,0,0,0,1,0,0],Hexicated:[1,0,0,0,0,0,1,0],Heptellated:[1,0,0,0,0,0,0,1],Omnitruncated:[1,1,1,1,1,1,1,1]};if(e===9)return{Rectified:[0,1,0,0,0,0,0,0,0],Birectified:[0,0,1,0,0,0,0,0,0],Truncated:[1,1,0,0,0,0,0,0,0],Bitruncated:[0,1,1,0,0,0,0,0,0],Tritruncated:[0,0,1,1,0,0,0,0,0],Quadritruncated:[0,0,0,1,1,0,0,0,0],Cantellated:[1,0,1,0,0,0,0,0,0],Bicantellated:[0,1,0,1,0,0,0,0,0],Tricantellated:[0,0,1,0,1,0,0,0,0],Runcinated:[1,0,0,1,0,0,0,0,0],Biruncinated:[0,1,0,0,1,0,0,0,0],Triruncinated:[0,0,1,0,0,1,0,0,0],Stericated:[1,0,0,0,1,0,0,0,0],Pentellated:[1,0,0,0,0,1,0,0,0],Hexicated:[1,0,0,0,0,0,1,0,0],Heptellated:[1,0,0,0,0,0,0,1,0],Octellated:[1,0,0,0,0,0,0,0,1],Omnitruncated:[1,1,1,1,1,1,1,1,1]}},Je=[{type:"title",content:r.jsxs(r.Fragment,{children:[r.jsx("span",{style:{color:"orange"},children:"★"})," Highlights"]})},{name:r.jsxs(r.Fragment,{children:[r.jsx(b,{type:"finite",dimensions:4})," Tesseract"]}),params:c([4,3,3],[1,0,0,0],null,{showVertices:!0,vertexThickness:150,showFaces:!0,curve:!0,ambiance:"neon",zoom:4.2})},{name:r.jsxs(r.Fragment,{children:[r.jsx(b,{type:"hyperbolic",dimensions:3})," 7-3-2 tiling"]}),params:g([7,3],[1,0,0],null,{showVertices:!1,showFaces:!0,curve:!0,ambiance:"neon"})},{name:r.jsxs(r.Fragment,{children:[r.jsx(b,{type:"hyperbolic",subtype:"paracompact",dimensions:3})," Ideal triangles"]}),params:g([[1,0,0],[0,1,0],[0,0,1]],[1,1,1],null,{grouper:"fundamental",showVertices:!1,showFaces:!0,curve:!0,segments:64,easing:"quartic",ambiance:"neon",centered:!0})},{name:r.jsxs(r.Fragment,{children:[r.jsx(b,{type:"finite",dimensions:8})," E6 (1",r.jsx("sub",{children:"22"}),")"]}),params:c([[1,3,2,2,2,2],[3,1,3,2,2,2],[2,3,1,3,3,2],[2,2,3,1,2,2],[2,2,3,2,1,3],[2,2,2,2,3,1]],[0,0,0,1,0,0],null,{vertexThickness:40,edgeThickness:10,ambiance:"colorful",showVertices:!0,projection3:"orthographic",projection4:"orthographic",projection5:"orthographic",projection6:"orthographic",zoom:1,centered:!1})},{name:r.jsxs(r.Fragment,{children:[r.jsx(b,{type:"finite",dimensions:8})," E8 (4",r.jsx("sub",{children:"21"}),")"]}),params:c([[1,3,2,2,2,2,2,2],[3,1,3,2,2,2,2,2],[2,3,1,3,3,2,2,2],[2,2,3,1,2,2,2,2],[2,2,3,2,1,3,2,2],[2,2,2,2,3,1,3,2],[2,2,2,2,2,3,1,3],[2,2,2,2,2,2,3,1]],[0,0,0,0,0,0,0,1],null,{vertexThickness:30,edgeThickness:1,curve:!1,ambiance:"neon",showVertices:!0,projection3:"orthographic",projection4:"orthographic",projection5:"orthographic",projection6:"orthographic",projection7:"orthographic",projection8:"orthographic",order:14,zoom:1,centered:!1})},{name:r.jsxs(r.Fragment,{children:[r.jsx(b,{type:"hyperbolic",subtype:"paracompact",dimensions:4})," Ideal tetrahedron"]}),params:g([3,3,6],[1,0,0,""],null,{showVertices:!1,showFaces:!0,curve:!0,order:1,centered:!0,segments:64,easing:"quartic",ambiance:"pure"})},{name:r.jsxs(r.Fragment,{children:[r.jsx(b,{type:"hyperbolic",subtype:"paracompact",dimensions:4})," ","Horoball"]}),params:g([6,3,4],[1,0,0,""],null,{showVertices:!1,showFaces:!0,curve:!0,order:20,centered:!1,ambiance:"colorful"})},{name:r.jsxs(r.Fragment,{children:[r.jsx(b,{type:"hyperbolic",dimensions:4})," 5-3-4 honeycomb"]}),params:j([5,3,4],[1,0,0,0],null,{zoom:1.5})},{name:r.jsxs(r.Fragment,{children:[r.jsx(b,{type:"hyperbolic",subtype:"lorentzian",level:2,dimensions:4})," ","7-3-3 paracompact honeycomb"]}),params:j([7,3,3],[1,0,0,0],null,{zoom:1.5,showFaces:!0,showVertices:!0,segments:16})},{name:r.jsxs(r.Fragment,{children:[r.jsx(b,{type:"hyperbolic",subtype:"paracompact",dimensions:4})," Ideal Pentahedron"]}),params:g([5,3,6],[1,0,0,""],null,{showVertices:!1,showFaces:!0,curve:!0,order:1,centered:!0,segments:32,easing:"quartic",ambiance:"pure",zoom:1.5})},{name:r.jsxs(r.Fragment,{children:[r.jsx(b,{type:"finite",dimensions:4})," Flat Torus"]}),params:c([32,2,32],[1,0,0,1],null,{showVertices:!1,showFaces:!1,curve:!0,ambiance:"neon",zoom:3,edgeThickness:5})},{name:r.jsxs(r.Fragment,{children:[r.jsx(b,{type:"affine",dimensions:5})," Tesseract stack"]}),params:c([[1,2,2,2,0],[2,1,2,2,2],[2,2,1,2,2],[2,2,2,1,2],[0,2,2,2,1]],[1,1,1,1,0],null,{showVertices:!1,showFaces:!0,ambiance:"neon",edgeThickness:35})},{name:r.jsxs(r.Fragment,{children:[r.jsx(b,{type:"hyperbolic",subtype:"superhyperbolic",dimensions:4})," ","Ultrahyperbolic surface (Anti-de Sitter Ads3)"]}),params:c([-1,2,-1],[1,0,0,1],null,{showVertices:!1,showFaces:!1,curve:!0,ambiance:"neon",centered:!1,edgeThickness:10,zoom:1})},{name:r.jsxs(r.Fragment,{children:[r.jsx(b,{type:"hyperbolic",subtype:"superhyperbolic",dimensions:5})," ","Ultrahyperbolic honeycomb (Anti-de Sitter Ads4)"]}),params:c([-1,3,3,-1],[1,0,0,0,1],null,{showVertices:!1,showFaces:!1,curve:!0,ambiance:"neon",centered:!1,edgeThickness:10,zoom:2})},{type:"title",content:r.jsxs(r.Fragment,{children:[r.jsx(b,{type:"finite"})," Spherical space"]})},{type:"group",content:r.jsxs(r.Fragment,{children:[r.jsx(b,{type:"finite",dimensions:3})," Polyedra"]})},{name:"Tetrahedron",params:c([3,3]),subforms:[{name:"Truncated Tetrahedron",params:c([3,3],[1,1,0])}]},{name:"Cube",params:c([4,3]),subforms:[{name:"Cuboctahedron",params:c([4,3],[0,1,0])},{name:"Truncated Cube",params:c([4,3],[1,1,0])},{name:"Rhombicuboctahedron",params:c([4,3],[1,0,1])},{name:"Truncated Octahedron",params:c([3,4],[1,1,0])},{name:"Truncated Cuboctahedron",params:c([4,3],[1,1,1])},{name:"Octahedron",params:c([3,4])}]},{name:"Dodecahedron",params:c([5,3]),subforms:[{name:"Icosidodecahedron",params:c([5,3],[0,1,0])},{name:"Truncate Dodecahedron",params:c([5,3],[1,1,0])},{name:"Rhombicosidodecahedron",params:c([5,3],[1,0,1])},{name:"Truncate Icosahedron",params:c([3,5],[1,1,0])},{name:"Truncated Icosidodecahedron",params:c([5,3],[1,1,1])},{name:"Icosahedron",params:c([3,5])}]},{name:"Snub Cube",params:c([4,3],["s","s","s"])},{name:"Snub Dodecahedron",params:c([5,3],["s","s","s"])},{name:"Great Dodecahedron",params:c([5,5],[1,0,0],[1,2])},{name:"Great Icosahedron",params:c([3,5],[1,0,0],[1,2])},{name:"Small Stellated Dodecahedron",params:c([5,5],[1,0,0],[2,1])},{name:"Great Stellated Dodecahedron",params:c([5,3],[1,0,0],[2,1])},{name:"Stellated Octahedron",params:c([2,2],["ß","ß","ß"])},{type:"group",content:r.jsxs(r.Fragment,{children:[r.jsx(b,{type:"finite",dimensions:4})," Polychora"]})},y({name:"5-cell",params:c([3,3,3])}),y({name:"8-cell",params:c([4,3,3])}),y({name:"16-cell",params:c([3,3,4])}),y({name:"24-cell",params:c([3,4,3])}),y({name:"120-cell",params:c([5,3,3])}),y({name:"600-cell",params:c([3,3,5])}),{name:"Snub 24-cell",params:c([3,4,3],["s","s",0,0])},{name:"Icosahedral 120-cell",params:c([3,5,5],[1,0,0,0],[1,1,2],{curve:!1}),subforms:[{name:"Small stellated 120-cell",params:c([3,5,5],[0,0,0,1],[1,1,2],{curve:!1})},{name:"Great 120-cell",params:c([5,5,5],[1,0,0,0],[1,2,1],{curve:!1})},{name:"Grand 120-cell",params:c([5,3,5],[1,0,0,0],[1,1,2],{curve:!1})},{name:"Great stellated 120-cell",params:c([5,3,5],[0,0,0,1],[1,1,2],{curve:!1})},{name:"Grand stellated 120-cell",params:c([5,5,5],[1,0,0,0],[2,1,2],{curve:!1})},{name:"Great grand 120-cell",params:c([5,5,3],[1,0,0,0],[1,2,1],{curve:!1})},{name:"Great icosahedral 120-cell",params:c([5,5,3],[0,0,0,1],[1,2,1],{curve:!1})},{name:"Great grand stellated 120-cell",params:c([5,3,3],[1,0,0,0],[2,1,1],{curve:!1})}]},{name:"Grand 600-cell",params:c([3,3,5],[1,0,0,0],[1,1,2],{curve:!1})},{type:"group",content:r.jsxs(r.Fragment,{children:[r.jsx(b,{type:"finite",dimensions:5})," Polytera"]})},y({name:"5-simplex",params:c([3,3,3,3])}),y({name:"5-cube",params:c([4,3,3,3])}),y({name:"5-orthoplex",params:c([3,3,3,4])}),y({name:"5-demicube",params:c([[1,2,3,2,2],[2,1,3,2,2],[3,3,1,3,2],[2,2,3,1,3],[2,2,2,3,1]])}),{type:"group",content:r.jsxs(r.Fragment,{children:[r.jsx(b,{type:"finite",dimensions:6})," Polypeta"]})},y({name:"6-simplex",params:c([3,3,3,3,3])}),y({name:"6-cube",params:c([4,3,3,3,3])}),y({name:"6-orthoplex",params:c([3,3,3,3,4])}),y({name:"6-demicube",params:c([[1,2,3,2,2,2],[2,1,3,2,2,2],[3,3,1,3,2,2],[2,2,3,1,3,2],[2,2,2,3,1,3],[2,2,2,2,3,1]])}),{name:r.jsxs(r.Fragment,{children:["2",r.jsx("sub",{children:"21"})]}),params:c([[1,3,2,2,2,2],[3,1,3,2,2,2],[2,3,1,3,3,2],[2,2,3,1,2,2],[2,2,3,2,1,3],[2,2,2,2,3,1]],[1,0,0,0,0,0])},{name:r.jsxs(r.Fragment,{children:["1",r.jsx("sub",{children:"22"})]}),params:c([[1,3,2,2,2,2],[3,1,3,2,2,2],[2,3,1,3,3,2],[2,2,3,1,2,2],[2,2,3,2,1,3],[2,2,2,2,3,1]],[0,0,0,1,0,0])},{type:"group",content:r.jsxs(r.Fragment,{children:[r.jsx(b,{type:"finite",dimensions:7})," Polyexa"]})},y({name:"7-simplex",params:c([3,3,3,3,3,3])}),y({name:"7-cube",params:c([4,3,3,3,3,3])}),y({name:"7-orthoplex",params:c([3,3,3,3,3,4])}),y({name:"7-demicube",params:c([[1,2,3,2,2,2,2],[2,1,3,2,2,2,2],[3,3,1,3,2,2,2],[2,2,3,1,3,2,2],[2,2,2,3,1,3,2],[2,2,2,2,3,1,3],[2,2,2,2,2,3,1]])}),{name:r.jsxs(r.Fragment,{children:["3",r.jsx("sub",{children:"21"})]}),params:c([[1,3,2,2,2,2,2],[3,1,3,2,2,2,2],[2,3,1,3,2,2,2],[2,2,3,1,3,3,2],[2,2,2,3,1,2,2],[2,2,2,3,2,1,3],[2,2,2,2,2,3,1]],[1,0,0,0,0,0,0])},{name:r.jsxs(r.Fragment,{children:["2",r.jsx("sub",{children:"31"})]}),params:c([[1,3,2,2,2,2,2],[3,1,3,2,2,2,2],[2,3,1,3,2,2,2],[2,2,3,1,3,3,2],[2,2,2,3,1,2,2],[2,2,2,3,2,1,3],[2,2,2,2,2,3,1]],[0,0,0,0,0,0,1])},{name:r.jsxs(r.Fragment,{children:["1",r.jsx("sub",{children:"32"})]}),params:c([[1,3,2,2,2,2,2],[3,1,3,2,2,2,2],[2,3,1,3,2,2,2],[2,2,3,1,3,3,2],[2,2,2,3,1,2,2],[2,2,2,3,2,1,3],[2,2,2,2,2,3,1]],[0,0,0,0,1,0,0])},{type:"group",content:r.jsxs(r.Fragment,{children:[r.jsx(b,{type:"finite",dimensions:8})," Polyzetta"]})},y({name:"8-simplex",params:c([3,3,3,3,3,3,3])}),y({name:"8-cube",params:c([4,3,3,3,3,3,3])}),y({name:"8-orthoplex",params:c([3,3,3,3,3,3,4])}),y({name:"8-demicube",params:c([[1,2,3,2,2,2,2,2],[2,1,3,2,2,2,2,2],[3,3,1,3,2,2,2,2],[2,2,3,1,3,2,2,2],[2,2,2,3,1,3,2,2],[2,2,2,2,3,1,3,2],[2,2,2,2,2,3,1,3],[2,2,2,2,2,2,3,1]])}),{name:r.jsxs(r.Fragment,{children:["1",r.jsx("sub",{children:"42"})]}),params:c([[1,3,2,2,2,2,2,2],[3,1,3,2,2,2,2,2],[2,3,1,3,3,2,2,2],[2,2,3,1,2,2,2,2],[2,2,3,2,1,3,2,2],[2,2,2,2,3,1,3,2],[2,2,2,2,2,3,1,3],[2,2,2,2,2,2,3,1]],[0,0,1,0,0,0,0,0])},{name:r.jsxs(r.Fragment,{children:["2",r.jsx("sub",{children:"41"})]}),params:c([[1,3,2,2,2,2,2,2],[3,1,3,2,2,2,2,2],[2,3,1,3,3,2,2,2],[2,2,3,1,2,2,2,2],[2,2,3,2,1,3,2,2],[2,2,2,2,3,1,3,2],[2,2,2,2,2,3,1,3],[2,2,2,2,2,2,3,1]],[1,0,0,0,0,0,0,0])},{name:r.jsxs(r.Fragment,{children:["4",r.jsx("sub",{children:"21"})]}),params:c([[1,3,2,2,2,2,2,2],[3,1,3,2,2,2,2,2],[2,3,1,3,3,2,2,2],[2,2,3,1,2,2,2,2],[2,2,3,2,1,3,2,2],[2,2,2,2,3,1,3,2],[2,2,2,2,2,3,1,3],[2,2,2,2,2,2,3,1]],[0,0,0,0,0,0,0,1])},{type:"group",content:r.jsxs(r.Fragment,{children:[r.jsx(b,{type:"finite",dimensions:9}),"Polyyotta"]})},y({name:"9-simplex",params:c([3,3,3,3,3,3,3,3])}),y({name:"9-cube",params:c([4,3,3,3,3,3,3,3])}),y({name:"9-orthoplex",params:c([3,3,3,3,3,3,3,4])}),y({name:"9-demicube",params:c([[1,2,3,2,2,2,2,2,2],[2,1,3,2,2,2,2,2,2],[3,3,1,3,2,2,2,2,2],[2,2,3,1,3,2,2,2,2],[2,2,2,3,1,3,2,2,2],[2,2,2,2,3,1,3,2,2],[2,2,2,2,2,3,1,3,2],[2,2,2,2,2,2,3,1,3],[2,2,2,2,2,2,2,3,1]])}),{type:"title",content:r.jsxs(r.Fragment,{children:[r.jsx(b,{type:"affine"})," Euclidean space"]})},{type:"group",content:r.jsxs(r.Fragment,{children:[r.jsx(b,{type:"affine",dimensions:3})," Tilings"]})},{name:"Triangle",params:c([[1,3,3],[3,1,3],[3,3,1]],[1,0,0])},{name:"Square",params:c([4,4],[1,0,0])},{name:"Hexagonal",params:c([6,3],[1,0,0])},{type:"group",content:r.jsxs(r.Fragment,{children:[r.jsx(b,{type:"affine",dimensions:4})," Honeycombs"]})},{name:"Cubic",params:S([4,3,4],[1,0,0,0])},{name:"Octet",params:S([[1,3,2,2],[3,1,3,4],[2,3,1,2],[2,4,2,1]],[1,0,0,0])},{name:"Quarter cubic",params:S([[1,3,2,3],[3,1,3,2],[2,3,1,3],[3,2,3,1]],[1,0,0,1])},{type:"group",content:r.jsxs(r.Fragment,{children:[r.jsx(b,{type:"affine",dimensions:5})," 4-Honeycombs"]})},{name:"Tesseractic",params:S([4,3,3,4],[1,0,0,0,0])},{name:"16-cellic",params:S([3,3,4,3],[1,0,0,0,0],null,{grouper:"toddcoxeter"})},{name:"24-cellic",params:S([3,4,3,3],[1,0,0,0,0],null,{grouper:"toddcoxeter"})},{name:"4-simpletic",params:S([[1,3,2,2,3],[3,1,3,2,2],[2,3,1,3,2],[2,2,3,1,3],[3,2,2,3,1]],[1,0,0,0,0],null,{grouper:"toddcoxeter"})},{name:"Quarter tesseractic",params:S([[1,2,3,2,2],[2,1,3,2,2],[3,3,1,3,3],[2,2,3,1,2],[2,2,3,2,1]],[1,0,0,1,0],null,{grouper:"toddcoxeter"})},{type:"title",content:r.jsxs(r.Fragment,{children:[r.jsx(b,{type:"hyperbolic"})," Hyperbolic space"]})},{type:"group",content:r.jsxs(r.Fragment,{children:[r.jsx(b,{type:"hyperbolic",dimensions:3})," Tilings"]})},{name:"Order-7 triangular",params:g([3,7],[1,0,0])},{name:"Order-8 triangular",params:g([3,8],[1,0,0])},{name:"Infinite Order triangular",params:g([3,0],[1,0,0])},{name:"Order-5 square",params:g([4,5],[1,0,0])},{name:"Order-6 square",params:g([4,6],[1,0,0])},{name:"Order-7 square",params:g([4,7],[1,0,0])},{name:"Order-8 square",params:g([4,8],[1,0,0])},{name:"Infinite Order square",params:g([4,0],[1,0,0])},{name:"Order-4 pentagonal",params:g([5,4],[1,0,0])},{name:"Order-5 pentagonal",params:g([5,5],[1,0,0])},{name:"Order-6 pentagonal",params:g([5,6],[1,0,0])},{name:"Order-7 pentagonal",params:g([5,7],[1,0,0])},{name:"Order-8 pentagonal",params:g([5,8],[1,0,0])},{name:"Infinite Order pentagonal",params:g([5,0],[1,0,0])},{name:"Order-4 hexagonal",params:g([6,4],[1,0,0])},{name:"Order-5 hexagonal",params:g([6,5],[1,0,0])},{name:"Order-6 hexagonal",params:g([6,6],[1,0,0])},{name:"Order-7 hexagonal",params:g([6,7],[1,0,0])},{name:"Order-8 hexagonal",params:g([6,8],[1,0,0])},{name:"Infinite Order hexagonal",params:g([6,0],[1,0,0])},{name:"Order-3 heptagonal",params:g([7,3],[1,0,0])},{name:"Order-4 heptagonal",params:g([7,4],[1,0,0])},{name:"Order-5 heptagonal",params:g([7,5],[1,0,0])},{name:"Order-6 heptagonal",params:g([7,6],[1,0,0])},{name:"Order-7 heptagonal",params:g([7,7],[1,0,0])},{name:"Order-8 heptagonal",params:g([7,8],[1,0,0])},{name:"Infinite Order heptagonal",params:g([7,0],[1,0,0])},{name:"Order-3 octagonal",params:g([8,3],[1,0,0])},{name:"Order-4 octagonal",params:g([8,4],[1,0,0])},{name:"Order-5 octagonal",params:g([8,5],[1,0,0])},{name:"Order-6 octagonal",params:g([8,6],[1,0,0])},{name:"Order-7 octagonal",params:g([8,7],[1,0,0])},{name:"Order-8 octagonal",params:g([8,8],[1,0,0])},{name:"Infinite Order octagonal",params:g([8,0],[1,0,0])},{name:"Order-3 apeirogonal",params:g([0,3],[1,0,0])},{name:"Order-4 apeirogonal",params:g([0,4],[1,0,0])},{name:"Order-5 apeirogonal",params:g([0,5],[1,0,0])},{name:"Order-6 apeirogonal",params:g([0,6],[1,0,0])},{name:"Order-7 apeirogonal",params:g([0,7],[1,0,0])},{name:"Order-8 apeirogonal",params:g([0,8],[1,0,0])},{name:"Infinite Order apeirogonal",params:g([0,0],[1,0,0])},{type:"group",content:r.jsxs(r.Fragment,{children:[r.jsx(b,{type:"hyperbolic",subtype:"compact",dimensions:4})," Honeycombs compacts"]})},{name:"Icosahedral",params:j([3,5,3],[1,0,0,0])},{name:"Order-4 dodecahedral",params:j([5,3,4],[1,0,0,0])},{name:"Order-5 dodecahedral",params:j([5,3,5],[1,0,0,0],null,{grouper:"toddcoxeter"})},{name:"Alternated Order-5 cubic",params:j([[1,2,3,2],[2,1,3,2],[3,3,1,5],[2,2,5,1]],[1,0,0,0])},{name:"Tetrahedral cubic",params:j([[1,4,2,3],[4,1,3,2],[2,3,1,3],[3,2,3,1]],[1,0,0,0],null,{grouper:"toddcoxeter"})},{name:"Tetrahedral dodecahedral",params:j([[1,3,2,5],[3,1,3,2],[2,3,1,3],[5,2,3,1]],[1,0,0,0],null,{grouper:"toddcoxeter"})},{name:"Cubic octahedral",params:j([[1,3,2,4],[3,1,4,2],[2,4,1,3],[4,2,3,1]],[1,0,0,0],null,{grouper:"toddcoxeter"})},{name:"Octahedral Dodcahedral",params:j([[1,3,2,5],[3,1,4,2],[2,4,1,3],[5,2,3,1]],[1,0,0,0],null,{grouper:"toddcoxeter"})},{name:"Octahedral Icosahedral",params:j([[1,3,2,5],[3,1,5,2],[2,5,1,3],[5,2,3,1]],[1,0,0,0],null,{grouper:"toddcoxeter"})},{type:"group",content:r.jsxs(r.Fragment,{children:[r.jsx(b,{type:"hyperbolic",subtype:"paracompact",dimensions:4})," ","Honeycombs paracompacts"]})},{name:"Triangular",params:j([3,6,3],[1,0,0,0],null,{grouper:"toddcoxeter"})},{name:"Hexagonal",params:j([6,3,3],[1,0,0,0],null,{grouper:"toddcoxeter"})},{name:"Order-6 tetrahedral",params:j([3,3,6],[1,0,0,0],null,{grouper:"toddcoxeter"})},{name:"Alternated Order-6 cubic",params:j([[1,2,3,2],[2,1,3,2],[3,3,1,6],[2,2,6,1]],[1,0,0,0],null,{grouper:"toddcoxeter"})},{name:"Order-5 hexagonal",params:j([6,3,5],[1,0,0,0],null,{grouper:"toddcoxeter"})},{name:"Alternated Order-5 hexagonal",params:j([[1,2,3,2],[2,1,3,2],[3,3,1,5],[2,2,5,1]],[1,0,0,0],null,{grouper:"toddcoxeter"})},{name:"Order-6 hexagonal",params:j([6,3,6],[1,0,0,0],null,{grouper:"toddcoxeter"})},{name:"Square",params:j([4,4,3],[1,0,0,0],null,{grouper:"toddcoxeter"})},{name:"Alternated square",params:j([[1,2,4,2],[2,1,4,2],[4,4,1,3],[2,2,3,1]],[1,0,0,0],null,{grouper:"toddcoxeter"})},{name:"Order-4 square",params:j([4,4,4],[0,1,0,0],null,{grouper:"toddcoxeter"})},{name:"Tetrahedral square",params:j([[1,4,2,4],[4,1,3,2],[2,3,1,3],[4,2,3,1]],[0,1,0,0],null,{grouper:"toddcoxeter"})},{name:"Cubic square",params:j([[1,4,2,4],[4,1,3,2],[2,3,1,4],[4,2,4,1]],[1,0,0,0],null,{grouper:"toddcoxeter"})},{name:"Quarter order square",params:j([[1,4,2,4],[4,1,4,2],[2,4,1,4],[4,2,4,1]],[1,0,0,0],null,{grouper:"toddcoxeter"})},{name:"Tetrahedral Hexagonal",params:j([[1,3,2,6],[3,1,3,2],[2,3,1,3],[6,2,3,1]],[1,0,0,0],null,{grouper:"toddcoxeter"})},{name:"Octahedral Hexagonal",params:j([[1,3,2,6],[3,1,4,2],[2,4,1,3],[6,2,3,1]],[1,0,0,0],null,{grouper:"toddcoxeter"})},{name:"Icosahedral Hexagonal",params:j([[1,3,2,6],[3,1,5,2],[2,5,1,3],[6,2,3,1]],[1,0,0,0],null,{grouper:"toddcoxeter"})},{name:"Hexagonal Triangular",params:j([[1,3,2,6],[3,1,6,2],[2,6,1,3],[6,2,3,1]],[1,0,0,0],null,{grouper:"toddcoxeter"})},{name:"Alternated Hexagonal",params:j([[1,3,3,2],[3,1,3,2],[3,3,1,3],[2,2,3,1]],[1,0,0,0],null,{grouper:"toddcoxeter"})},{name:"Alternated Order-4 Hexagonal",params:j([[1,3,3,2],[3,1,3,2],[3,3,1,4],[2,2,4,1]],[1,0,0,0],null,{grouper:"toddcoxeter"})},{name:"Alternated Order-5 Hexagonal",params:j([[1,3,3,2],[3,1,3,2],[3,3,1,5],[2,2,5,1]],[1,0,0,0],null,{grouper:"toddcoxeter"})},{name:"Runcic Order-6 Hexagonal",params:j([[1,3,3,2],[3,1,3,2],[3,3,1,6],[2,2,6,1]],[1,0,0,1],null,{grouper:"toddcoxeter"})},{name:"Quarter Order-4 hexagonal",params:j([[1,3,3,2],[3,1,3,3],[3,3,1,3],[2,3,3,1]],[1,1,0,0],null,{grouper:"toddcoxeter"})},{name:"Hexagonal",params:j([[1,3,3,3],[3,1,3,3],[3,3,1,3],[3,3,3,1]],[1,1,1,1],null,{grouper:"toddcoxeter"})},{type:"group",content:r.jsxs(r.Fragment,{children:[r.jsx(b,{type:"hyperbolic",subtype:"lorentzian",level:2,dimensions:4})," ","Honeycombs lorentzians"]})},{name:"3-3-7",params:j([3,3,7],[1,0,0,0],null,{grouper:"toddcoxeter"})},{name:"3-4-7",params:j([3,3,7],[1,0,0,0],null,{grouper:"toddcoxeter"})},{name:"3-5-7",params:j([3,5,7],[1,0,0,0],null,{grouper:"toddcoxeter"})}],M=e=>{if(["string","number"].includes(typeof e))return e;if(e instanceof Array)return e.map(M).join("");if(typeof e=="object"&&e)return M(e.props.children)},J=(e,s)=>typeof e=="string"?M(e).toLowerCase().includes(s.toLowerCase()):!1,er=d.memo(function e({name:s,params:a,search:n,subforms:l=[],sub:o=!1,onPreset:t}){const[i,h]=d.useState(!0),[p,x]=d.useState(!1);return d.useEffect(()=>{if(!n){h(!0),x(!1);return}if(J(s,n)){h(!0);return}if(l.length&&l.some(({name:u})=>J(u,n))){h(!0),x(!0);return}h(!1),x(!1)},[s,n,l]),i?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:`preset${o?" sub":""}`,onClick:()=>t(a),children:[r.jsxs("div",{className:`preset-header preset-name-${l.length?"button":"only"}`,children:[l.length?r.jsx("button",{className:`preset-toggle ${p?"open":"closed"}`,onClick:u=>{u.stopPropagation(),x(!p)},children:p?"-":"+"}):null,r.jsx("span",{className:"preset-name",children:s})]}),r.jsx(je,{coxeter:a.coxeter,mirrors:a.mirrors,stellation:a.stellation})]}),p&&l.map((u,v)=>r.jsx(e,{...u,sub:!0,search:n,onPreset:t},v))]}):null}),rr=r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:r.jsx("path",{fill:"currentColor",d:"M7.95 19L3 12l4.95-7H21v14H7.95Zm3.45-3l2.6-2.6l2.6 2.6l1.4-1.4l-2.6-2.6L18 9.4L16.6 8L14 10.6L11.4 8L10 9.4l2.6 2.6l-2.6 2.6l1.4 1.4Z"})}),sr=r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:r.jsx("path",{fill:"currentColor",d:"M6 17c0-2 4-3.1 6-3.1s6 1.1 6 3.1v1H6m9-9a3 3 0 0 1-3 3a3 3 0 0 1-3-3a3 3 0 0 1 3-3a3 3 0 0 1 3 3M3 5v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2Z"})}),ar=r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:r.jsx("path",{fill:"currentColor",d:"M6 2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6m-1 1.5L18.5 9H13m-4.07 3.22H16v7.07l-2.12-2.12L11.05 20l-2.83-2.83l2.83-2.82"})}),nr=r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:r.jsx("path",{fill:"currentColor",d:"M6.4 19L5 17.6l5.6-5.6L5 6.4L6.4 5l5.6 5.6L17.6 5L19 6.4L13.4 12l5.6 5.6l-1.4 1.4l-5.6-5.6L6.4 19Z"})});function tr({open:e,onPreset:s,onExportImage:a,closePresets:n}){const[l,o]=d.useState(""),[t,i]=d.useState(""),h=d.useCallback(p=>{i(p.target.value),$(o(p.target.value),50)},[]);return r.jsxs(r.Fragment,{children:[r.jsx("div",{className:`presets-overlay ${e?"shown":"hidden"}`,onClick:n}),r.jsx("div",{className:`presets ${e?"shown":"hidden"}`,children:r.jsxs("div",{className:"presets-modal",children:[r.jsxs("div",{className:"presets-header",children:[r.jsxs("div",{className:"presets-search",children:[r.jsx("input",{type:"text",placeholder:"Search",value:t,onChange:h}),r.jsx("button",{className:"presets-clear",onClick:()=>{o(""),i("")},children:rr})]}),r.jsxs("div",{className:"presets-actions",children:[r.jsx("a",{className:"presets-action",href:"https://florian.mounier.dev/",children:sr}),r.jsx("button",{className:"presets-action",onClick:a,children:ar}),r.jsx("button",{className:"presets-action",onClick:n,children:nr})]})]}),r.jsx("div",{className:"presets-list",children:Je.map(({type:p,content:x,name:u,params:v,subforms:C},T)=>r.jsx(d.Fragment,{children:p==="title"?r.jsx("h2",{children:x}):p==="group"?r.jsx("h4",{children:x}):r.jsx(er,{name:u,params:v,search:l,subforms:C,onPreset:s})},T))})]})})]})}const ee=d.memo(function({rotations:s,spaceType:a,axis:n}){if(!a)return null;const l=a.gram.length,o=s.shift*2+n;if(o>=s.combinations.length)return null;let t=s.combinations[o];const i=t.some(x=>x<0)?"parabolic":t.some(x=>a.eigens.values[x]<0)?"hyperbolic":t.some(x=>a.eigens.values[x]===0)?"translation":"spheric",h=be.slice(0,l).split(""),p=i==="parabolic"?t.map(x=>h[L(x)]).join("->"):h.filter((x,u)=>!t.includes(u));return r.jsxs("aside",{className:`${n?"y":"x"}-rotation`,children:[p,i==="parabolic"?r.jsx("sup",{children:"∞"}):i==="hyperbolic"?r.jsx("sup",{children:"†"}):i==="translation"?r.jsx("sup",{children:"0"}):""]})});function or({runtime:e,params:s,rotations:a,updateParams:n,updateRotations:l}){const[o,t]=d.useState("simple"),[i,h]=d.useState(!1),p=d.useCallback(()=>{h(!1)},[]),x=d.useCallback(f=>{let{name:m,value:w}=f.target;n({[m]:w})},[n]),u=d.useCallback((f,m)=>{n({[f]:m})},[n]),v=d.useCallback(()=>t(f=>({simple:"advanced",advanced:"full",full:"empty",empty:"simple"})[f]),[]),C=d.useCallback(f=>{n(f),p()},[n,p]),T=d.useCallback(()=>{const f=R(e.dimensions);f._reset=!0,n({matrix:f})},[n,e.dimensions]),I=d.useCallback(f=>{l("shift",(a.shift+1)%a.maxShift)},[a.maxShift,a.shift,l]),V=d.useCallback(f=>{l("auto",a.auto==="free"?"damp":"free")},[a.auto,l]),H=d.useCallback(async()=>{const f=window.prompt("Select image resolution","5000x5000");if(!f||!f.includes("x")){console.error("Invalid resolution");return}const[m,w]=f.split("x").map(O=>parseInt(O));if(isNaN(m)||isNaN(w)){console.error("Invalid resolution");return}const k=await(await De(()=>import("./export-902100eb.js"),[],import.meta.url)).makeBigPng(e,m,w);if(k){const O=document.createElement("a");document.body.appendChild(O),O.style.display="none";const z=window.URL.createObjectURL(k);O.href=z,O.download=`${document.title}-${m}x${w}`,O.click()}},[e]);return r.jsxs(r.Fragment,{children:[r.jsx(tr,{open:i,onPreset:C,onExportImage:H,closePresets:p}),r.jsxs("div",{className:e.error?"error":"",title:e.error,children:[e.currentOrder<e.order?r.jsxs("aside",{className:"processing-counter",children:[e.currentOrder,"/",e.order]}):null,["simple","advanced","full"].includes(o)?r.jsx("button",{className:"preset-button button",onClick:()=>h(f=>!f),title:"Presets",children:Ze}):null,["simple","advanced","full"].includes(o)?r.jsxs("aside",{className:"controls",children:[r.jsxs("button",{className:"rotation-button button",onClick:I,title:"Rotation Mode",children:[r.jsx("div",{className:"rotation",style:{transform:`rotate(${a.shift/a.maxShift*360}deg)`},children:Ke}),r.jsx("sup",{children:a.shift+1}),r.jsx(ee,{rotations:a,spaceType:e.spaceType,axis:0}),r.jsx(ee,{rotations:a,spaceType:e.spaceType,axis:1})]}),r.jsxs("div",{className:"subcontrols",children:[r.jsx("button",{className:"button anim-view",onClick:V,title:"Animate rotations",children:a.auto==="free"?We:a.auto==="damp"?Ge:"?"}),!ve(e.matrix)&&r.jsx("button",{className:"button reset-view",onClick:T,title:"Reset View",children:qe})]})]}):null,r.jsx("button",{className:`space-button button${e.processing?" processing":""}${o==="empty"?" empty":""}`,onClick:v,children:r.jsx(b,{...e.spaceType||{},dimensions:e.dimensions})}),["advanced","full"].includes(o)&&r.jsxs("aside",{className:"parameters",children:[o==="full"&&r.jsxs("label",{className:"select-label",children:["Grouper",r.jsx("select",{name:"grouper",value:s.grouper,onChange:x,children:we.map(f=>r.jsx("option",{value:f,children:f.replace(/_/g," ").replace(/\b./g,m=>m.toUpperCase())},f))})]}),r.jsxs("label",{className:"boolean-label",children:["inCentered",r.jsx(X,{name:"centered",allowNull:!0,value:s.centered,onChange:u})]}),(o==="full"||e.spaceType.curvature<=0)&&r.jsx(A,{name:"order",label:"Precision",min:1,step:1,value:s.order,onChange:u}),r.jsx(A,{name:"segments",label:"Segments",min:1,step:1,value:s.segments,toggler:s.curve,togglerName:"curve",onChange:u}),r.jsxs("label",{className:"select-label",children:["Easing",r.jsx("select",{name:"easing",value:s.easing,onChange:x,children:ye.map(f=>r.jsx("option",{value:f,children:f.replace(/_/g," ").replace(/\b./g,m=>m.toUpperCase())},f))})]}),r.jsx(A,{name:"vertexThickness",label:"Vertices",min:0,step:1,value:s.vertexThickness,toggler:s.showVertices,togglerName:"showVertices",onChange:u}),r.jsx(A,{name:"edgeThickness",label:"Edges",min:0,step:1,value:s.edgeThickness,toggler:s.showEdges,togglerName:"showEdges",onChange:u}),["toddcoxeter","fundamental"].includes(e.grouper)&&r.jsxs("label",{className:"boolean-label",children:["Faces",r.jsx(X,{name:"showFaces",value:s.showFaces,onChange:u})]}),r.jsxs("label",{className:"select-label",children:["Ambiance",r.jsx("select",{name:"ambiance",value:s.ambiance,onChange:x,children:(o==="full"?Object.keys(G):Object.entries(G).filter(([f,{extended:m}])=>!m||f===s.ambiance).map(([f])=>f)).map(f=>r.jsx("option",{value:f,children:f.replace(/_/g," ").replace(/./,m=>m.toUpperCase())},f))})]})]}),["advanced","full"].includes(o)&&r.jsxs("aside",{className:"view",children:[r.jsx(A,{name:"msaaSamples",label:"MSAA",min:0,step:1,max:_.msaaSamples,value:s.msaaSamples,toggler:s.msaa,togglerName:"msaa",onChange:u}),o==="full"&&r.jsx(A,{name:"subsampling",label:"subsampling",min:.1,step:.1,value:s.subsampling,onChange:u}),s.dimensions>=3?ke(3,s.dimensions+1).map(f=>r.jsxs("div",{className:"projection",children:[r.jsx(A,{label:`${f}D FOV`,name:`fov${f}`,step:1,value:s[`fov${f}`],onChange:u}),r.jsxs("label",{className:"number",children:[r.jsxs("span",{className:"number-label",children:[f,"D Projection"]}),r.jsx("select",{name:`projection${f}`,value:s[`projection${f}`],onChange:x,children:[...Oe.filter((m,w)=>f===3||w<7)].map(m=>r.jsx("option",{value:m,children:m.replace(/_/g," ").replace(/./,w=>w.toUpperCase())},m))})]})]},f)):null]}),["simple","advanced","full"].includes(o)&&r.jsx(Ce,{dimensions:s.dimensions,coxeter:s.coxeter,mirrors:s.mirrors,stellation:s.stellation,extended:s.extended,onChange:u})]})]})}function cr({params:e,updateParams:s}){const[a,n]=d.useState({...e,currentOrder:0,askedOrder:null,spaceType:null,rootNormals:null,rootVertices:null,vertex:[],edge:[],ranges:[],face:[],processing:!0,error:null,renderError:null});d.useEffect(()=>{n(i=>{try{return i.gl?i:Ee(i)}catch(h){return console.error(h),{...i,error:h.message}}})},[a.gl]);const[l,o]=d.useState({shift:0,maxShift:0,combinations:[],auto:"damp"});d.useEffect(()=>{n(i=>({...i,...oe({order:e.order,ambiance:e.ambiance,showVertices:e.showVertices,showEdges:e.showEdges,showFaces:e.showFaces,vertexThickness:e.vertexThickness,edgeThickness:e.edgeThickness,projection3:e.projection3,projection4:e.projection4,projection5:e.projection5,projection6:e.projection6,projection7:e.projection7,projection8:e.projection8,projection9:e.projection9,msaa:e.msaa,msaaSamples:e.msaaSamples,subsampling:e.subsampling,matrix:e.matrix,fov3:e.fov3,fov4:e.fov4,fov5:e.fov5,fov6:e.fov6,fov7:e.fov7,fov8:e.fov8,fov9:e.fov9,zoom:e.zoom,curve:e.curve,segments:e.segments,easing:e.easing,dimensions:e.dimensions,coxeter:e.coxeter,mirrors:e.mirrors,stellation:e.stellation,centered:e.centered}).params}))},[e.order,e.ambiance,e.centered,e.coxeter,e.curve,e.dimensions,e.edgeThickness,e.fov3,e.fov4,e.fov5,e.fov6,e.fov7,e.fov8,e.fov9,e.matrix,e.mirrors,e.msaa,e.msaaSamples,e.projection3,e.projection4,e.projection5,e.projection6,e.projection7,e.projection8,e.projection9,e.segments,e.easing,e.showEdges,e.showFaces,e.showVertices,e.stellation,e.subsampling,e.vertexThickness,e.zoom]),d.useEffect(()=>{a.spaceType&&o(i=>({...i,shift:0,...Te(e.dimensions,a.spaceType)}))},[e.dimensions,a.spaceType]),d.useEffect(()=>{n(i=>e.grouper===""&&i.grouper.startsWith("auto-")?i:{...i,grouper:e.grouper})},[e.grouper]);const t=d.useCallback((i,h)=>{o(p=>({...p,[i]:h}))},[o]);return a.gl?r.jsxs("div",{className:a.error||a.renderError?"error":"",title:a.error||a.renderError,children:[r.jsx(or,{runtime:a,params:e,rotations:l,updateRotations:t,updateParams:s}),r.jsx(Ue,{runtime:a,rotations:l,setRuntime:n,updateRotations:t,updateParams:s})]}):null}const re=(e=null)=>{const{location:s}=window;if(s.hash)try{return JSON.parse(atob(s.hash.slice(1)))}catch(a){console.warn(a),s.hash=""}return e},lr=e=>{window.history.pushState(null,null,"#"+btoa(JSON.stringify(e)))},U=(e,s)=>e.length!==s.length?!1:e.every((a,n)=>Array.isArray(a)?U(a,s[n]):a===s[n]),ir=()=>{const[e,s]=d.useState(re(_)),a=d.useCallback(l=>{const o=re();o&&(Object.entries(o).forEach(([t,i])=>{Array.isArray(i)&&U(i,e[t])&&(o[t]=e[t])}),s(o))},[e]),n=d.useCallback(l=>{s(o=>{if(!Object.entries(l).filter(([h,p])=>Array.isArray(p)?!U(p,o[h]):o[h]!==p).length)return o;const{params:t,badParams:i}=oe({...o,...l},Object.keys(l));return i.length||lr(t),t})},[]);return d.useEffect(()=>(window.addEventListener("popstate",a),()=>{window.removeEventListener("popstate",a)}),[a]),r.jsx(cr,{params:e,updateParams:n})};Fe.createRoot(document.getElementById("root")).render(r.jsx(ir,{}));
